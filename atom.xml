<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>9032676&#39;s Blog</title>
  
  <subtitle>ä¸ºæ¢ç´¢è€Œç”Ÿ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://a9032676.github.io/"/>
  <updated>2021-03-02T06:05:13.550Z</updated>
  <id>https://a9032676.github.io/</id>
  
  <author>
    <name>9032676</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Yoneda Lemma çš„è¯æ˜</title>
    <link href="https://a9032676.github.io/2021/01/22/Yoneda-Lemma/"/>
    <id>https://a9032676.github.io/2021/01/22/Yoneda-Lemma/</id>
    <published>2021-01-21T16:29:00.000Z</published>
    <updated>2021-03-02T06:05:13.550Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é˜…è¯»é¡»çŸ¥">é˜…è¯»é¡»çŸ¥</h2><ul><li>æœ¬ç¯‡æ–‡ç« é¢å‘äººç¾¤æ˜¯æ¥è§¦è¿‡ Category theory (èŒƒç•´è®º) ä»¥åŠ å‡½æ•°å¼ç¼–ç¨‹ï¼Œä½†æœªæ›¾æ¥è§¦è¿‡ Yoneda Lemma (ç±³ç”°å¼•ç†) çš„è¯»è€…é£Ÿç”¨ã€‚</li><li>é€šç¯‡å¯¹äºèŒƒç•´è®ºå†…çš„ä¸“æœ‰åè¯ä¸€å¾‹é‡‡ç”¨äº†è‹±æ–‡è¯æ±‡çš„å½¢å¼è¡¨è¾¾ï¼Œä»¥é˜²ä¸­æ–‡ç¿»è¯‘å„ç±»å‹æ–‡ç« ä¸ç»Ÿä¸€ï¼Œå¯èƒ½å­˜åœ¨è¯¯å¯¼æ€§ã€‚</li><li>æ–‡ç« ä¸­å¯èƒ½ä¼šå­˜åœ¨ä¸€äº› Agda æˆ– Haskell è¯­è¨€çš„ä»£ç ã€‚æ²¡æœ‰ç›¸å…³çŸ¥è¯†ä¸è¦ç´§ï¼Œè¿™åªæ˜¯ç»™äºˆç›¸å…³é¢†åŸŸçš„æœ‹å‹ä¸€ä¸ªç›´è§‰ï¼Œç”¨ä»¥è¾…åŠ©è¯´æ˜çš„ã€‚</li><li>è¿™æ˜¯æˆ‘åœ¨çŸ¥ä¹å‘å¸ƒçš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œå¦‚å¯¹æ–‡ç« æœ¬èº«æŠ±æœ‰ä»»ä½•ç–‘é—®æˆ–æ˜¯çº é”™æ¬¢è¿æå‡ºï¼Œåœ¨æ­¤æ„Ÿè°¢å„ä½ï¼</li></ul><h2 id="å‰è¨€">å‰è¨€</h2><p><a href="https://en.wikipedia.org/wiki/Yoneda_lemma" target="_blank" rel="noopener">Yoneda Lemma (ç±³ç”°å¼•ç†)</a> æ˜¯èŒƒç•´è®ºé‡Œé¢ä¸€ä¸ªæœ‰å…³å‡½å­çš„æ€å°„å®è´¨ä¸Šå¯è¢«æ˜ å°„è‡³å›ºå®šå¯¹è±¡ä¸Šçš„é‡è¦ç»“è®ºï¼Œä½¿æˆ‘ä»¬å¾—ä»¥é€è¿‡è¯¥å¼•ç†å»æ¨å¯¼å‡ºæ›´å¤šçš„å®šç†å‡ºæ¥ï¼Œæˆ–è€…é€è¿‡è¯¥å¼•ç†è§‚å¯ŸæŸäº›ç»“æ„ä¸Šçš„å¾®å¦™è”ç³»ï¼Œè€Œå¯¹åº”åˆ°è®¡ç®—æœºç¼–ç¨‹ä¸Šäº¦å¯æ“¦å‡ºç«èŠ±ï¼Œæ¯”å¦‚ Yoneda-embedding ä¸ CPS å˜æ¢ çš„å…³ç³»ç­‰ç­‰ã€‚å½“ç„¶ï¼Œæœ¬ç¯‡æ–‡ç« ä¸»è¦ç›®çš„çš†æŒ‡åœ¨äºå¼•å¯¼è¯»è€…ä¸€æ­¥æ­¥åœ°æ¨å¯¼å‡º Yoneda Lemmaï¼Œä»¥åŠç»™äºˆç›¸åº”çš„ç›´è§‰ã€‚</p><p>ç”±äº Yoneda Lemma æ¶‰åŠåˆ°ä¸€äº›èŒƒç•´è®ºä¸Šçš„å‰ç½®çŸ¥è¯†ï¼Œå› æ­¤åœ¨ä»‹ç» Yoneda Lemma ä¹‹å‰ï¼Œé¦–å…ˆä» hom-set å¼€å§‹è®²èµ·ã€‚</p><h2 id="hom-set-hom-é›†åˆ">Hom-set (Hom-é›†åˆ)</h2><p>å°±å‡½æ•°è€Œè¨€ï¼Œæ¯”æ–¹è¯´ä» <span class="math inline">\(\Bbb{Z}\)</span> åˆ° <span class="math inline">\(\Bbb{Z}\)</span> ä¹‹é—´çš„æ˜ å°„å­˜åœ¨çš„å¯èƒ½ä¸æ­¢æœ‰ä»…ä»…ä¸€æ¡å‡½æ•°ï¼Œå®ƒå¯èƒ½è¿˜å­˜åœ¨ç€å¾ˆå¤šä¸åŒçš„å‡½æ•°ï¼Œè¯¸å¦‚ <span class="math inline">\(f,\ g,\ h, ... : \Bbb{Z} \to \Bbb{Z}\)</span> ç­‰ç­‰ã€‚è€Œç”±è¿™ä¸€æŸå‡½æ•°æ‰€ç»„æˆçš„é›†åˆï¼Œåœ¨èŒƒç•´è®ºä¸­åˆ™è¢«ç§°ä¹‹ä¸º hom-setï¼Œå³ç”± morphism(s) æ‰€ç»„æˆçš„é›†åˆã€‚</p><p>ç”±é›†åˆä½œä¸º object æ‰€ç»„æˆçš„ category åˆ™è¢«ç§°ä¹‹ä¸º category of sets (é›†åˆèŒƒç•´)ï¼Œå®ƒä»¬ä¹‹é—´çš„ morphism(s) å³æ˜¯ hom-set(s)ï¼Œå› æ­¤ä¹Ÿå¯è¢«ç§°ä¸º locally small category (å±€éƒ¨å°èŒƒç•´)ã€‚</p><h3 id="å®šä¹‰">å®šä¹‰</h3><p>ç»™å®š object <span class="math inline">\(x,\ y\)</span> äº locally small category <span class="math inline">\(C\)</span> å†…ï¼Œhom-set åˆ™æ˜¯æ‰€æœ‰ä» object <span class="math inline">\(x\)</span> åˆ° <span class="math inline">\(y\)</span> çš„ morphisms æ‰€å½¢æˆçš„æœé›†ï¼Œè®°ä¸º <span class="math inline">\(Hom_C(x,\ y)\)</span> ï¼ˆè¿™é‡Œçš„ <span class="math inline">\(C\)</span> ä¸º category çš„åå­—ï¼Œæˆ–æ˜¯ <span class="math inline">\(C(x,\ y)\)</span>ï¼Œå¹¶ä¸”å¯çœç•¥åœ°è®°ä¸º <span class="math inline">\(Hom(x,\ y)\)</span>ï¼‰ã€‚</p><h3 id="ä¾‹å­">ä¾‹å­</h3><p>è®¾æœ‰ category <span class="math inline">\(C\)</span>ï¼Œå¹¶ä¸”æœ‰ï¼š <br> 1. Objectsï¼š<span class="math inline">\(a,\ b \in obj(C)\)</span> <br> 2. Morphismsï¼š<span class="math inline">\(f : a \to b\)</span>ï¼Œ<span class="math inline">\(g : a \to b\)</span>ï¼Œ<span class="math inline">\(h : a \to b\)</span></p><p><span class="math display">\[\xymatrix{a \ar@{-&gt;}[r]|-{f} \ar@/^1pc/@{-&gt;}[r]|-{g} \ar@/_1pc/@{-&gt;}[r]|-{h} &amp; b}\]</span></p><p>é‚£ä¹ˆå¯¹äºæ‰€æœ‰ä» object <span class="math inline">\(a\)</span> åˆ° <span class="math inline">\(b\)</span> çš„ morphismsï¼Œåˆ™è®°ä¸º <span class="math inline">\(Hom_C(a,\ b)\)</span>ï¼Œå› æ­¤ <span class="math inline">\(f,\ g,\ h \in Hom_C(a,\ b)\)</span> ã€‚</p><h2 id="hom-functor-hom-å‡½å­">Hom-functor (Hom-å‡½å­)</h2><p>ç”±äº Yoneda Lemma æ¶‰åŠåˆ° hom-functor çš„æ¦‚å¿µï¼Œå› æ­¤ hom-set è‚¯å®šæ˜¯ä¸è¶³å¤Ÿè¡¨è¾¾ Yoneda Lemma å«ä¹‰çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº‹å…ˆå®šä¹‰ä¸€ä¸‹ä½•ä¸º hom-functorã€‚è€Œ hom-functor å…±åˆ†ä¸ºä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ covariantï¼Œcontravariant ä»¥åŠ mixed-variant hom-functorã€‚</p><h3 id="covariant-hom-functor-åå˜-hom-å‡½å­">Covariant Hom-functor (åå˜ Hom-å‡½å­)</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“åœ¨ object ä¹‹é—´çš„ morphism(s) æ‰€ç»„æˆçš„é›†åˆæ˜¯ hom-setã€‚è€Œå¯¹äº hom-functor è€Œè¨€ï¼Œé€šä¿—çš„è¯´å³æ˜¯æŠŠ object ä»åŸæ¥çš„ category ä¸­æ˜ å°„ä¸º hom-setï¼Œå¹¶ä¸”æŠŠ morphisms æ˜ å°„ä¸º hom-sets ä¹‹é—´çš„ morphismsï¼Œè¿›è€Œå»ºç«‹ (covariant) hom-functor çš„æ¦‚å¿µã€‚</p><p>é‚£ä¹ˆè¯¥å¦‚ä½•æ„é€ å‡ºè¿™ä¸€æ¦‚å¿µï¼Ÿå¯¹äºè¿™ä¸€ç–‘é—®ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå‡è®¾æœ‰ locally small category <span class="math inline">\(C\)</span> ä»¥åŠä¸€äº› objectï¼Œä¾‹å¦‚ <span class="math inline">\(X, A, B \in obj(C)\)</span>ï¼Œç„¶å å¯¹äºæ‰€æœ‰ <span class="math inline">\(X\)</span> å°†ä½œä¸º fixed objectï¼Œå¹¶ä¸”åˆ†åˆ«æœ‰ <span class="math inline">\(X\)</span> åˆ° <span class="math inline">\(A\)</span> ä»¥åŠ <span class="math inline">\(X\)</span> åˆ° <span class="math inline">\(B\)</span> çš„ hom-setsã€‚é‚£ä¹ˆ (covariant) hom-functor çš„æ ·å­æ˜¯è¿™æ ·çš„ï¼š</p><p><span class="math display">\[\xymatrix{X \ar@/_/@{-&gt;}[r] \ar@{-&gt;}[rd] \ar@/^/@{-&gt;}[r] \ar@/_/@{-&gt;}[rd] \ar@/^/@{-&gt;}[rd] \ar@{-&gt;}[r] &amp; A \ar@/^/@{-&gt;}[rrr]^{Covariant\ hom-functor} &amp;  &amp;  &amp; Hom(X,\ A) \\ &amp; B \ar@/^/@{-&gt;}[rrr]^{Covariant\ hom-functor} &amp;  &amp;  &amp; Hom(X,\ B)}\]</span></p><p>ä»ä¸Šå›¾å¯è§ï¼Œå½“æŠŠ <span class="math inline">\(X\)</span> ç»™å›ºå®šä½åï¼Œobject <span class="math inline">\(A\)</span> å°†ä¼šæ˜ å°„ä¸ºä¸€ä¸ª <span class="math inline">\(Hom(X,\ A)\)</span>ï¼Œ<span class="math inline">\(B\)</span> åˆ™è¢«æ˜ å°„ä¸º <span class="math inline">\(Hom(X,\ B)\)</span>ï¼Œæ‰€ä»¥è¯´åªè¦æŠŠå…¶ä¸­ä¸€è¾¹ç»™å›ºå®šä½äº† (è¿™é‡Œå›ºå®šäº† hom-set çš„å·¦ä¾§ï¼Œè€Œå³ä¾§å¯å˜çš„ä½ç½®æ˜¯åå˜ä½ï¼Œå› æ­¤ç§°ä¸º covariant hom-functor)ï¼Œå¯¹äºä»»ä½•å¯å˜çš„ object (è¿™é‡Œåˆ™æŒ‡ <span class="math inline">\(A\)</span> æˆ– <span class="math inline">\(B\)</span>)ï¼Œä¾¿å¯é€è¿‡ (covariant) hom-functor è¢«æ˜ å°„æˆ hom-set äº†ã€‚</p><p>å½“ç„¶ï¼Œé™¤äº† object ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è®¾æƒ³ morphisms çš„æƒ…å†µã€‚<br> ç°åœ¨è®¾ <span class="math inline">\(A\)</span> å’Œ <span class="math inline">\(B\)</span> ä¹‹é—´å­˜åœ¨ morphism <span class="math inline">\(f\)</span>ï¼Œé‚£ä¹ˆå¯¹äº morphisms è€Œè¨€ï¼Œè¢«æ˜ å°„è‡³ <span class="math inline">\(Set\)</span> ä¹‹åä¾¿æ˜¯è¿™æ ·ï¼š</p><p><span class="math display">\[\xymatrix{X \ar@/_/@{-&gt;}[r] \ar@{-&gt;}[rd] \ar@/^/@{-&gt;}[r] \ar@/_/@{-&gt;}[rd] \ar@/^/@{-&gt;}[rd] \ar@{-&gt;}[r] &amp; A \ar@/^/@{-&gt;}[rrr]^{Covariant\ hom-functor} \ar@{-&gt;}[d]^{f} &amp;  &amp;  &amp; Hom(X,\ A) \ar@{-&gt;}[d]^{Hom(X,\ f)} \\ &amp; B \ar@/^/@{-&gt;}[rrr]^{Covariant\ hom-functor} &amp;  &amp;  &amp; Hom(X,\ B)}\]</span></p><p>å³ morphism <span class="math inline">\(f\)</span> å°†è¢«æ˜ å°„æˆ <span class="math inline">\(Hom(X,\ f)\)</span> (è¿™é‡Œå¯ä»¥ç†è§£ä¸º <span class="math inline">\(Hom(id_X,\ f)\)</span>)ã€‚</p><p>é‚£ä¹ˆä¾¿å¯æ€»ç»“å‡ºè§„å¾‹ï¼Œæƒ³è¦å®šä¹‰å‡º hom-functor çš„æ¦‚å¿µï¼Œå¿…é¡»è¦çŸ¥é“åˆ°åº• objects æ˜¯åº”è¯¥æ€æ ·è¢«æ˜ å°„çš„ï¼Œmorphisms äº¦åº”æ€ä¹ˆè¢«æ˜ å°„çš„ï¼Œå¹¶ä¸”è¯æ˜å…¶æ»¡è¶³ functor lawsï¼Œæœ€ç»ˆä¾¿å¯å®šä¹‰å‡º covariant hom-functor äº†ã€‚</p><h3 id="å®šä¹‰-1">å®šä¹‰</h3><p>è®¾æœ‰ locally small category <span class="math inline">\(C\)</span>ï¼Œå›ºå®š <span class="math inline">\(C\)</span> ä¸‹çš„ object <span class="math inline">\(X\)</span> ä¸º fixed objectï¼Œæœ‰ï¼š<br> 1. Objectsï¼š<span class="math inline">\(A, B \in obj(C)\)</span>ï¼Œ<span class="math inline">\(Hom(X,\ A)\)</span>ï¼Œ<span class="math inline">\(Hom(X,\ B) \in obj(Set)\)</span><br> 2. Morphismsï¼š<span class="math inline">\(f : A \to B, g : X \to A \in mor(C)\)</span>ï¼Œ<span class="math inline">\(Hom(X,\ f) \in mor(Set)\)</span></p><p>åˆ™ <span class="math inline">\(Hom(X, -) : C \to Set\)</span> (æˆ– <span class="math inline">\(h_X\)</span>) è¢«ç§°ä¸º covariant hom-functorï¼Œå¹¶æœ‰å¦‚ä¸‹å›¾è¡¨ï¼š</p><p><span class="math display">\[\xymatrix{X \ar@{-&gt;}[r]^{g} \ar@{-&gt;}[rd]_{f \circ g} &amp; A \ar@{-&gt;}[d]^{f} \ar@/^/@{-&gt;}[rr]|-{Hom(X,-)} &amp;  &amp; Hom(X, A) \ar@{-&gt;}[d]_{Hom(X, f)} &amp; g \ar@{|-&gt;}[d] \\ &amp; B \ar@/^/@{-&gt;}[rr]|-{Hom(X,-)} &amp;  &amp; Hom(X, B) &amp; f \circ g}\]</span></p><p>è€Œ covariant hom-functor ç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š<br> <span class="math inline">\(obj(C) \to obj(Set)\)</span>ï¼š<span class="math inline">\(\forall A \in obj(C)ï¼Œæœ‰ A \mapsto Hom(X,\ A)\)</span><br> <span class="math inline">\(mor(C) \to mor(Set)\)</span>ï¼š<span class="math inline">\(\forall f \in A \to B\)</span>ï¼Œ<span class="math inline">\(g : Hom(X,\ A)\)</span>ï¼Œæœ‰ <span class="math inline">\(g \mapsto f \circ g\)</span></p><p>Covariant hom-functor æœ¬èº«ç»“æ„æ˜¯ <span class="math inline">\(F : C \to Set\)</span>ï¼Œå› æ­¤ä¹Ÿå¯è¢«ç§°ä¸º representable functor (å¯è¡¨å‡½å­) ã€‚</p><h3 id="è¯æ˜">è¯æ˜</h3><p>Identity lawsï¼š<span class="math inline">\(Hom(X, id_A) = id_A\)</span><br> Composition lawsï¼š<span class="math inline">\(Hom(X,\ g \circ f) = Hom(X,\ g) \circ Hom(X,\ f)\)</span></p><p>ç”±æ­¤å¯è§ covariant hom-functor æ»¡è¶³ functor lawsï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ª functorã€‚</p><h3 id="contravariant-hom-functor-é€†å˜-hom-å‡½å­">Contravariant Hom-functor (é€†å˜ Hom-å‡½å­)</h3><p>è€Œ contravariant hom-functorï¼Œåªéœ€æŠŠ covariant hom-functor ä¸­ domain (é€†å˜ä½ç½®) æˆ– codomain (åå˜ä½ç½®) å…¶ä¸­ä»»æ„ä¸€ä¸ª category æ”¹ä¸º opposite categoryï¼Œè¿™é‡Œæˆ‘ä»¬é‡‡ç”¨æ”¹å˜é€†å˜ä½ç½®çš„ categoryï¼Œå³æœ‰ï¼š</p><p><span class="math display">\[\xymatrix{X &amp; A \ar@/^/@{-&gt;}[l] \ar@/^/@{-&gt;}[rrr]^{Contravariant\ hom-functor} \ar@/_/@{-&gt;}[l] \ar@{-&gt;}[l] &amp;  &amp;  &amp; Hom(A,\ X) \ar@{-&gt;}[d]^{Hom(f,\ X)} \\ &amp; B \ar@{-&gt;}[lu] \ar@/^/@{-&gt;}[rrr]^{Contravariant\ hom-functor} \ar@/^/@{-&gt;}[lu] \ar@/_/@{-&gt;}[lu] \ar@{-&gt;}[u]_{f} &amp;  &amp;  &amp; Hom(B,\ X)}\]</span></p><h3 id="å®šä¹‰-2">å®šä¹‰</h3><p>è®¾æœ‰ locally small category <span class="math inline">\(C^{op}\)</span>ï¼Œå›ºå®š <span class="math inline">\(C\)</span> ä¸‹çš„ object <span class="math inline">\(X\)</span> ä¸º fixed objectï¼Œå¹¶ä¸”æœ‰ï¼š<br> 1. Objectsï¼š<span class="math inline">\(A, B \in Obj(C^{op})\)</span>ï¼Œ<span class="math inline">\(Hom(A,\ X), Hom(B,\ X) \in obj(Set)\)</span><br> 2. Morphismsï¼š<span class="math inline">\(f : B \to A, g : A \to X \in mor(C)\)</span>ï¼Œ<span class="math inline">\(Hom(f,\ X) \in mor(Set)\)</span><br></p><p>åˆ™ <span class="math inline">\(Hom(-, X) : C \to Set\)</span> (æˆ– <span class="math inline">\(h^X\)</span>) è¢«ç§°ä¸º contravariant hom-functorï¼Œå¹¶æœ‰å¦‚ä¸‹å›¾è¡¨ï¼š</p><p><span class="math display">\[\xymatrix{X &amp; A \ar@{-&gt;}[l]_{g} \ar@/^/@{-&gt;}[rr]^{Hom(-,\ X)} &amp;  &amp; Hom(A,\ X) \ar@{-&gt;}[d]^{Hom(f,\ X)} &amp; g  \ar@{|-&gt;}[d] \\ &amp; B \ar@{-&gt;}[lu]^{f \circ g} \ar@/^/@{-&gt;}[rr]^{Hom(-,\ X)} \ar@{-&gt;}[u]_{f} &amp;  &amp; Hom(B,\ X) &amp; f \circ g}\]</span></p><p>è€Œ contravariant hom-functor ç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š<br> <span class="math inline">\(obj(C^{op}) \to obj(Set)\)</span>ï¼š<span class="math inline">\(\forall A \in obj(C^{op})\)</span>ï¼Œæœ‰ <span class="math inline">\(A \mapsto Hom(A,\ X)\)</span><br> <span class="math inline">\(mor(C^{op}) \to mor(Set)\)</span>ï¼š<span class="math inline">\(\forall f \in B \to A\)</span>ï¼Œ<span class="math inline">\(g : Hom(A,\ X)\)</span>ï¼Œæœ‰ <span class="math inline">\(g \mapsto f \circ g\)</span></p><p>Contravariant hom-functor æœ¬èº«ç»“æ„æ˜¯ <span class="math inline">\(F : C^{op} \to Set\)</span>ï¼Œäºæ‹“æ‰‘é‡Œæœ‰å¦å¤–ä¸€ä¸ªåå­—ï¼Œç§°ä¹‹ä¸º presheaf (é¢„å±‚) ã€‚</p><h3 id="è¯æ˜-1">è¯æ˜</h3><p>Identity lawsï¼š<span class="math inline">\(Hom(id_A, X) = id_A\)</span><br> Composition lawsï¼š<span class="math inline">\(Hom(g \circ f,\ X) = Hom(g,\ X) \circ Hom(f,\ X)\)</span></p><p>ç”±æ­¤å¯è§ contravariant hom-functor æ»¡è¶³ functor lawsï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ª functorã€‚</p><h3 id="mixed-variant-hom-functor-åŒå˜-hom-å‡½å­">Mixed-variant Hom-functor (åŒå˜ Hom-å‡½å­)</h3><p>Mixed-variant hom-functor ç›¸è¾ƒäºä¸Šè¿°çš„ covariant åŠ contravariant hom-functorï¼Œæœ€å¤§çš„åŒºåˆ«æ˜¯å®ƒèƒ½åŒæ—¶æ¥å—ä¸¤ä¸ªå˜å…ƒï¼Œå³ <span class="math inline">\(Hom(-, -) : C^{op} \times C \to Set\)</span>ï¼Œå› æ­¤è¢«ç§°ä¸º mixed-variant hom-functorï¼Œè¯¥ functor æ˜¯ä¸€ä¸ª <span class="math inline">\(Id_C\)</span> çš„ profunctorï¼Œäº¦å¯è¢«è§†ä¸ºæ˜¯ä¸€ä¸ª bifunctor çš„ç»“æ„ã€‚</p><h3 id="å®šä¹‰-3">å®šä¹‰</h3><p>è®¾æœ‰ locally small category <span class="math inline">\(C\)</span> å¹¶ä¸”æœ‰ <span class="math inline">\(C\)</span> çš„ opposite category <span class="math inline">\(C^{op}\)</span><br> Objectsï¼š<span class="math inline">\(A, A&#39; \in Obj(C^{op})\)</span>ï¼Œ<span class="math inline">\(B, B&#39; \in Obj(C)\)</span><br> Morphismsï¼š<span class="math inline">\(f : A&#39; \to A\)</span>ï¼Œ<span class="math inline">\(h : B \to B&#39;\)</span><br> Functorsï¼š<span class="math inline">\(Hom(-, X) : C^{op} \to Set\)</span>ï¼Œ<span class="math inline">\(Hom(X, -) : C \to Set\)</span></p><p>é‚£ä¹ˆå³æœ‰å›¾ï¼š</p><p><span class="math display">\[\xymatrix{A \ar@{-&gt;}[rr]^{Hom(-,X)} &amp;  &amp; Hom(A,\ B) \ar@{-&gt;}[rd]^{Hom(f,\ h)} &amp;  \\A&#39; \ar@{-&gt;}[u]^{f} \ar@{-&gt;}[rrr]^{Hom(-,X)} &amp;  &amp;  &amp; Hom(A&#39;,\ B&#39;) \\ &amp;  &amp;  &amp;  \\ &amp;  &amp; B \ar@{-&gt;}[r]_{h} \ar@{-&gt;}[uuu]|-{Hom(X,-)} &amp; B&#39; \ar@{-&gt;}[uu]|-{Hom(X,-)}}\]</span></p><p>è€Œç”±äº <span class="math inline">\(Hom(X, -)\)</span> ä»¥åŠ <span class="math inline">\(Hom(-, X)\)</span> äºŒè€…çš†æ˜¯ä»æŸä¸ª category ä¸­ morphism è‡³ <span class="math inline">\(Set\)</span>ï¼Œå› æ­¤è¯¥å¤„å¯æ„æˆä¸€ product category (ä¹˜ç§¯èŒƒç•´)ï¼Œå³ <span class="math inline">\(C^{op} \times C\)</span>ï¼Œæ‰€ä»¥æœ‰ functor <span class="math inline">\(Hom(-, -) : C^{op} \times C \to Set\)</span>ï¼š</p><p><span class="math display">\[\xymatrix{ &amp;  &amp; Hom(A,\ B) \ar@{-&gt;}[rd]|-{Hom(f,\ h)} &amp;  \\A \ar@{-&gt;}[r] &amp; (A,\ B) \ar@{-&gt;}[rd]|-{(f,\ h)} \ar@{-&gt;}[ru]|-{Hom(-,\ -)} &amp;  &amp; Hom(A&#39;, \ B&#39;) \\A&#39; \ar@{-&gt;}[u]^{f} \ar@{-&gt;}[rr] &amp;  &amp; (A&#39;,\ B&#39;) \ar@{-&gt;}[ru]|-{Hom(-,\ -)} &amp;  \\ &amp; B \ar@{-&gt;}[r]_{h} \ar@{-&gt;}[uu] &amp; B&#39; \ar@{-&gt;}[u] &amp; }\]</span></p><p>è€Œå¯¹äº <span class="math inline">\(Set\)</span> ä¸­ <span class="math inline">\(Hom(f,\ h) : Hom(A,\ B) \to Hom(A&#39;,\ B&#39;)\)</span>ï¼Œå‡è®¾å›ºå®šä»»æ„ä¸€è¾¹çš„å˜å…ƒä¸º <span class="math inline">\(id\)</span>ï¼Œé‚£ä¹ˆ morphisms åˆ™ä¸ºï¼š<span class="math inline">\(Hom(id_A,\ h) : Hom(A, B) \to Hom(A, B&#39;)\)</span>ï¼Œ<span class="math inline">\(Hom(f,\ id_B) : Hom(A,\ B) \to Hom(A&#39;,\ B)\)</span>ï¼Œ<span class="math inline">\(Hom(id_{A&#39;},\ h) : Hom(A&#39;, B) \to Hom(A&#39;, B&#39;)\)</span>ï¼Œ<span class="math inline">\(Hom(f,\ id_{B&#39;}) : Hom(A,\ B&#39;) \to Hom(A&#39;,\ B&#39;)\)</span>ï¼Œæ‰€ä»¥ä¼šæœ‰å›¾ï¼š</p><p><span class="math display">\[\xymatrix{Hom(A,\ B) \ar@{-&gt;}[rr]^{Hom(A,\ h)} \ar@{-&gt;}[dd]_{Hom(f,\ B)} &amp;  &amp; Hom(A,\ B&#39;) \ar@{-&gt;}[dd]^{Hom(f,\ B&#39;)} \\ &amp;  &amp;  \\Hom(A&#39;,\ B) \ar@{-&gt;}[rr]_{Hom(A&#39;,\ h)} &amp;  &amp; Hom(A&#39;,\ B&#39;)}\]</span></p><p>ä¸ºäº†è¯æ˜è¯¥å›¾å¯äº¤æ¢ï¼Œç°åœ¨å‡è®¾æœ‰ <span class="math inline">\(g \in Hom(A,\ B)\)</span>ï¼Œé‚£ä¹ˆæœ‰ï¼š</p><p><span class="math display">\[\xymatrix{Hom(A,\ B) \ar@{-&gt;}[rrr]^{Hom(A,\ h)} \ar@{-&gt;}[ddd]_{Hom(f,\ B)} &amp;  &amp;  &amp; Hom(A,\ B&#39;) \ar@{-&gt;}[ddd]^{Hom(f,\ B&#39;)} \\ &amp; g \ar@{|-&gt;}[r] \ar@{|-&gt;}[d] &amp; h \circ g \ar@{|-&gt;}[d] &amp;  \\ &amp; g \circ f \ar@{|-&gt;}[r] &amp; h \circ g \circ f &amp;  \\Hom(A&#39;,\ B) \ar@{-&gt;}[rrr]_{Hom(A&#39;,\ h)} &amp;  &amp;  &amp; Hom(A&#39;,\ B&#39;)}\]</span></p><p>æœ€ç»ˆå¾—å‡ºç»“è®ºï¼š<span class="math inline">\(g \mapsto h \circ g \circ f : Hom(A,\ B) \to Hom(A&#39;,\ B&#39;)\)</span>ï¼Œå› æ­¤è¯¥å›¾å¯äº¤æ¢ã€‚</p><h2 id="yoneda-lemma">Yoneda Lemma</h2><p>åœ¨æŠŠä¸Šè¿°çš„ hom-setï¼Œhom-functor ç­‰æ¦‚å¿µå®šä¹‰å®Œæ¯•åï¼Œç°åœ¨æˆ‘ä»¬ç»ˆäºå¯ä»¥å¼€å§‹æ¥è°ˆè°ˆä½•ä¸º Yoneda Lemma äº†ï¼Œé¦–å…ˆæˆ‘ä»¬ä»å®ƒçš„å®šä¹‰å¼€å§‹ã€‚</p><h3 id="å®šä¹‰-4">å®šä¹‰</h3><ol type="1"><li>è®¾ <span class="math inline">\(C\)</span> ä¸ºä»»æ„çš„ locally small category ä»¥åŠæœ‰ category <span class="math inline">\(Set\)</span></li><li>å›ºå®šæŸä¸ª object <span class="math inline">\(X \in Obj(C)\)</span></li><li>Functorsï¼š<span class="math inline">\(Hom(X, -) : C \to Set\)</span>ï¼Œä¸€ä¸ªä»»æ„çš„ functor <span class="math inline">\(F : C \to Set\)</span></li></ol><p>è€Œ Yoneda Lemma æ‰€æè¿°çš„å³è®¾æœ‰ä»»ä¸€çš„å¯¹äº <span class="math inline">\(Hom(X, -)\)</span> ä¸ <span class="math inline">\(F\)</span> ä¹‹é—´çš„ natural transformation (è‡ªç„¶å˜æ¢) <span class="math inline">\(\alpha\)</span>ï¼Œå®ƒä¸ <span class="math inline">\(x \in F(X)\)</span> å³å¯è§†ä¸ºæ˜¯ isomorphic çš„ã€‚æ¢å¥è¯è¯´å³å¯¹äºé›†åˆ <span class="math inline">\(F(X)\)</span>ï¼Œå®ƒå¿…å®šèƒ½å¤Ÿä¸€å¯¹ä¸€åœ°æŠŠ objects ä» <span class="math inline">\(F(X)\)</span> bijection è‡³ <span class="math inline">\(Hom(Hom(X, -),\ F)\)</span> é›†åˆä¸Šçš„ functorã€‚</p><p>ç±³ç”°å¼•ç†çš„å½¢å¼åŒ–å®šä¹‰å¦‚ä¸‹ï¼š</p><p><span class="math display">\[ [C,\ Set](Hom(X, -),\ F) \cong F(X) \]</span></p><p>å…¶ä¸­ <span class="math inline">\([C,\ Set]\)</span> æ˜¯ä¸€ functor category (å‡½å­èŒƒç•´)ï¼Œobject ä¸º functorï¼Œmorphisms åˆ™ä¸º natural transformationsã€‚ æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¹Ÿèƒ½æŠŠ functor category æ›¿æ¢æˆ <span class="math inline">\(Set\)</span>ï¼Œå…¶å«ä¹‰æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤æœ‰ï¼š</p><p><span class="math display">\[ Hom(Hom(X, -),\ F) \cong F(X) \]</span></p><h3 id="é€è¿‡äº¤æ¢å›¾è§‚å¯Ÿç±³ç”°å¼•ç†çš„ç»“æ„">é€è¿‡äº¤æ¢å›¾è§‚å¯Ÿç±³ç”°å¼•ç†çš„ç»“æ„</h3><p>ç”±äºæ–‡å­—å™è¿°å¾€å¾€ä¸æ˜¯å¾ˆç›´è§‚ï¼Œå› æ­¤è®©æˆ‘ä»¬ä»äº¤æ¢å›¾çš„è§’åº¦æ¥è§‚å¯Ÿä¸€ä¸‹ç±³ç”°å¼•ç†ï¼š</p><p>é¦–å…ˆå®šä¹‰ <span class="math inline">\(A, B \in Obj(C)\)</span>ï¼Œä¸”æœ‰æ€å°„ <span class="math inline">\(f : A \to B\)</span>ï¼Œä»¥åŠä¸€ä¸ªä»»æ„çš„ object <span class="math inline">\(X\)</span>ï¼Œå› æ­¤å¯¹äº category <span class="math inline">\(C\)</span>ï¼Œæˆ‘ä»¬æœ‰ï¼š</p><p><span class="math display">\[\xymatrix{X \ar@{--&gt;}[r]^{-} \ar@{--&gt;}[rd]_{f \circ -} &amp; A \ar@{-&gt;}[d]^{f} \\ &amp; B}\]</span></p><p>å› æ­¤å¯¹äºä»»æ„ <span class="math inline">\(X\)</span>ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å‡º morphism <span class="math inline">\(- : X \to A\)</span> ä»¥åŠ <span class="math inline">\(f \circ - : X \to B\)</span>ã€‚</p><p>è€Œåè€ƒè™‘åˆ°æœ‰ functor <span class="math inline">\(Hom(X,\ -) : C \to Set\)</span> å’Œ <span class="math inline">\(F : C \to Set\)</span>ï¼Œä»¥åŠæœ‰ä¸€è‡ªç„¶å˜æ¢ <span class="math inline">\(\alpha : Hom(X, -) \to F\)</span>ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾—å‡ºå¦‚ä¸‹å›¾ï¼š</p><p><span class="math display">\[\xymatrix{X \ar@{--&gt;}[r]^{-} \ar@{--&gt;}[rd]_{f \circ -} &amp; A \ar@{-&gt;}[d]^{f} \ar@/^/@{-&gt;}[rrdd]|-{Hom(X,-)} \ar@/^/@{-&gt;}[rrrrdd]|-{F} &amp;  &amp;  &amp;  &amp;  \\ &amp; B \ar@/^/@{-&gt;}[rrddd]|-{Hom(X,-)} \ar@/^/@{-&gt;}[rrrrddd]|-{F} &amp;  &amp;  &amp;  &amp;  \\ &amp;  &amp;  &amp; Hom(X,\ A) \ar@{-&gt;}[dd]^{Hom(X,\ f)} \ar@{-&gt;}[rr]^{\alpha_A} &amp;  &amp; F(A) \ar@{-&gt;}[dd]^{F\ f} \\ &amp;  &amp;  &amp;  &amp;  &amp;  \\ &amp;  &amp;  &amp; Hom(X,\ B) \ar@{-&gt;}[rr]_{\alpha_B} &amp;  &amp; F(B)}\]</span></p><p>æ‰€ä»¥åœ¨ category <span class="math inline">\(Set\)</span> ä¸­ï¼Œæœ‰<br> Objectsï¼š<span class="math inline">\(Hom(X,\ A), Hom(X,\ B), F(A), F(B)\)</span><br> ä½œä¸º Morphisms çš„ Functorsï¼š<span class="math inline">\(Hom(X,\ f) : Hom(X,\ A) \to Hom(X,\ B)\)</span>ï¼Œ<span class="math inline">\(F\ f : F(A) \to F(B)\)</span><br> ä½œä¸º Morphisms çš„ Natural transformationsï¼š<span class="math inline">\(\alpha_A : Hom(X,\ A) \to F(A)\)</span>ï¼Œ<span class="math inline">\(\alpha_B : Hom(X,\ B) \to F(B)\)</span>ã€‚</p><p>å¯¹äº category <span class="math inline">\(Set\)</span>ï¼Œç”±äº <span class="math inline">\((F\ f) \circ \alpha_A = \alpha_B \circ Hom(X,\ f)\)</span>ï¼Œå› æ­¤è¯¥å›¾å¯äº¤æ¢ã€‚</p><h3 id="è¯æ˜-2">è¯æ˜</h3><p>ä¸ºäº†è¯æ˜ç±³ç”°å¼•ç†ï¼Œå¯ä»¥å–å‡º <span class="math inline">\(Hom(X,\ A)\)</span> ä¸­çš„ identity morphism <span class="math inline">\(id_X\)</span> ä½œä¸ºå®ä¾‹ï¼Œå³ <span class="math inline">\(Hom(X,\ X)\)</span>ï¼Œæ‰€ä»¥ä¸Šå›¾å°†æ›´å˜ä¸ºï¼š</p><p><span class="math display">\[\xymatrix{X \ar@{--&gt;}[r]^{id} \ar@{--&gt;}[rd] &amp; X \ar@{-&gt;}[d]^{f} \ar@/^/@{-&gt;}[rrdd]|-{Hom(X,-)} \ar@/^1pc/@{-&gt;}[rrrrrdd]|-{F} &amp;  &amp;  &amp;  &amp;  &amp;  \\ &amp; B \ar@/^/@{-&gt;}[rrdddd]|-{Hom(X,-)} \ar@/^1pc/@{-&gt;}[rrrrrdddd]|-{F} &amp;  &amp;  &amp;  &amp;  &amp;  \\ &amp;  &amp;  &amp; Hom(X,\ X) \ar@{-&gt;}[ddd]^{Hom(X,\ f)} \ar@{-&gt;}[rrr]^{\alpha_X} &amp;  &amp;  &amp; F(X) \ar@{-&gt;}[ddd]^{F\ f} \\ &amp;  &amp;  &amp;  &amp; id_X \ar@{-&gt;}[r] \ar@{-&gt;}[d] &amp; u \ar@{-&gt;}[d] &amp;  \\ &amp;  &amp;  &amp;  &amp; f \ar@{-&gt;}[r] &amp; \alpha_B\ f = (F\ f)\ u &amp;  \\ &amp;  &amp;  &amp; Hom(X,\ B) \ar@{-&gt;}[rrr]_{\alpha_B} &amp;  &amp;  &amp; F(B)}\]</span></p><p>å…¶ä¸­åŒ…å«äº† <span class="math inline">\(id_X \in Hom(X,\ X)\)</span>ï¼Œ<span class="math inline">\(u \in F(X)\)</span>ï¼Œ<span class="math inline">\(f \in Hom(X,\ B)\)</span> ä»¥åŠ <span class="math inline">\(\alpha_B\ f \in F(B)\)</span>ã€‚</p><p>è€Œç°åœ¨æˆ‘ä»¬è¦åšçš„ä»…ä»…æ˜¯è¯å‡ºè¯¥å›¾ä¸­æ‰€æœ‰çš„ natural transformation <span class="math inline">\(\alpha\)</span> ä¸ functor <span class="math inline">\(F\)</span> ä¹‹é—´æ˜¯ isomorphic çš„ï¼Œå› æ­¤éœ€è¦è¯æ˜å‡º <span class="math inline">\(toYoneda : \forall X \in C. (\forall \varphi \in C. Hom(X,\ \varphi) \to F(\varphi)) \to F(X)\)</span> ä»¥åŠ <span class="math inline">\(fromYoneda : \forall X \in C. F(X) \to (\forall \varphi \in C. Hom(X,\ \varphi) \to F(\varphi))\)</span> è¿™ä¸¤æ¡è·¯æ˜¯è¡Œå¾—é€šçš„ï¼Œæ‰€ä»¥æœ€ç»ˆå¾—å‡ºè¯æ˜ï¼š<br></p><p>è®¾ <span class="math inline">\(\alpha_\varphi : \forall \varphi. Hom(X,\ \varphi) \to F(\varphi)\)</span>ï¼š<br> <span class="math inline">\(toYoneda\)</span>ï¼š<span class="math inline">\(id : Hom(\varphi,\ \varphi)\)</span>ï¼Œæœ‰ <span class="math inline">\(\alpha_\varphi\ id = u\)</span><br> <span class="math inline">\(fromYoneda\)</span>ï¼š<span class="math inline">\(u : F(\varphi)\)</span>ï¼Œæœ‰ <span class="math inline">\(\alpha_\varphi\ f = (F\ f)\ u\)</span></p><p>è‡³æ­¤è¯æ¯•ã€‚</p><h4 id="äº-agda-ä¸­çš„è¡¨è¾¾">äº Agda ä¸­çš„è¡¨è¾¾</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">toYoneda : (C : Category o m) &#123;X : Obj C&#125; &#123;F : Functor C (ğ’®â„¯ğ“‰ m)&#125;</span><br><span class="line">           â†’ [ C , ğ’®â„¯ğ“‰ m ]âŸ¨ Hom C [ X ,â”€] , F âŸ©</span><br><span class="line">           â†’ Fâ‚’ F X</span><br><span class="line">toYoneda</span><br><span class="line">  record &#123; id = id &#125;</span><br><span class="line">  record &#123; Î· = Î· &#125;</span><br><span class="line">  = Î· id</span><br><span class="line"></span><br><span class="line">fromYoneda : &#123;C : Category o m&#125; &#123;X : Obj C&#125; (F : Functor C (ğ’®â„¯ğ“‰ m))</span><br><span class="line">             â†’ Fâ‚’ F X</span><br><span class="line">             â†’ [ C , ğ’®â„¯ğ“‰ m ]âŸ¨ Hom C [ X ,â”€] , F âŸ©</span><br><span class="line">fromYoneda</span><br><span class="line">  record &#123; Fâ‚˜ = Fâ‚˜ &#125;</span><br><span class="line">  u</span><br><span class="line">  = record &#123; Î· = Î» f â†’ (Fâ‚˜ f) u &#125;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šè¯¥éƒ¨åˆ†åªå†™å‡ºäº†æœ€ç»ˆçš„è¯æ˜æ­¥éª¤ï¼Œéœ€è¦æŸ¥çœ‹è¯¦å°½çš„å‰ç½®å®šä¹‰åŠæºç å¯ç§»æ­¥è‡³ <a href="http://home.e7mc.com:12450/9032676/category-research" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p><h4 id="äº-haskell-ä¸­è¡¨è¾¾">äº Haskell ä¸­è¡¨è¾¾</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">toYoneda :: (forall a. (x -&gt; a) -&gt; f a) -&gt; f x</span><br><span class="line">toYoneda alpha = alpha id</span><br><span class="line"></span><br><span class="line">fromYoneda :: f x -&gt; (forall a. (x -&gt; a) -&gt; f a)</span><br><span class="line">fromYoneda u f = fmap f u</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šè¯¥è¯æ˜è¢«ç›´æ¥ç¿»è¯‘ä¸º Haskell ä¸­ category theory çš„è¯­ä¹‰ï¼Œæ‰€ä»¥ä¸ agda ä¸­æŠŠæ‰€æœ‰åœ¨è¯æ˜è¿‡ç¨‹ä¸­æ‰€ä½¿ç”¨çš„ concept å…¨éƒ¨æ„é€ å‡ºæ¥æ˜¯æœ‰æ‰€åŒºåˆ«çš„ã€‚</p><h2 id="ç»“è¯­">ç»“è¯­</h2><p>è‡³æ­¤ï¼ŒYoneda lemma è¯æ˜ç¯‡æ­£å¼å®Œæ¯•ï¼Œè€Œæ¥ä¸‹æ¥ç¬”è€…å°†ä¼šæ’°å†™ä¸¤ç¯‡åç»­çš„æ–‡ç« ï¼Œé‡ç‚¹è®¨è®º Yoneda embedding (ç±³ç”°åµŒå…¥) ä¸ Continuation passing style (CPS å˜æ¢) çš„å…³ç³»ï¼Œä»¥åŠ co-Yoneda lemma çš„è¯æ˜ã€‚åœ¨æ­¤æ„Ÿè°¢å„ä½ç»†å¿ƒé˜…è§ˆï¼</p><h2 id="å¤–éƒ¨é“¾æ¥">å¤–éƒ¨é“¾æ¥</h2><p>æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒæˆ–å¼•ç”¨è‡³ä¸‹åˆ—ç½‘é¡µï¼Œä¹Ÿå¯ä¾›ä½œä¸ºé¢å¤–çš„å»¶ä¼¸èµ„æºå¸®åŠ©é˜…è¯»ï¼š</p><ul><li><a href="https://ncatlab.org/nlab/show/Yoneda+lemma" target="_blank" rel="noopener">Yoneda lemma - nLab</a></li><li><a href="https://bartoszmilewski.com/2015/09/01/the-yoneda-lemma/" target="_blank" rel="noopener">The Yoneda Lemma - Bartosz Milewski</a></li><li><a href="https://www.youtube.com/watch?v=KaBz45nZEZw" target="_blank" rel="noopener">Category Theory II 4.1: Representable Functors</a></li><li><a href="https://www.youtube.com/watch?v=BiWqNdtptDI" target="_blank" rel="noopener">Category Theory II 4.2: The Yoneda Lemma</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é˜…è¯»é¡»çŸ¥&quot;&gt;é˜…è¯»é¡»çŸ¥&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬ç¯‡æ–‡ç« é¢å‘äººç¾¤æ˜¯æ¥è§¦è¿‡ Category theory (èŒƒç•´è®º) ä»¥åŠ å‡½æ•°å¼ç¼–ç¨‹ï¼Œä½†æœªæ›¾æ¥è§¦è¿‡ Yoneda Lemma (ç±³ç”°å¼•ç†) çš„è¯»è€…é£Ÿç”¨ã€‚&lt;/li&gt;
&lt;li&gt;é€šç¯‡å¯¹äºèŒƒç•´è®ºå†…çš„ä¸“æœ‰åè¯ä¸€å¾‹é‡‡ç”¨äº†è‹±æ–‡
      
    
    </summary>
    
    
      <category term="èŒƒç•´è®º" scheme="https://a9032676.github.io/tags/%E8%8C%83%E7%95%B4%E8%AE%BA/"/>
    
      <category term="å‡½æ•°å¼ç¼–ç¨‹" scheme="https://a9032676.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Dotty Scala ä¸Šçš„ä¾èµ–ç±»å‹</title>
    <link href="https://a9032676.github.io/2020/11/03/Scala-Depedent-Types/"/>
    <id>https://a9032676.github.io/2020/11/03/Scala-Depedent-Types/</id>
    <published>2020-11-03T01:24:00.000Z</published>
    <updated>2020-11-03T02:11:54.222Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>æœ€è¿‘ç”±äºæ­£åœ¨ç ”ç©¶ç›´è§‰ç±»å‹è®ºä»¥åŠåŒä¼¦ç±»å‹è®º, å› æ­¤ç‰¹æ„æŒ‘é€‰äº† Scala çš„ Dotty ç¼–è¯‘å™¨ä½œä¸ºç ”ç©¶å¯¹è±¡, è€Œç”±äº Dotty æ‰€è®¾è®¡çš„ä¾èµ–ç±»å‹ç›¸è¾ƒäº Coq, Agda, Idris ä¹‹ç±»çš„è¯­è¨€æ¥è®²ååˆ†ä¸ç›´è§‚, å¯¼è‡´å†™å‡ºä¸€äº›å¸¦æœ‰å¤§é‡ä¾èµ–ç±»å‹çš„å‡½æ•°åˆ™æ˜¾å¾—è¾ƒä¸ºç»•å£, å› æ­¤æœ¬ç¯‡æ–‡ç« ä¸»è¦ç›®çš„æ˜¯æ‰¾å‡ºä¸€å¥—é€šç”¨çš„ç¼–ç æ–¹å¼, äº¦å³æ‰¾å¯»å‡º Scala ä¸ ç›´è§‰ç±»å‹è®º ä¹‹é—´çš„å¯¹åº”å…³ç³».</p><h2 id="åœ¨-dotty-ä¸­-scala-æ˜¯å¦‚ä½•ç¼–ç ä¾èµ–ç±»å‹çš„">åœ¨ Dotty ä¸­, Scala æ˜¯å¦‚ä½•ç¼–ç ä¾èµ–ç±»å‹çš„ï¼Ÿ</h2><p>é¦–å…ˆè®©æˆ‘ä»¬ä»æœ€ç®€å•çš„ä¾‹å­å¼€å§‹, å‡è®¾æœ‰ä¸€ä¾èµ–å‡½æ•°ç±»å‹ <span class="math inline">\(depfun\)</span>:</p><p><span class="math display">\[ depfun : \underset{(A : U)}{\Pi} \underset{(C : A \to U)}{\Pi} \underset{(x : A)}{\Pi} C(x) \]</span></p><p>ä¸”å…¶è¡¨è¾¾å¼ä¸º:</p><p><span class="math display">\[ depfun_{A, C}(x) = x \]</span></p><p>ç„¶åç°åœ¨æˆ‘ä»¬èƒ½äº Scala ä¸­å†™å‡ºè¿™ä¹ˆä¸€æ®µä»£ç : <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">trait C &#123; type A; val x : A &#125;</span><br><span class="line">type PiType = (c : C) =&gt; c.A</span><br><span class="line">val depfun : PiType = c =&gt; c.x</span><br></pre></td></tr></table></figure></p><p>äºè¿™æ®µä»£ç é‡Œ, ä½¿ç”¨äº† <code>trait</code>, <code>type</code> ä»¥åŠ <code>val</code> ä»¥æè¿°ä¾èµ–å‡½æ•°ç±»å‹ <code>depfun</code>ï¼Œ è€Œ <code>val depfun : PiType = c =&gt; c.x</code> çš„ <code>PiType</code> åˆ™ä»£è¡¨ç€ä¸€ä¸ªä¾èµ–å‡½æ•°ç±»å‹ (<span class="math inline">\(\Pi\)</span>-ç±»å‹), <code>(c : C) =&gt; c.x</code> éƒ¨åˆ†åˆ™ä¸ºä¸€é¡¹ (è¡¨è¾¾å¼).</p><h2 id="ä¸ºä»€ä¹ˆ-scala-ç¼–ç å¤æ‚çš„ä¾èµ–ç±»å‹æ˜¾å¾—å¦‚æ­¤å›°éš¾">ä¸ºä»€ä¹ˆ Scala ç¼–ç å¤æ‚çš„ä¾èµ–ç±»å‹æ˜¾å¾—å¦‚æ­¤å›°éš¾ï¼Ÿ</h2><h3 id="æ²¡æœ‰å…¨ç±»å¤šæ€çš„ä¾èµ–ç±»å‹">æ²¡æœ‰å…¨ç±»å¤šæ€çš„ä¾èµ–ç±»å‹</h3><h3 id="è¯­æ³•è®¾è®¡çš„é—®é¢˜">è¯­æ³•è®¾è®¡çš„é—®é¢˜</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;æœ€è¿‘ç”±äºæ­£åœ¨ç ”ç©¶ç›´è§‰ç±»å‹è®ºä»¥åŠåŒä¼¦ç±»å‹è®º, å› æ­¤ç‰¹æ„æŒ‘é€‰äº† Scala çš„ Dotty ç¼–è¯‘å™¨ä½œä¸ºç ”ç©¶å¯¹è±¡, è€Œç”±äº Dotty æ‰€è®¾è®¡çš„ä¾èµ–ç±»å‹ç›¸è¾ƒäº Coq, Agda, Idris ä¹‹ç±»çš„è¯­è¨€æ¥è®²ååˆ†ä¸ç›´è§‚, å¯¼è‡´å†™å‡ºä¸€äº›å¸¦æœ‰å¤§
      
    
    </summary>
    
    
      <category term="ç›´è§‰ç±»å‹è®º" scheme="https://a9032676.github.io/tags/%E7%9B%B4%E8%A7%89%E7%B1%BB%E5%9E%8B%E8%AE%BA/"/>
    
      <category term="Dotty" scheme="https://a9032676.github.io/tags/dotty/"/>
    
      <category term="Scala" scheme="https://a9032676.github.io/tags/scala/"/>
    
  </entry>
  
  <entry>
    <title>å¥‡å¦™çš„ä¾èµ–ç±»å‹ (ä¸Š): å…¨ç±», $\Pi$-ç±»å‹ ä»¥åŠ ä¹˜ç§¯ç±»å‹</title>
    <link href="https://a9032676.github.io/2020/10/28/Dependent-Function-Types/"/>
    <id>https://a9032676.github.io/2020/10/28/Dependent-Function-Types/</id>
    <published>2020-10-27T17:51:00.000Z</published>
    <updated>2020-10-31T09:54:25.626Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>äº <a href="https://en.wikipedia.org/wiki/Intuitionistic_type_theory" target="_blank" rel="noopener">ç›´è§‰ç±»å‹è®º (Intuitionistic type theory, æˆ– Martin-LÃ¶f's type theory)</a> ä¸­, å®šä¹‰äº†ä¸€äº›äºç»å…¸ç±»å‹è®ºä¸­æ²¡æœ‰çš„é«˜é˜¶ç±»å‹: <span class="math inline">\(\Pi\)</span>-ç±»å‹ (ä¾èµ–å‡½æ•°ç±»å‹, Dependent function types) ä»¥åŠ <span class="math inline">\(\Sigma\)</span>-ç±»å‹ (ä¾èµ–ä¹˜ç§¯ç±»å‹, Dependent pair types), è¯¥ç§ç±»å‹ç³»ç»Ÿå¯è¢«å¯¹åº”åˆ° <span class="math inline">\(\lambda\)</span>ç«‹æ–¹ä½“ ä¸­çš„ <span class="math inline">\(\lambda P\)</span> ä¸Š. æœ¬ç¯‡ç« å¤§éƒ¨åˆ†å†…å®¹å‡æ¥è‡ªäºå¯¹ <a href="https://hott.github.io/book/nightly/hott-ebook-1272-ga50f9bd.pdf" target="_blank" rel="noopener">Hott Book</a> çš„ç†è§£ä¸ç¿»è¯‘, å†ç¨åŠ æ”¹åŠ¨å¹¶å¼•å…¥ Agda ä½œä¸¾ä¾‹ç”¨é€”. åœ¨æ­¤æ¨èè¯»è€…é…åˆå…¶ä¸­ ç¬¬ä¸€ç«  Foundations çš„ 1.4 ~ 1.7 èŠ‚ è¿›è¡Œé˜…è¯». ç”±äºç¯‡å¹…è¿‡é•¿, æ–‡ç« å°†ä¼šåˆ†ä¸ºä¸Šä¸‹ä¸¤èŠ‚, è€Œæœ¬ç¯‡å°†å…ˆè¡Œä»‹ç» å…¨ç±», <span class="math inline">\(\Pi\)</span>-ç±»å‹ ä»¥åŠ ä¹˜ç§¯ç±»å‹ çš„æ¦‚å¿µ.</p><h2 id="å…¨ç±»-universes">å…¨ç±» (Universes)</h2><h3 id="å…¨ç±»å¤šæ€-universe-polymorphism">å…¨ç±»å¤šæ€ (Universe polymorphism)</h3><p>äºç»å…¸ç±»å‹è®ºä¸­, ä¸€èˆ¬ä¼šéå½¢å¼åŒ–åœ°ç§° "<span class="math inline">\(A\)</span> æ˜¯ä¸€ä¸ªç±»å‹", ä½†ä¸ºäº†æ›´å‡†ç¡®çš„å½¢å¼åŒ–åœ°å®šä¹‰å‡ºè¿™ç§å…³ç³», ä»¥åŠæè¿°ç±»å‹ä¸é¡¹ä¹‹é—´çš„å…³ç³», æˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªå…¨æ–°çš„æ¦‚å¿µ: å…¨ç±» (Universes). å…¨ç±»çš„æ„æ€å°±ç›¸å½“äº "æ•´ä¸ªå®‡å®™" ä¸€èˆ¬, å…¶æ˜¯è¿™ä¸ªå®‡å®™ä¸­æ‰€æœ‰ç±»å‹çš„ç±»å‹, ä¸€èˆ¬åœ°ä¼šå†™ä¸º <span class="math inline">\(U_\infty\)</span>. è€Œå½“æˆ‘ä»¬è¯•ç€ä»é›†åˆè®ºå‡ºå‘å»å®šä¹‰å…¨ç±»æ—¶, ç”±äº <span class="math inline">\(U_\infty\)</span> èƒ½å¤ŸåŒ…å«è‡ªèº«, å³ <span class="math inline">\(U_\infty : U_\infty\)</span>, ä½†æ­¤å¤„å°†ä¼šå¼•å‘ä¸€ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜, å³é›†åˆè®ºä¸Šè¿™ä¹ˆå®šä¹‰æ˜¯ <a href="https://en.wikipedia.org/wiki/Soundness" target="_blank" rel="noopener">ä¸å¯é çš„ (Unsound)</a> , è¿™å°†ç›´æ¥å¯¼è‡´ç½—ç´ æ‚–è®º (Russell's paradox) çš„å‡ºç°. ä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿ, æˆ‘ä»¬éœ€è¦ç‹¬ç«‹ä¸”ä¸ä¾èµ–é›†åˆè®ºçš„æƒ…å†µä¸‹é‡æ–°å®šä¹‰å‡ºå…¨ç±»çš„å±‚çº§:</p><p><span class="math display">\[ U_0 : U_1 : U_1 :\ ... \]</span></p><p>ä¸€èˆ¬åœ°æˆ‘ä»¬ä¼šå†™ä¸º <span class="math inline">\(U_i\)</span> (è¿™é‡Œçš„ <span class="math inline">\(i\)</span> ä¸ºå…¨ç±»çš„å±‚çº§), è€Œæ¯ä¸ª <span class="math inline">\(U_i\)</span> éƒ½æ˜¯ <span class="math inline">\(U_{i+1}\)</span> çš„å…ƒç´  (ä¹Ÿå°±æ˜¯ä¸€ä¸ªå¤§å®‡å®™å†…åŒ…å«ç€ä¸€ä¸ªå°å®‡å®™). è€Œæˆ‘ä»¬ç§°è¿™ç§åˆ†å±‚æ˜¯ å¯ç´¯åŠ çš„ (Cumulative), å³å¯¹äºæ‰€æœ‰äº <span class="math inline">\(i^{th}\)</span> å…¨ç±»å†…çš„å…ƒç´ äº¦éƒ½æ˜¯ <span class="math inline">\((i + 1)^{st}\)</span> å†…çš„å…ƒç´ , ä¾‹å¦‚æœ‰ <span class="math inline">\(A : U_i\)</span>, å³äº¦æœ‰ <span class="math inline">\(A : U_{i+1}\)</span>, è€Œè¿™ç§æ¦‚å¿µå¯è¢«ç§°ä¸º <a href="https://ncatlab.org/nlab/show/universe+polymorphism" target="_blank" rel="noopener">å…¨ç±»å¤šæ€ (Universe polymorphism)</a> .</p><h3 id="éšå¼å±‚çº§-implicit-level">éšå¼å±‚çº§ (Implicit level)</h3><p>è€Œäºå¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹, å¹¶ä¸éœ€è¦æ˜¾å¼åœ°æ ‡è®°å‡ºå…¨ç±»çš„å±‚çº§ <span class="math inline">\(i\)</span>, è€Œäº¦å¯å°†å…¶éšè—èµ·æ¥, å› æ­¤å¯ä»¥å†™æˆ <span class="math inline">\(U : U\)</span> (å…¶å«ä¹‰ä¸ <span class="math inline">\(U_i : U_{i+1}\)</span> ç­‰ä»·), è¿™ç§å†™æ³•ç§°ä¹‹ä¸º <code>Typical ambiguity</code>. è¿™ç§å†™æ³•è™½ç„¶è¾ƒä¸ºä¾¿æ·, ä½†è¿˜æ˜¯ä¼šç•¥å¸¦ç‚¹å±é™©æ€§, å› ä¸ºå…¶å°†å…è®¸æˆ‘ä»¬å†™å‡ºçœ‹ä¼¼åˆæ³•çš„, ä½†å®è´¨å¯èƒ½ä¼šè¯±å‘å„ç§è‡ªå¼•ç”¨æ‚–è®ºçš„è¯æ˜. ä¸è¿‡åœ¨è¿™é‡Œå…¶å®ä¹Ÿæ— éœ€å¤ªè¿‡æ‹…å¿ƒ, äº Agda æˆ–è€… Coq è¿™äº›è¯­è¨€ä¸Š, å…¶å…¨ç±»å±‚çº§éƒ½æ˜¯å¯ä»¥è‡ªåŠ¨æ¨å¯¼å¾—å‡ºçš„.</p><h3 id="å°ç±»å‹-small-types">å°ç±»å‹ (Small types)</h3><p>ç”±äºå…¨ç±»å¤šæ€çš„å‡ºç°, å…è®¸äº†æˆ‘ä»¬ç¼–å†™å‡ºè¡¨è¾¾èƒ½åŠ›æå¼ºçš„ç±»å‹ç³»ç»Ÿ, é™¤äº†ç±»å‹æœ¬èº«å¤–, ä¸ä»…ä»…å¯ä»¥å®šä¹‰å‡º "ç±»å‹çš„ç±»å‹", å³ <span class="math inline">\(Kind\)</span> (ç±»å‹æ„é€ å™¨), è¿˜å¯ä»¥å®šä¹‰å‡ºç±»å‹çš„ç±»å‹çš„ç±»å‹, ç±»å‹çš„ç±»å‹çš„ç±»å‹çš„ç±»å‹, å³ $Type_1 : Type_2 : Type_3 :Â ... $ ç­‰ç­‰. ç„¶åå‡è®¾ç°åœ¨æœ‰ <span class="math inline">\(U\)</span>, è€Œæ‰€æœ‰å½’å±äºè¯¥ <span class="math inline">\(U\)</span> çš„å…ƒç´  (ç±»å‹) å‡å¯è¢«ç§°ä¹‹ä¸º <span class="math inline">\(U\)</span> çš„ <code>å°ç±»å‹ (Small types)</code>.</p><h3 id="ç±»å‹æ—-families-of-types">ç±»å‹æ— (Families of types)</h3><p>ä¸ºäº†ä½¿ç±»å‹ä¹Ÿèƒ½å¤Ÿè¢«å‚æ•°åŒ–, æŠŠä¸€ä¸ªç±»å‹å½“ä½œå‡½æ•°çœ‹å¾…æ˜¯è¢«å…è®¸çš„. ä¾‹å¦‚è®¾æœ‰ç±»å‹ <span class="math inline">\(A\)</span>, ç„¶åæœ‰ä¸€å‡½æ•° <span class="math inline">\(B : A \to U\)</span>, å…¶æ¥å— <span class="math inline">\(A\)</span> ä½œä¸ºå‚æ•°, è¿”å› <span class="math inline">\(B\)</span> è¿™ä¸ªç±»å‹, è€Œé™ªåŸŸä¸Šåˆ™æ˜¯ <span class="math inline">\(U\)</span>. è¿™ç§å‡½æ•°æˆ‘ä»¬ä¸€èˆ¬ç§°ä¸º ç±»å‹æ— (æœ‰æ—¶å€™å¯è¢«è§†ä¸ºä¾èµ–ç±»å‹).</p><p>ä¾‹å¦‚å½“æˆ‘ä»¬æƒ³è¦æ¨¡æ‹Ÿå‡ºæ¨¡æ•°å–æ¨¡æ—¶, å®šä¹‰å‡ºæœ‰é™é›†åˆ <span class="math inline">\(\{ m\ |\ m &lt; n \}\)</span> æœ‰åˆ©äºä»¥å¾ªç¯ç¾¤çš„å½¢å¼è¿›è¡Œè¿ç®—, è€Œè¯¥é›†åˆåˆ™å¯å®šä¹‰ä¸º Fin : <span class="math inline">\(\Bbb{N} \to U\)</span>, Fin(<span class="math inline">\(n\)</span>) çš„ <span class="math inline">\(n\)</span> åˆ™è¡¨ç¤ºäº†å…¶é›†åˆçš„è¾¹ç•Œä½ç½®, å¯¹åº”åˆ° Agda ä¸­ <code>Data.Fin.Base</code> çš„å®šä¹‰å¦‚ä¸‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data Fin : â„• â†’ Set where</span><br><span class="line">  zero : &#123;n : â„•&#125; â†’ Fin (suc n)</span><br><span class="line">  suc  : &#123;n : â„•&#125; (i : Fin n) â†’ Fin (suc n)</span><br></pre></td></tr></table></figure><p>è€Œæœ€ç›´è§‚çš„ä¸”éå¸¸é‡è¦çš„ä¾‹å­å°±é <code>Constant type</code> è«å±äº†, å…¶å®šä¹‰å¦‚ <span class="math inline">\((\lambda (x : A). B) : A \to U\)</span>, ç”±äºè¿™ä¸ªç±»å‹æ—æ— è®ºå‚æ•°å¦‚ä½•å˜åŒ–, å…¶æ°¸è¿œè¿”å›çš„éƒ½å°†æ˜¯ <span class="math inline">\(B\)</span>, åˆ™å…¶å¯è¢«è§†ä¸ºä¸º <span class="math inline">\(B : U\)</span> .</p><h3 id="agda-ä¸Šçš„å®šä¹‰">Agda ä¸Šçš„å®šä¹‰</h3><p>äº Agda ä¸Š, Set ç±»å‹å¯¹åº”çš„å°±æ˜¯å…¨ç±»çš„æ¦‚å¿µ, è€Œ Set <span class="math inline">\(\ell\)</span> ä¸­çš„ <span class="math inline">\(\ell\)</span> åˆ™æ˜¯å…¨ç±»çš„å±‚çº§. è€Œå…¨ç±»å±‚çº§äº module <code>Agda.Primitive</code> ä¸­çš„å®šä¹‰å¦‚ä¸‹: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">infixl 6 _âŠ”_</span><br><span class="line"></span><br><span class="line">postulate</span><br><span class="line">  Level : Set</span><br><span class="line"></span><br><span class="line">postulate</span><br><span class="line">  lzero : Level</span><br><span class="line">  lsuc  : (â„“ : Level) â†’ Level</span><br><span class="line">  _âŠ”_   : (â„“â‚ â„“â‚‚ : Level) â†’ Level</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><p>è¯¥å±‚çº§çš„å®šä¹‰å®é™…ä¸Šæ˜¯ä¸ªå†…ç½®äº Agda ä¸­çš„è‡ªç„¶æ•°, å¹¶éç›´æ¥ä½¿ç”¨çš„ <code>Data.Nat</code> (<span class="math inline">\(\Bbb{N}\)</span>) ç±»å‹.</p><h2 id="pi-ç±»å‹-pi-type"><span class="math inline">\(\Pi\)</span>-ç±»å‹ (<span class="math inline">\(\Pi\)</span>-Type)</h2><p><span class="math inline">\(\Pi\)</span>-ç±»å‹, åˆç§°ä¸º <code>ä¾èµ–å‡½æ•°ç±»å‹ (Dependent function type)</code>, æ˜¯ä¾èµ–ç±»å‹çš„ä¸€ç§. å…¶äºé™ªåŸŸçš„ç±»å‹å°†ä¾èµ–äºä¼ å…¥çš„å€¼, å³åˆ°è¾¾åŸŸçš„å€¼è€Œä½œå‡ºæ”¹å˜. è€Œä¹‹æ‰€ä»¥ç§°ä¸º <span class="math inline">\(\Pi\)</span>-ç±»å‹ æ˜¯å› ä¸ºè¿™ç§ç±»å‹å¯ä»¥è¢«è§†ä¸ºæ˜¯åœ¨ç±»å‹ä¹‹ä¸Šçš„ç¬›å¡å„¿ç§¯.</p><h3 id="å®šä¹‰">å®šä¹‰</h3><p>å½¢å¼åŒ–åœ°, å‡è®¾ç°åœ¨æœ‰ç±»å‹ <span class="math inline">\(A : U\)</span> ä»¥åŠç±»å‹æ— <span class="math inline">\(B : A \to U\)</span>, æˆ‘ä»¬ä¾¿èƒ½å¤Ÿæ„é€ ä¸€ä¸ªä¾èµ–å‡½æ•°ç±»å‹ <span class="math inline">\(\Pi_{(x : A)} B(x) : U\)</span>. å½“ç„¶è¿˜æœ‰è®¸å¤šç§ä¸åŒçš„å†™æ³•å¯ä¾›é€‰æ‹©, ä¾‹å¦‚ä»¥ä¸‹è¿™äº›:</p><p><span class="math display">\[ \Pi_{(x : A)} B(x) \qquad \underset{(x : A)}{\Pi} B(x) \qquad \Pi (x : A), B(x) \]</span></p><p>è€Œå¯¹åº”åˆ° Agda ä¸­çš„ç±»å‹æ ‡ç­¾åˆ™å¦‚ä¸‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_ : âˆ€ (A : Set) &#123;x : A&#125; &#123;B : A â†’ Set&#125; â†’ B x</span><br></pre></td></tr></table></figure><p>è€Œåœ¨ä¸€ä¸ªç‰¹æ®Šæƒ…å†µä¸‹, å½“ <span class="math inline">\(B\)</span> æ˜¯ä¸€ä¸ª <code>Constant family</code> æ—¶, å³ <span class="math inline">\(B\)</span> å¹¶æ²¡æœ‰ä¾èµ–äº <span class="math inline">\(x : A\)</span>, åˆ™ä¾èµ–å‡½æ•°ç±»å‹å°† "åå¡Œ" æˆä¸€æ™®é€šå‡½æ•°:</p><p><span class="math display">\[ \Pi_{(x : A)} B \equiv (A \to B) \]</span></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_ : âˆ€ (A : Set) &#123;x : A&#125; &#123;B : Set&#125; â†’ B</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢ç»™åˆ°çš„ä¾‹å­ä»¥åŠå®šä¹‰ä¸­, ç±»å‹æ ‡ç­¾æœ¬èº«æ˜¯æ²¡æœ‰åå­—çš„ (å³ Agda ä¸­çš„ <code>_</code>), å®é™…ä¸Šæˆ‘ä»¬æ— è®ºäºå½¢å¼åŒ–çš„å®šä¹‰ä¸Š, è¿˜æ˜¯ Agda ä¸­, éƒ½å¯ä»¥ç»™äºˆç›¸åº”çš„åå­—, å¦‚: <span class="math inline">\(f : \Pi_{(x : A)} B(x)\)</span>, å³ <span class="math inline">\(f\)</span> æ˜¯ä¸ºä¸€ä¾èµ–å‡½æ•°çš„åå­—, ä½¿å¾—ä»–ä»¬æ˜¯ <code>æ˜¾å¼å®šä¹‰ (Explicit definitions)</code> çš„. è€Œé™¤äº†ç±»å‹å¤–, ä¸€ä¸ªä¾èµ–å‡½æ•°è‹¥æœå¸¦æœ‰è¯¸å¦‚è¡¨è¾¾å¼ <span class="math inline">\(\Phi : B(x)\)</span> è€Œæ¶‰åŠåˆ° <span class="math inline">\(x : A\)</span> çš„è¯, å¯è¢«æè¿°ä¸º:</p><p><span class="math display">\[ f(x) :\equiv \Phi \qquad å¯¹äº x : A \]</span></p><p>å½“ç„¶äº¦å¯æ›¿ä»£æˆä½¿ç”¨ <span class="math inline">\(\lambda\)</span>-abstraction çš„å½¢å¼è¿›è¡Œå®šä¹‰:</p><p><span class="math display">\[ \lambda x. \Phi : \underset{x : A}{\Pi} B(x) \]</span></p><h3 id="å…¨ç±»ä¸Šçš„å¤šæ€">å…¨ç±»ä¸Šçš„å¤šæ€</h3><p>å¤šæ€èƒ½å¤Ÿåº”ç”¨äºç»™å®šçš„å…¨ç±»ä¸Š, è¿™æ˜¯åˆä¸€ä¾èµ–å‡½æ•°ç±»å‹è‡³å…³é‡è¦çš„ç‰¹æ€§. ç”¨é€šä¿—çš„è¯æ¥è¯´å³æ˜¯å‡è®¾ç°åœ¨æœ‰ <span class="math inline">\(id : \Pi_{(A : U)} A \to A\)</span> è¿™ä¹ˆä¸€ä¸ªä¾èµ–å‡½æ•°ç±»å‹, è€Œæ­¤å¤„åˆ™å¯ä»¥åƒç±»å‹æ—ä¸€èˆ¬, æ¥å—ä¸€ä¸ªç±»å‹ä½œä¸ºå‚æ•°, ç„¶åä½œç”¨äºç±»å‹ <span class="math inline">\(A\)</span> çš„è¡¨è¾¾å¼ä¸Š, å°±å¦‚åŒ <span class="math inline">\(id :\equiv \lambda (A : U). \lambda (x : A). x\)</span> ä¸€æ ·.</p><p>è€Œå¦ä¸€ä¸ªå¤šæ€å‡½æ•°çš„ä¾‹å­ <code>swap</code> (æˆ– <code>flip</code>) å‡½æ•°, ç›¸ä¿¡å¤§å®¶éƒ½éå¸¸ç†Ÿæ‚‰çš„äº†, æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿä¸€ä¸‹å®ƒæ˜¯æ€ä¹ˆå®šä¹‰çš„:</p><p><span class="math display">\[ swap : \underset{(A : U)}{\Pi} \underset{(B : U)}{\Pi} \underset{(C : U)}{\Pi} (A \to B \to C) \to (B \to A \to C) \]</span></p><p>ä¸”å…¶è¡¨è¾¾å¼ä¸º:</p><p><span class="math display">\[ swap(A, B, C, g) :\equiv \lambda b. \lambda a. g(a)(b) \]</span></p><p>å½“ç„¶åœ°, æˆ‘ä»¬åœ¨è¡¨è¾¾å¼ä¸Šå¹¶æ— éœ€è¦ä½¿ç”¨åˆ° <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, <span class="math inline">\(C\)</span> æ—¶, åˆ™å¯ä»¥å°†å…¶éšè—èµ·æ¥, å¦‚:</p><p><span class="math display">\[ swap_{A, B, C}(g)(b, a) :\equiv g(a)(b) \]</span></p><p>ä½†ä¸è¦å¿˜è®°, <code>swap</code> ä»…ä»…è¿˜åªæ˜¯ä¸ªæ™®é€šçš„å¤šæ€å‡½æ•°è€Œå·²ï¼ æˆ‘ä»¬ç°åœ¨éœ€è¦åšçš„æ˜¯å®šä¹‰å‡ºä¸€ä¸ªåŸºäºä¾èµ–å‡½æ•°ç±»å‹çš„å¤šæ€å‡½æ•° <code>swap'</code>, ä¾‹å¦‚:</p><p><span class="math display">\[ swap&#39; : \underset{(A : U)}{\Pi} \underset{(B : U)}{\Pi} \underset{(C : A \to B \to U)}{\Pi} (\underset{(x : A)}{\Pi} \underset{(y : B)}{\Pi} C(x, y)) \to (\underset{(y : B)}{\Pi} \underset{(x : A)}{\Pi} C(x, y)) \]</span></p><p>è€Œå¯¹äºä¸Šé¢çš„ <span class="math inline">\(C(x, y)\)</span>, å®é™…ä¸Šç­‰åŒäº <span class="math inline">\(C(x)(y)\)</span>, å³ç›¸å½“äºæŸ¯é‡ŒåŒ–. ä¸‹é¢åˆ™ä¸º Agda äº <code>Function.Core</code> ä¸‹çš„å¯¹ç…§ç‰ˆæœ¬:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">flip : âˆ€ &#123;A : Set a&#125; &#123;B : Set b&#125; &#123;C : A â†’ B â†’ Set c&#125; â†’</span><br><span class="line">       ((x : A) (y : B) â†’ C x y) â†’ ((y : B) (x : A) â†’ C x y)</span><br><span class="line">flip f = Î» y x â†’ f x y</span><br></pre></td></tr></table></figure><p>å†æ¥ä¸€ä¸ª <code>_âˆ˜_</code> (Compose) çš„ä¾‹å­:</p><p>éä¾èµ–ç±»å‹çš„æƒ…å†µä¸‹æ˜¯:</p><p><span class="math display">\[ comp : \underset{(A, B, C : U)}{\Pi} (B \to C) \to (A \to B) \to (A \to C) \]</span></p><p>è€Œä½¿ç”¨äº†ä¾èµ–å‡½æ•°ç±»å‹å®šä¹‰çš„åˆ™æ˜¯:</p><p><span class="math display">\[ comp : \underset{(A, B, C : U)}{\Pi} \underset{(B : A \to U)}{\Pi} \underset{(C : \underset{(x : A)}{\Pi} B(x) \to U)}{\Pi} (\underset{(x : A)}{\Pi} \underset{(y : B(x))}{\Pi} C(y)) \to \underset{(g : \underset{(x : A)}{\Pi} B(x))}{\Pi} (\underset{(x : A)}{\Pi} C(g(x))) \]</span></p><p>Agda ä¸Šçš„å®šä¹‰åˆ™æ˜¯:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">_âˆ˜_ : âˆ€ &#123;A : Set a&#125; &#123;B : A â†’ Set b&#125; &#123;C : &#123;x : A&#125; â†’ B x â†’ Set c&#125; â†’</span><br><span class="line">      (âˆ€ &#123;x&#125; (y : B x) â†’ C y) â†’ (g : (x : A) â†’ B x) â†’</span><br><span class="line">      ((x : A) â†’ C (g x))</span><br><span class="line">f âˆ˜ g = Î» x â†’ f (g x)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;äº &lt;a href=&quot;https://en.wikipedia.org/wiki/Intuitionistic_type_theory&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç›´è§‰ç±»å‹è®º (Intuitioni
      
    
    </summary>
    
    
      <category term="ç±»å‹è®º" scheme="https://a9032676.github.io/tags/%E7%B1%BB%E5%9E%8B%E8%AE%BA/"/>
    
      <category term="ç›´è§‰ç±»å‹è®º" scheme="https://a9032676.github.io/tags/%E7%9B%B4%E8%A7%89%E7%B1%BB%E5%9E%8B%E8%AE%BA/"/>
    
      <category term="Agda" scheme="https://a9032676.github.io/tags/agda/"/>
    
  </entry>
  
  <entry>
    <title>Church-Rosser å®šç†è¯æ˜</title>
    <link href="https://a9032676.github.io/2020/10/11/Church-Rosser-Theorem/"/>
    <id>https://a9032676.github.io/2020/10/11/Church-Rosser-Theorem/</id>
    <published>2020-10-10T22:08:00.000Z</published>
    <updated>2020-10-12T12:27:42.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>äºç†è®ºè®¡ç®—æœºç§‘å­¦ä¸­, Church-Rosser å®šç† è®²è¿°äº†å½“æˆ‘ä»¬å°è¯•ç»™ä»»æ„ <span class="math inline">\(\lambda\)</span>-è¡¨è¾¾å¼ çš„å˜ä½“åº”ç”¨ <span class="math inline">\(reduction\)</span> è§„åˆ™æ—¶, ä¸ç®¡æ‰€è§„çº¦æ’åºå¦‚ä½•, ä¹Ÿå®šä¸ä¼šå½±å“åˆ°æœ€ç»ˆçš„è¿è¡Œç»“æœ. è¯¥å®šç†ç”± <a href="https://en.wikipedia.org/wiki/Alonzo_Church" target="_blank" rel="noopener">Alonzo Church</a> ä¸ <a href="https://en.wikipedia.org/wiki/J._Barkley_Rosser" target="_blank" rel="noopener">J. Barkley Rosser</a> äº 1936 å¹´æ—¶è¯æ˜å¾—å‡º, å¹¶ä»¥ä»–ä»¬çš„åç§°æ‰€å‘½å.</p><h2 id="beta-èŒƒå¼-beta-normal-form-beta-nf"><span class="math inline">\(\beta\)</span>-èŒƒå¼ (<span class="math inline">\(\beta\)</span>-normal form, <span class="math inline">\(\beta\)</span>-nf)</h2><h3 id="å®šä¹‰">å®šä¹‰</h3><ol type="1"><li><span class="math inline">\(\beta\)</span>-redex çš„é¡¹æ˜¯ç±»ä¼¼äº (<span class="math inline">\(\lambda x. M)\ N\)</span> è¿™æ ·çš„è¡¨è¾¾å¼, è€Œè¿™ä¸ªä¾‹å­ä¸­ <span class="math inline">\(M[x := N]\)</span> åˆ™æ˜¯å…¶çš„ <span class="math inline">\(contractum\)</span>.</li><li>ä¸€ä¸ª <span class="math inline">\(\lambda\)</span>-é¡¹ <span class="math inline">\(M\)</span> è¢«ç§°ä¸º <span class="math inline">\(\beta\)</span>-nf è‹¥å…¶æ²¡æœ‰ <span class="math inline">\(\beta\)</span>-redex ä½œä¸ºå­è¡¨è¾¾å¼.</li><li>å¯¹äº <span class="math inline">\(\exists N\)</span>, è‹¥æœ‰é¡¹ <span class="math inline">\(M =_{\beta} N\)</span> ä¸” <span class="math inline">\(N\)</span> æœ¬èº«å­˜åœ¨ <span class="math inline">\(\beta\)</span>-nf, åˆ™ <span class="math inline">\(M\)</span> äº¦æœ‰ <span class="math inline">\(\beta\)</span>-nf.</li></ol><p>ä¾‹å¦‚ <span class="math inline">\((\lambda x. xx)\ y\)</span> æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ª <span class="math inline">\(\beta\)</span>-nf, ä½†äº <span class="math inline">\(\beta\)</span>-è§„çº¦ ä¹‹åå­˜åœ¨é¡¹ <span class="math inline">\(yy\)</span>, è¿™ä¾¿æ˜¯ä¸€ä¸ª <span class="math inline">\(\beta\)</span>-nf äº†.</p><h3 id="å¼•ç†">å¼•ç†</h3><p>è®¾æœ‰ <span class="math inline">\(M, M&#39;, N, L \in \Lambda\)</span>.</p><ol type="1"><li><p>è®¾ <span class="math inline">\(M\)</span> ä¸º <span class="math inline">\(\beta\)</span>-nf, åˆ™æœ‰ <span class="math inline">\(M \twoheadrightarrow_{\beta} N \implies N \equiv M\)</span>.</p></li><li><p>è‹¥ <span class="math inline">\(M \to_{\beta} M&#39;\)</span>, åˆ™æœ‰ <span class="math inline">\(M[x := N] \to_{\beta} M&#39;[x := N]\)</span></p></li></ol><h3 id="è¯æ˜">è¯æ˜</h3><ol type="1"><li><p>ç”±äº <span class="math inline">\(M\)</span> æ˜¯ <span class="math inline">\(\beta\)</span>-nf, å®šä¸å­˜åœ¨ä»»ä½•çš„ <span class="math inline">\(\beta\)</span>-redex, æ‰€ä»¥æ°¸è¿œéƒ½ä¸ä¼šæœ‰ <span class="math inline">\(M \to_{\beta} N\)</span> çš„æƒ…å†µå‡ºç°. å› æ­¤å³ä½¿æœ‰ <span class="math inline">\(M \twoheadrightarrow_{\beta} N\)</span>, ä¹ŸåŠ¿å¿…æ˜¯ <span class="math inline">\(M \equiv N\)</span>.</p></li><li><p>ç›´æ¥åº”ç”¨ <span class="math inline">\(\to_{\beta}\)</span> çš„è§„åˆ™è¿›è¡Œè§„çº¦äº¦èƒ½å¾—å‡ºåŒæ ·çš„ç»“æœ.</p></li></ol><h2 id="church-rosser-å®šç†">Church-Rosser å®šç†</h2><h3 id="å®šä¹‰-1">å®šä¹‰</h3><p>è‹¥æœ <span class="math inline">\(M \twoheadrightarrow_{\beta} N_1, M \twoheadrightarrow_{\beta} N_2\)</span>, åˆ™å­˜åœ¨æŸäº› <span class="math inline">\(N_3\)</span> æœ‰ <span class="math inline">\(N_1 \twoheadrightarrow_{\beta} N_3\)</span> ä¸” <span class="math inline">\(N_2 \twoheadrightarrow_{\beta} N_3\)</span>, å¦‚å›¾:</p><p><span class="math display">\[\xymatrix{ &amp; M \ar@{-&gt;&gt;}[ld] \ar@{-&gt;&gt;}[rd] &amp;  \\N_1 \ar@{.&gt;&gt;}[rd] &amp;  &amp; N_2 \ar@{.&gt;&gt;}[ld] \\ &amp; N_3 &amp; }\]</span></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;äºç†è®ºè®¡ç®—æœºç§‘å­¦ä¸­, Church-Rosser å®šç† è®²è¿°äº†å½“æˆ‘ä»¬å°è¯•ç»™ä»»æ„ &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt;-è¡¨è¾¾å¼ çš„å˜ä½“åº”ç”¨ &lt;span class=&quot;math inli
      
    
    </summary>
    
    
      <category term="ç±»å‹è®º" scheme="https://a9032676.github.io/tags/%E7%B1%BB%E5%9E%8B%E8%AE%BA/"/>
    
      <category term="é€»è¾‘" scheme="https://a9032676.github.io/tags/%E9%80%BB%E8%BE%91/"/>
    
      <category term="è¯æ˜" scheme="https://a9032676.github.io/tags/%E8%AF%81%E6%98%8E/"/>
    
  </entry>
  
  <entry>
    <title>MPS ç³»åˆ— ç¬¬ä¸€ç« ï¼šä¸º Java å¢åŠ  do-notation è¯­æ³•</title>
    <link href="https://a9032676.github.io/2020/10/09/MPS-do-notation/"/>
    <id>https://a9032676.github.io/2020/10/09/MPS-do-notation/</id>
    <published>2020-10-09T03:07:00.000Z</published>
    <updated>2020-10-10T22:35:37.531Z</updated>
    
    <content type="html"><![CDATA[]]></content>
    
    <summary type="html">
    
      
      
        

      
    
    </summary>
    
    
      <category term="å‡½æ•°å¼ç¼–ç¨‹" scheme="https://a9032676.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    
      <category term="DSL" scheme="https://a9032676.github.io/tags/dsl/"/>
    
      <category term="Java" scheme="https://a9032676.github.io/tags/java/"/>
    
      <category term="è¯­ä¹‰å·¥ç¨‹" scheme="https://a9032676.github.io/tags/%E8%AF%AD%E4%B9%89%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>ä¸åŠ¨ç‚¹ç»„åˆå­çš„åŸç†ä¸å®šç†è¯æ˜</title>
    <link href="https://a9032676.github.io/2020/09/27/FIxed-Point-Theorem-Proof-And-Derivation/"/>
    <id>https://a9032676.github.io/2020/09/27/FIxed-Point-Theorem-Proof-And-Derivation/</id>
    <published>2020-09-26T18:28:00.000Z</published>
    <updated>2020-12-02T06:40:56.315Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹">ç®€ä»‹</h2><p><a href="https://en.wikipedia.org/wiki/Fixed-point_combinator" target="_blank" rel="noopener">ä¸åŠ¨ç‚¹ç»„åˆå­ (Fixed-Point Combinator)</a> æ˜¯ä¸€ç§è®¡ç®—å…¶ä»–å‡½æ•° ä¸åŠ¨ç‚¹ (Fixed-Point) çš„é«˜é˜¶å‡½æ•°. æœ‰å‡½æ•° <span class="math inline">\(f\)</span> å…¶è¾“å…¥å€¼ <span class="math inline">\(x\)</span> è‹¥ä¸è¿”å›å€¼ç›¸åŒ (åŒæ ·æ˜¯è¿”å› <span class="math inline">\(x\)</span>, å³ <span class="math inline">\(f(x) = x\)</span>), åˆ™ç§°ä¹‹ä¸ºå‡½æ•° <span class="math inline">\(f\)</span> ä¸Šçš„ä¸åŠ¨ç‚¹ä¸º <span class="math inline">\(x\)</span>. ä¾‹å¦‚ç°åœ¨æœ‰ <span class="math inline">\(f(x) = x ^ 2\)</span>, åˆ™å…¶ä¸åŠ¨ç‚¹æ˜¯ <span class="math inline">\(f(0) = 0 ^ 2 \equiv 0\)</span> ä»¥åŠ <span class="math inline">\(f(1) = 1 ^ 2 \equiv 1\)</span>. è€Œå¯¹äºé«˜é˜¶å‡½æ•° <span class="math inline">\(f\)</span>, å…¶æ‹¥æœ‰ <span class="math inline">\(g\)</span> ä½œä¸ºä¸åŠ¨ç‚¹ä½¿å¾— <span class="math inline">\(f(g) = g\)</span>.</p><h3 id="é€’å½’äº-lambda-æ¼”ç®—-ä¸Šçš„çŸ›ç›¾">é€’å½’äº <span class="math inline">\(\lambda\)</span>-æ¼”ç®— ä¸Šçš„çŸ›ç›¾</h3><p>ç°åœ¨å‡è®¾æˆ‘ä»¬æœ‰ä¸€é˜¶ä¹˜å‡½æ•° <span class="math inline">\(fact\)</span>:</p><p><span class="math display">\[\begin{aligned}    if\_then\_else &amp; := \lambda p. \lambda a. \lambda b. p a b \\    fact &amp; := \lambda x. if\ (x &gt; 0)\ then\ (x * (fact\ (x - 1)))\ else\ 1\end{aligned}\]</span></p><p>è€Œæˆ‘ä»¬ä»å®šä¹‰ä¸­å¾—çŸ¥ <span class="math inline">\(fact\)</span> äºé€’å½’æ—¶å°†è°ƒç”¨è‡ªèº«, ä¾‹å¦‚:</p><p><span class="math display">\[\begin{aligned}    fact\ 5 &amp; = (\lambda x. if\ (x &gt; 0)\ then\ (x * (fact\ (x - 1)))\ else\ 1)\ 5 \\    &amp; \to_{\beta} 5 * (fact\ 4) \\    &amp; \to_{\beta} 5 * (4 * (fact\ 3)) \\    &amp; \to_{\beta} 5 * (4 * (3 * (fact\ 2))) \\    &amp; \to_{\beta} 5 * (4 * (3 * (2 * (fact\ 1)))) \\    &amp; \to_{\beta} 5 * (4 * (3 * (2 * 1))) \\    &amp; \twoheadrightarrow_{\beta} 120\end{aligned}\]</span></p><p>ä½†å®é™…åœ¨ <span class="math inline">\(\lambda\)</span>-æ¼”ç®— ä¸­, æ‰€æœ‰ <span class="math inline">\(\lambda\)</span>-è¡¨è¾¾å¼ æœ¬è´¨ä¸Šæ˜¯éƒ½åº”è¯¥æ˜¯é—­åˆçš„, å³æ—  <code>è‡ªç”±å˜é‡ (Free Variable, FV)</code> çš„ä»‹å…¥, å› æ­¤åˆç§° <code>åŒ¿åå‡½æ•° (Anonymous function)</code>. ä½†ä¸Šè¿°ä¾‹å­ä¸­ <span class="math inline">\(fact \in FV\)</span>, æ­¤å¤„ä¾¿ä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜: è‹¥æœå‚æ•°å¹¶éè¢«ç»‘å®šçš„ (å³ <span class="math inline">\(M[\alpha := fact]\)</span>, M ä¸ºå…·ä½“çš„ <span class="math inline">\(\lambda\)</span>-è¡¨è¾¾å¼), å³æˆ‘ä»¬æ— æ³•ç›´æ¥é€è¿‡ <span class="math inline">\(fact\ x\)</span> è°ƒç”¨è‡ªèº«, å³æ— æ³•è¾¾åˆ°é€’å½’çš„æ•ˆæœ.</p><h3 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h3><p>ä½†æˆ‘ä»¬å¯¹æ­¤çœŸçš„ä¸€ç‚¹åŠæ³•éƒ½æ²¡æœ‰äº†å—ï¼Ÿ ä»”ç»†ç¢ç£¨å…¶å®å¹¶ä¸, æˆ‘ä»¬å¯ä»¥åœ¨è¯¥å‡½æ•°æœ¬èº«å¤šå¢åŠ ä¸€ä¸ªå‚æ•° <span class="math inline">\(\lambda f\)</span>, å¹¶å°†è‡ªèº«ä½œä¸ºå€¼è¢«ä¼ å…¥è‡³ <span class="math inline">\(\lambda f\)</span> ä¸Š, ä¾‹å¦‚:</p><p><span class="math display">\[ \lambda f. (\lambda x. if\ (x &gt; 0)\ then\ (x * (f (x - 1)))\ else\ 1) \]</span></p><p>å¹¶ç»™è¯¥å‡½æ•°èµ·ä¸ªåˆ«å <span class="math inline">\(fact&#39;\)</span></p><p><span class="math display">\[ fact&#39; := \lambda f. (\lambda x. if\ (x &gt; 0)\ then\ (x * (f (x - 1)))\ else\ 1) \]</span></p><p>ç„¶åè°ƒç”¨:</p><p><span class="math display">\[\begin{aligned}    fact&#39;\ fact&#39;\ 5 &amp; = (\lambda f. (\lambda x. if\ (x &gt; 0)\ then\ (x * (f\ (x - 1)))\ else\ 1))\ fact&#39;\ 5 \\    &amp; \to_{\beta} (\lambda x. if\ (x &gt; 0)\ then\ (x * (fact&#39;\ (x - 1)))\ else\ 1)\ 5\end{aligned}\]</span></p><p>æ­¤æ—¶æ„å¤–å‘ç”Ÿäº†ï¼ ä»”ç»†è§‚å¯Ÿ <span class="math inline">\(fact&#39;\ (x - 1)\)</span> çš„ä½ç½®, å®é™…ä¸Š <span class="math inline">\(fact&#39;\)</span> æ¥å—çš„æ˜¯ä¸¤ä¸ªå‚æ•°, åˆ†åˆ«æ˜¯ <span class="math inline">\(\lambda f\)</span> ä»¥åŠ <span class="math inline">\(\lambda x\)</span>, ä½†äºå‡½æ•°å†…éƒ¨çš„è¿™ä¸ª <span class="math inline">\(fact&#39;\)</span> å´åªä¼ å…¥äº†ä¸€ä¸ª <span class="math inline">\((x - 1)\)</span> çš„å€¼è€Œå¯¼è‡´å‡ºé”™. å› æ­¤æˆ‘ä»¬æŠŠ <span class="math inline">\(fact&#39;\)</span> çš„å®šä¹‰ä¿®æ”¹ä¸º:</p><p><span class="math display">\[ fact&#39; := \lambda f. (\lambda x. if\ (x &gt; 0)\ then\ (x * (f\ f\ (x - 1)))\ else\ 1) \]</span></p><p>ç„¶åå†æ¬¡è°ƒç”¨:</p><p><span class="math display">\[\begin{aligned}    fact&#39;\ fact&#39;\ 5 &amp; = (\lambda f. (\lambda x. if\ (x &gt; 0)\ then\ (x * (f\ f\ (x - 1)))\ else\ 1))\ fact&#39;\ 5 \\    &amp; \to_{\beta} (\lambda x. if\ (x &gt; 0)\ then\ (x * (fact&#39;\ fact&#39;\ (x - 1)))\ else\ 1)\ 5 \\    &amp; \to_{\beta} 5 * (fact&#39;\ fact&#39;\ 4) \\    &amp; \to_{\beta} 5 * (4 * (fact&#39;\ fact&#39;\ 3)) \\    &amp; \to_{\beta} 5 * (4 * (3 * (fact&#39;\ fact&#39;\ 2))) \\    &amp; \to_{\beta} 5 * (4 * (3 * (2 * (fact&#39;\ fact&#39;\ 1)))) \\    &amp; \to_{\beta} 5 * (4 * (3 * (2 * 1))) \\    &amp; \twoheadrightarrow_{\beta} 120\end{aligned}\]</span></p><p>ç”±æ­¤å¯è§, è¯¥æ–¹æ³•çš„è¯­ä¹‰ä¸é€’å½’æ˜¯å®Œå…¨ä¸€è‡´çš„, <span class="math inline">\(\lambda\)</span>-æ¼”ç®— çš„è®¡ç®—èƒ½åŠ›å¹¶æ²¡æœ‰å› æ­¤è€Œè¢«å‰Šå¼±, åè€Œè§åˆ°å…¶å¼ºå¤§çš„ä¸€é¢ï¼</p><h3 id="å¼•å‡ºä¸åŠ¨ç‚¹">å¼•å‡ºä¸åŠ¨ç‚¹</h3><p>è™½ç„¶æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å†™å‡ºä¸€ä¸ªæ›¿ä»£é€’å½’çš„è§£å†³æ–¹æ¡ˆ, ä½†è¯¥æ–¹æ¡ˆå¹¶ä¸å¤ªå®Œç¾, äº <span class="math inline">\(fact&#39; fact&#39; (x - 1)\)</span> çš„éƒ¨åˆ†, è¿™é‡Œä¼šå¤šä¼ ä¸€ä¸ªå€¼ <span class="math inline">\(fact&#39;\)</span> ä½œä¸º <span class="math inline">\(fact&#39;\)</span> çš„å‚æ•°, å°±å¥½åƒé‡å¤äº†ä¸¤æ¬¡ä¸€æ ·, é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•è®©è¿™ä¸ª <span class="math inline">\(fact&#39;\)</span> å‡½æ•°åªæ¥å—ä¸€ä¸ªæ•´æ•°å‚æ•° <span class="math inline">\(x\)</span> ä¸”è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœ? ç°åœ¨å½“æˆ‘ä»¬å›æƒ³ä¸€ä¸‹é€’å½’å‡½æ•°çš„å®šä¹‰ <span class="math inline">\(fact := \lambda x. if\ (x &gt; 0)\ then\ (x * (fact\ (x - 1)))\ else\ 1\)</span>, è¿™ä¸æ­£æ­£å°±æ˜¯æ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°å˜›, äºæ˜¯ä¹æˆ‘ä»¬å¯ä»¥è¯•å›¾å°†å…¶å®šä¹‰æ”¹å›å»å†å¯»æ‰¾æ–°åŠæ³•:</p><p><span class="math display">\[ fact&#39; = \lambda f. (\lambda x. if\ (x &gt; 0)\ then\ (x * (f\ (x - 1)))\ else\ 1) \]</span></p><p>ç„¶åå†ä¼ å…¥å‚æ•°:</p><p><span class="math display">\[\begin{aligned}    fact&#39;\ fact\ 5 &amp; = (\lambda f. (\lambda x. if\ (x &gt; 0)\ then\ (x * (f\ (x - 1)))\ else\ 1))\ fact\ 5 \\    &amp; \to_{\beta} (\lambda x. if\ (x &gt; 0)\ then\ (x * (fact\ (x - 1)))\ else\ 1)\ 5\end{aligned}\]</span></p><p>åœ¨ <span class="math inline">\(\beta-reduction\)</span> ä¹‹åçš„è¿™ä¸€æ­¥, æˆ‘ä»¬ä¼šæƒŠå¥‡çš„å‘ç° å½“ä¸­çš„ <span class="math inline">\((\lambda x. if\ (x &gt; 0)\ then\ (x * (fact\ (x - 1)))\ else\ 1)\)</span> å…¶å®šä¹‰ä¸ <span class="math inline">\(fact\)</span> å®Œå…¨ä¸€è‡´, è€Œå½“å°è¯•åªä¼ å…¥ä¸€ä¸ªå‚æ•° <span class="math inline">\(fact\)</span> è¿›è¡Œ <code>éƒ¨åˆ†æ±‚å€¼ (Partial evaluation)</code> æ—¶, å³:</p><p><span class="math display">\[\begin{aligned}    fact&#39;\ fact\ &amp; = (\lambda f. (\lambda x. if\ (x &gt; 0)\ then\ (x * (f\ (x - 1)))\ else\ 1))\ fact\ \\    &amp; \to_{\beta} (\lambda x. if\ (x &gt; 0)\ then\ (x * (fact\ (x - 1)))\ else\ 1) \\    &amp; = fact\end{aligned}\]</span></p><p>è¿™é‡Œæˆ‘ä»¬ä¼šå‘ç° <span class="math inline">\(fact&#39;\)</span> äºä¼ å…¥ <span class="math inline">\(fact\)</span> æ—¶, åˆ™ä¼šè¿”å› <span class="math inline">\(fact\)</span>, å³ <span class="math inline">\(fact\)</span> ä¸º <span class="math inline">\(fact&#39;\)</span> çš„ä¸åŠ¨ç‚¹ï¼</p><h3 id="æ„é€ -y-ç»„åˆå­">æ„é€  Y-ç»„åˆå­</h3><p>æœ€ç»ˆäºçŸ¥é“ä¸åŠ¨ç‚¹çš„æ€§è´¨ä¹‹å, æˆ‘ä»¬å°è¯•å»æ„é€ å‡ºä¸€ä¸ªçœŸæ­£èƒ½ä½¿ç”¨çš„ <span class="math inline">\(Y\)</span>-ç»„åˆå­ å§ï¼ é¦–å…ˆè®¾æœ‰ä¸€é€’å½’å‡½æ•° <span class="math inline">\(r\)</span> :</p><p><span class="math display">\[ r = r\ r\ r...\ r \]</span></p><p>ç„¶åç”±äº <span class="math inline">\(\lambda\)</span>-æ¼”ç®— ä¸­é€’å½’å¼•å‘å‡ºè‡ªç”±å˜é‡çš„é—®é¢˜, ç°åœ¨æŠŠé€’å½’å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥, å› æ­¤å°†å®šä¹‰æ”¹ä¸º:</p><p><span class="math display">\[\begin{aligned}    Y &amp; = \underbrace{(\lambda r. r\ r\ r\ ...\ r)}_{f}\ f \\    &amp; = \underbrace{(\lambda r. r\ r\ r\ ...\ r)}_{f} \underbrace{(\lambda r. r\ r\ r\ ...\ r)}_{f}\end{aligned}\]</span></p><p>ä½†æ­¤å¤„çš„ <span class="math inline">\(r\)</span> çš„ç¬¬ä¸€ä¸ªå‚æ•°åº”ä¸ºè‡ªèº«, æ­£å¦‚ä¸Šé¢ <span class="math inline">\(fact&#39;\)</span> çš„ä¾‹å­ä¸€æ ·, ä¿®æ­£ä¸º:</p><p><span class="math display">\[ Y = \underbrace{(\lambda r. (rr)\ (rr)\ (rr)\ ...\ (rr))}_{f&#39;} \underbrace{(\lambda r. (rr)\ (rr)\ (rr)\ ...\ (rr))}_{f&#39;} \]</span></p><p>è™½ç„¶åˆ°æ­¤æ­¥æ—¶, è¯¥å®šä¹‰å·²ç»èƒ½ç”¨äº†, ä½†å§‹ç»ˆæ¯ä¸€ä¸ª <span class="math inline">\(rr\)</span> éƒ½å°†é‡å¤ä¼ å…¥è€Œä¸å¤Ÿå®Œç¾ (å…·ä½“å‚ç…§ <span class="math inline">\(fact&#39;\)</span> çš„ä¾‹å­), æˆ‘ä»¬å¯å†å°†å…¶åŒ–ç®€ä¸º:</p><p><span class="math display">\[ Y = (\underbrace{(\lambda r. r\ r\ r\ ...\ r)}_{f} (xx)) (\underbrace{(\lambda r. r\ r\ r\ ...\ r)}_{f} (xx)) \]</span></p><p>æœ€åæˆ‘ä»¬æŠŠé€’å½’å‡½æ•°çš„éƒ¨åˆ†æ”¹æˆ <span class="math inline">\(f\)</span> å¹¶ä½œä¸ºå‚æ•°ä¼ å…¥, åˆ™å…¶å®šä¹‰æœ€ç»ˆä¸º:</p><p><span class="math display">\[ Y := \lambda f. (\lambda x. f (xx)) (\lambda x. f (xx)) \]</span></p><h2 id="å®šä¹‰">å®šä¹‰</h2><h3 id="å¸¸è§„çš„å½¢å¼åŒ–å®šä¹‰">å¸¸è§„çš„å½¢å¼åŒ–å®šä¹‰</h3><span class="math display">\[ \forall F \exists X. F X = X \]</span><center>å¯¹äºæ‰€æœ‰çš„ <span class="math inline">\(F \in \Lambda\)</span>, å­˜åœ¨ <span class="math inline">\(X \in \Lambda\)</span> ä½¿å¾— <span class="math inline">\(F X = X\)</span>.</center><span class="math display">\[ fix\ f = f\ (fix\ f) \]</span><center>å±•å¼€åˆ™ä¸º <span class="math inline">\(fix\ f = f\ (f\ (...\ f\ (fix\ f)\ ...))\)</span>.</center><h3 id="y-ç»„åˆå­çš„å®šä¹‰"><span class="math inline">\(Y\)</span>-ç»„åˆå­çš„å®šä¹‰</h3><span class="math display">\[ Y \equiv \lambda f. (\lambda x. f(xx)) (\lambda x. f(xx)) \]</span><center>è¿™é‡Œçš„ <span class="math inline">\(f\)</span> ä¸ºä»»æ„éœ€è¦è¢«æ‰¾å‡ºä¸€ä¸ªæˆ–å¤šä¸ªä¸åŠ¨ç‚¹çš„å‡½æ•°, è€Œå…¶ä¸­ <span class="math inline">\(x\)</span> å¿…å®šä¸ºä¸€é«˜é˜¶å‡½æ•°.</center><p><br></p><h2 id="ä¸åŠ¨ç‚¹å®šç†-fixed-point-theorem-çš„è¯æ˜">ä¸åŠ¨ç‚¹å®šç† (Fixed Point Theorem) çš„è¯æ˜</h2><p>é¦–å…ˆåº”ç”¨å®é™…å‡½æ•° <span class="math inline">\(F\)</span> åˆ° <span class="math inline">\(Y\)</span>-ç»„åˆå­ ä¸Š:</p><p><span class="math display">\[ Y F \equiv (\lambda f. (\lambda x. f(xx)) (\lambda x. f(xx)))\ F = (\lambda x. F(xx)) (\lambda x. F(xx)) \]</span></p><p>ç°åœ¨å‡è®¾ <span class="math inline">\(W\)</span> ä¸ <span class="math inline">\(X\)</span> ç»„åˆå­ä»¥è¾…åŠ©è¯æ˜, ä¾‹å¦‚:</p><p><span class="math display">\[W \equiv \lambda x. F(xx) \\X \equiv WW\]</span></p><p>å¼€å§‹è¯æ˜:</p><p><span class="math display">\[ X \equiv WW \equiv (\lambda x. F(xx))\ W = F(WW) \equiv F X \]</span></p><p>ç„¶åå¯å¾— <span class="math inline">\(X \equiv F X\)</span>, è€Œå› ä¸º:</p><p><span class="math display">\[Y F = (\lambda x. F(xx)) (\lambda x. F(xx)) \equiv WW \equiv X\]</span></p><p>å› æ­¤ <span class="math inline">\(X \equiv Y F\)</span>, æ‰€ä»¥å¯ä»¥æŠŠ <span class="math inline">\(X\)</span> æ›¿æ¢æˆ <span class="math inline">\(Y F\)</span>, æœ€ç»ˆå¾—åˆ°:</p><p><span class="math display">\[ Y F \equiv F (Y F) \]</span></p><p>ä»è¯æ˜çš„ç»“è®ºä¸­å¾—çŸ¥ $ Y F = F (Y F) $, <span class="math inline">\(F\)</span> è¿™ä¸ªå‡½æ•°å°†ä¼šä¸æ–­åœ°è‡ªæˆ‘é€’å½’:</p><p><span class="math display">\[ Y F \equiv F (Y F) \equiv F (F (Y F)) \equiv (F (F ... F (Y F) ...)) \]</span></p><h2 id="åº”ç”¨">åº”ç”¨</h2><h3 id="å®é™…ä¾‹å­">å®é™…ä¾‹å­</h3><h4 id="é˜¶ä¹˜å‡½æ•°">é˜¶ä¹˜å‡½æ•°</h4><p><span class="math display">\[\begin{aligned}    fact &amp; := \lambda f\ x. if\ (x &gt; 0)\ then\ (x * (f\ (x - 1)))\ else\ 1 \\    Y\ fact\ 5 &amp; = (\lambda f. (\lambda x. f\ (xx)) (\lambda x. f\ (xx)))\ fact\ 5 \\    &amp; \to_{\beta} ((\lambda x. fact\ (xx)) (\lambda x. fact\ (xx)))\ 5 \\    &amp; \to_{\beta} (fact\ ((\lambda x. fact\ (xx)) (\lambda x. fact\ (xx))))\ 5 \\    &amp; \to_{\beta} ((\lambda f\ x. if\ (x &gt; 0)\ then\ (x * (f\ (x - 1)))\ else\ 1)\ ((\lambda x. fact\ (xx)) (\lambda x. fact\ (xx))))\ 5 \\    &amp; \to_{\beta} (\lambda x. if\ (x &gt; 0)\ then\ (x * (((\lambda x. fact\ (xx)) (\lambda x. fact\ (xx)))\ (x - 1)))\ else\ 1)\ 5 \\    &amp; \to_{\beta} 5 * (((\lambda x. fact\ (xx)) (\lambda x. fact\ (xx)))\ 4) \\    &amp; \twoheadrightarrow_{\beta} 5 * (4 * (((\lambda x. fact\ (xx)) (\lambda x. fact\ (xx)))\ 3)) \\    &amp; \twoheadrightarrow_{\beta} 5 * (4 * (3 * (((\lambda x. fact\ (xx)) (\lambda x. fact\ (xx)))\ 2))) \\    &amp; \twoheadrightarrow_{\beta} 5 * (4 * (3 * (2 * (((\lambda x. fact\ (xx)) (\lambda x. fact\ (xx)))\ 1)))) \\    &amp; \twoheadrightarrow_{\beta} 5 * (4 * (3 * (2 * 1))) \\    &amp; \twoheadrightarrow_{\beta} 120\end{aligned}\]</span></p><h3 id="ç¼–ç¨‹ä¸Šçš„åº”ç”¨">ç¼–ç¨‹ä¸Šçš„åº”ç”¨</h3><h4 id="ä¸åŠ¨ç‚¹å‡½æ•°">ä¸åŠ¨ç‚¹å‡½æ•°</h4><p>ç”±äºåœ¨å®é™…ç¼–ç¨‹ä¸­, ç»å¤§å¤šæ•°å¸¦é™æ€ç±»å‹çš„è¯­è¨€å‡ä¸æ”¯æŒ <code>é€’å½’ç±»å‹ (Recursive Type)</code>, å°±å¦‚ Haskell ç­‰, å› æ­¤å°±æ— æ³•é¿å…äºå‡½æ•°åº”ç”¨äºè‡ªèº«æ—¶æ‰€å¸¦æ¥çš„å‡½æ•°ç±»å‹æ— é™é€’å½’å¼•è‡´åœæœºé—®é¢˜, å› æ­¤äºå®ç° <span class="math inline">\(Y\)</span>-ç»„åˆå­ (ä¸åŠ¨ç‚¹ç»„åˆå­) æ—¶æˆ‘ä»¬å¤šé‡‡ç”¨äº†ç¼–ç¨‹è¯­è¨€æœ¬èº«çš„ç‰¹æ€§, ä¾‹å¦‚ Haskell çš„ <span class="math inline">\(fix\)</span> å‡½æ•°å®šä¹‰å¦‚ä¸‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fix :: (a -&gt; a) -&gt; a</span><br><span class="line">fix f = let x = f x in x</span><br></pre></td></tr></table></figure><h4 id="recursive-scheme">Recursive Scheme</h4><p>é€è¿‡ä¸åŠ¨ç‚¹çš„æ¦‚å¿µå®šä¹‰å‡º Recursive Scheme, æˆ‘ä»¬ä¸ä»…ä»…èƒ½å¤Ÿäºé¡¹ä¸Šå®šä¹‰å‡ºä¸åŠ¨ç‚¹, åŒæ ·åœ°äº¦å¯äºç±»å‹ä¸Šå®šä¹‰å‡ºæ¥, ä¾‹å¦‚é€è¿‡ Free monad, Catamorphism, Anamorphism ç­‰ç­‰çš„æŠ½è±¡ç»“æ„, å¯ä»¥ç«™åœ¨é«˜å¤„ä»¥ä¿¯è§†çš„è§’åº¦å®è§‚åœ°çœ‹å¾…æŸäº›é—®é¢˜, ä¾‹å¦‚åœ¨å¤„ç†æŠ½è±¡è¯­æ³•æ ‘æ—¶, å¯åˆ©ç”¨è¯¥ç§æ–¹å¼æ¶ˆé™¤ <code>æ¨¡æ¿ä»£ç  (boilerplate)</code> ç­‰ç­‰.</p><h2 id="å¤–éƒ¨é“¾æ¥">å¤–éƒ¨é“¾æ¥</h2><p>æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒæˆ–å¼•ç”¨è‡³ä¸‹åˆ—ç½‘é¡µï¼Œä¹Ÿå¯ä¾›ä½œä¸ºé¢å¤–çš„å»¶ä¼¸èµ„æºå¸®åŠ©é˜…è¯»ï¼š</p><ul><li><a href="http://mindhacks.cn/2006/10/15/cantor-godel-turing-an-eternal-golden-diagonal/" target="_blank" rel="noopener">åº·æ‰˜å°”ã€å“¥å¾·å°”ã€å›¾çµâ€”â€”æ°¸æ’çš„é‡‘è‰²å¯¹è§’çº¿</a></li><li><a href="https://ttic.uchicago.edu/~dreyer/course/papers/barendregt.pdf" target="_blank" rel="noopener">Lambda Calculi With Types - Henk Barendregt</a></li><li><a href="https://en.wikibooks.org/wiki/Haskell/Fix_and_recursion" target="_blank" rel="noopener">Haskell/Fix and recursion</a></li><li><a href="https://cs.stackexchange.com/questions/9604/clear-intuitive-derivation-of-the-fixed-point-combinator-y-combinator" target="_blank" rel="noopener">Clear, intuitive derivation of the fixed-point combinator (Y combinator)?</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Fixed-point_combinator&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¸åŠ¨ç‚¹ç»„åˆå­ (Fixed-Point Com
      
    
    </summary>
    
    
      <category term="å‡½æ•°å¼ç¼–ç¨‹" scheme="https://a9032676.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    
      <category term="ç±»å‹è®º" scheme="https://a9032676.github.io/tags/%E7%B1%BB%E5%9E%8B%E8%AE%BA/"/>
    
      <category term="é€»è¾‘" scheme="https://a9032676.github.io/tags/%E9%80%BB%E8%BE%91/"/>
    
      <category term="è¯æ˜" scheme="https://a9032676.github.io/tags/%E8%AF%81%E6%98%8E/"/>
    
  </entry>
  
  <entry>
    <title>Lambda ç«‹æ–¹ä½“ ä¸ ç±»å‹ç³»ç»Ÿ ç®€è®°</title>
    <link href="https://a9032676.github.io/2020/09/21/Lambda-Cube-Intro/"/>
    <id>https://a9032676.github.io/2020/09/21/Lambda-Cube-Intro/</id>
    <published>2020-09-21T07:45:00.000Z</published>
    <updated>2020-11-01T05:12:28.365Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>åœ¨æ•°å­¦ (å°¤å…¶æŒ‡æ•°ç†é€»è¾‘åˆ†æ”¯) ä¸ç±»å‹è®ºçš„ä¸–ç•Œ, Lambda ç«‹æ–¹ä½“ æ˜¯ç”± <a href="https://en.wikipedia.org/wiki/Henk_Barendregt" target="_blank" rel="noopener">Henk Barendregt</a> æå‡ºçš„ä¸€ä¸ªæ¡†æ¶, ç”¨ä»¥æ¢ç´¢åŠç ”ç©¶ ç®€å•ç±»å‹ <span class="math inline">\(\lambda\)</span>-æ¼”ç®— äºä¸åŒç»´åº¦ä¸Šæ‰©å±•å‡ºæ¥å¯¹åº”çš„ ç±»å‹ç³»ç»Ÿ, å…¶ä¹Ÿé˜è¿°äº†å¤„äºä¸åŒç»´åº¦ä¸Šçš„ ç±»å‹ç³»ç»Ÿ ä¸­ ç±»å‹ (Type) ä¸å€¼ (Term) çš„ä¾èµ–å…³ç³» ç©¶ç«Ÿæ˜¯æ€æ ·çš„, ç®€å•æ¥è¯´æˆ‘ä»¬å¯ä»¥ä»¥ä¸‰ç§ä¸åŒæ–¹å‘çš„ç®­å¤´ (ç»´åº¦) å®šä¹‰å‡ºä¸åŒç±»å‹ç³»ç»Ÿä¹‹é—´æ˜¯æ€æ ·æ‰©å±•å¼€æ¥çš„.</p><center><embed id="lambda-cube" src="/images/Lambda_Cube_img.svg" type="image/svg+xml"></center><h3 id="ä¸‰ç§ä¸åŒçš„ç»´åº¦åˆ†åˆ«ä»£è¡¨çš„å«ä¹‰">ä¸‰ç§ä¸åŒçš„ç»´åº¦åˆ†åˆ«ä»£è¡¨çš„å«ä¹‰</h3><ul><li>Yè½´ (<span class="math inline">\(\uparrow\)</span>): å€¼ä¾èµ–äºç±»å‹, å¯è¢«å¯¹åº”åˆ° <code>å¤šæ€ (Polymorphism)</code> çš„æ¦‚å¿µ</li><li>Xè½´ (<span class="math inline">\(\to\)</span>): ç±»å‹ä¾èµ–äºå€¼, å¯è¢«å¯¹åº”åˆ° <code>ä¾èµ–ç±»å‹ (Dependent types)</code> çš„æ¦‚å¿µ</li><li>Zè½´ (<span class="math inline">\(\nearrow\)</span>): ç±»å‹ä¾èµ–äºç±»å‹, å¯è¢«å¯¹åº”åˆ° <code>ç±»å‹æ„é€ å™¨ (Type operators)</code> çš„æ¦‚å¿µ</li></ul><h2 id="ç±»å‹ç³»ç»Ÿ">ç±»å‹ç³»ç»Ÿ</h2><p>äº Lambda ç«‹æ–¹ä½“ä¸­, æˆ‘ä»¬ä¼šå®šä¹‰å‡ºä¸åŒå½¢å¼çš„ç±»å‹ç³»ç»Ÿç”¨ä»¥æè¿°å„è‡ªä¸åŒç³»ç»Ÿä¹‹é—´çš„ä½œç”¨ä¸è§„åˆ™, ä¸‹é¢å°†ä¼šç•¥ä¸¾ä¸€äº›ä¾‹å­:</p><h3 id="lambdato-ç®€å•ç±»å‹-lambda-æ¼”ç®—">(<span class="math inline">\(\lambda\to\)</span>) ç®€å•ç±»å‹ Lambda æ¼”ç®—</h3><p>ç®€å•ç±»å‹ Lambda æ¼”ç®—æ˜¯ Lambda ç«‹æ–¹ä½“ä¸­æœ€ä¸ºç®€å•çš„ç±»å‹ç³»ç»Ÿ, å…¶åªèƒ½å¤Ÿé€è¿‡ <code>å€¼ä¾èµ–äºå€¼ (a term depend on a term)</code> çš„æ–¹å¼æ„é€ å‡ºæ¥</p><h4 id="ç±»å‹æ¨å¯¼è§„åˆ™">ç±»å‹æ¨å¯¼è§„åˆ™</h4><p>ç®€å•ç±»å‹ Lambda æ¼”ç®— ä½¿ç”¨äº†ä»¥ä¸‹çš„<a href="https://en.wikipedia.org/wiki/Type_rule" target="_blank" rel="noopener">ç±»å‹æ¨å¯¼è§„åˆ™</a>:</p><ol type="1"><li><p><font size="5"><span class="math inline">\({\frac { x\ :\ \sigma\ \in\ \Gamma }{ \Gamma\ \vdash\ x\ :\ \sigma }}\)</span></font>(<span class="math inline">\(start\ rule\)</span>) <br> å‡è®¾<a href="https://en.wikipedia.org/wiki/Typing_environment" target="_blank" rel="noopener">ä¸Šä¸‹æ–‡ (Typing environment)</a> <span class="math inline">\(\Gamma\)</span> ä¸­å­˜åœ¨ <span class="math inline">\(x\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma\)</span>, åˆ™å¯æ¨å¯¼å‡º <span class="math inline">\(x\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma\)</span> .</p></li><li><p><font size="5"><span class="math inline">\({\frac { \Gamma\ \vdash\ M\ :\ (\sigma\ \to\ \tau)\quad\Gamma\ \vdash\ N\ :\ \sigma }{ \Gamma\ \vdash\ (M\ N)\ :\ \tau }}\)</span></font>(<span class="math inline">\(\to-elimination\)</span>) <br> ç»™å®šä¸Šä¸‹æ–‡ <span class="math inline">\(\Gamma\)</span>, å…¶èƒ½æ¨å¯¼å‡º <span class="math inline">\(M\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma \to \tau\)</span> ä¸” <span class="math inline">\(N\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma\)</span>, åˆ™å¯æ¨å¯¼å‡º <span class="math inline">\(M\ N\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\tau\)</span> .</p></li><li><p><font size="5"><span class="math inline">\({\frac { \Gamma\ ,\ x\ :\ \sigma\ \vdash\ M\ :\ \tau }{ \Gamma\ \vdash\ (\lambda x.\ M)\ :\ (\sigma\ \to\ \tau) }}\)</span></font>(<span class="math inline">\(\to-introduction\)</span>) <br> æœ‰ <span class="math inline">\(\Gamma\)</span> å¹¶ä¸”æœ‰ <span class="math inline">\(x\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma\)</span> è¯¥ä¸¤ä¸ªä¸Šä¸‹æ–‡, å‡è®¾ <span class="math inline">\(\Gamma\)</span> èƒ½å¤Ÿæ¨å¯¼å‡º <span class="math inline">\(M\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\tau\)</span>, åˆ™äº¦å¯æ¨å¯¼å‡º <span class="math inline">\(\lambda x. M\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma \to \tau\)</span> .</p></li></ol><h4 id="lambdato_curry-ä¸-lambdato_church-çš„å·®å¼‚"><span class="math inline">\(\lambda\to_{Curry}\)</span> ä¸ <span class="math inline">\(\lambda\to_{Church}\)</span> çš„å·®å¼‚</h4><p><span class="math inline">\(\lambda\to_{Curry}\)</span> ä¸ <span class="math inline">\(\lambda\to_{Church}\)</span> è¿™ä¸¤ç§ç³»ç»Ÿå‡èƒ½è¡¨è¾¾ <span class="math inline">\(\lambda\to\)</span> çš„å«ä¹‰, è€Œä¸Šè¿°çš„æ¨å¯¼è§„åˆ™æ˜¯ä½¿ç”¨äº† <span class="math inline">\(Curry\)</span> ç‰ˆæœ¬ç¼–å†™çš„, è€Œä¸¤è€…çš„ä¸åŒç‚¹åˆ™åœ¨äº:</p><ul><li><span class="math inline">\(Curry\)</span> ç‰ˆæœ¬çš„æ¨å¯¼è§„åˆ™ä¸º: <span class="math inline">\(\vdash_{Curry} (\lambda x.x) : (\sigma \to \sigma)\)</span></li><li><span class="math inline">\(Church\)</span> ç‰ˆæœ¬çš„æ¨å¯¼è§„åˆ™ä¸º: <span class="math inline">\(\vdash_{Church} (\lambda x : \sigma .x) : (\sigma \to \sigma)\)</span></li></ul><p>å¯è§ä¸€èˆ¬åœ¨ <span class="math inline">\(Curry\)</span> ä¸­çš„ä¸€ä¸ªå€¼ <span class="math inline">\(\lambda x. x\)</span> å°†ä¼šè¢« <span class="math inline">\(Church\)</span> æ ‡è®°ä¸º <span class="math inline">\(: \sigma\)</span>, å³æ˜¾å¼åœ°æ ‡è®°å‚æ•° <span class="math inline">\(x\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma\)</span>. ç”±äºæˆ‘ä»¬èƒ½å¤Ÿæ˜¾å¼åœ°æ ‡è®°å€¼ä¸Šå‚æ•°çš„ç±»å‹, å› æ­¤æˆ‘ä»¬å°±èƒ½å¤Ÿæ ¹æ®è¯¥å‚æ•°çš„ç±»å‹ç›´æ¥å†³å®š (Decide) æŸä¸ªå€¼ä¸Šç©¶ç«Ÿæ˜¯ä»€ä¹ˆç±»å‹, è€Œå¯¹äºæŸäº›ä½¿ç”¨ <span class="math inline">\(Curry\)</span> ç³»ç»Ÿå®šä¹‰çš„è§„åˆ™, åœ¨æŸäº›é—®é¢˜ä¸Šä»–ä»¬æ˜¯ä¸å¯å†³å®šçš„ (Undecidable).</p><h3 id="lambda-2-ç³»ç»Ÿ-f">(<span class="math inline">\(\lambda 2\)</span>) ç³»ç»Ÿ F</h3><p>ç³»ç»Ÿ F ç›¸è¾ƒäº ç®€å•ç±»å‹ <span class="math inline">\(\lambda\)</span> æ¼”ç®— åªèƒ½å¤Ÿé€è¿‡ å€¼ä¾èµ–äºå€¼ çš„æ–¹å¼å»æ„é€ å‡ºä¸€ä¸ªæŠ½è±¡ (Abstraction), å…¶ä¹Ÿèƒ½å¤Ÿ <code>ä¾èµ–äºç±»å‹çš„å€¼ (terms to depend on types)</code>.</p><h4 id="ç±»å‹æ¨å¯¼è§„åˆ™-1">ç±»å‹æ¨å¯¼è§„åˆ™</h4><p>ç³»ç»Ÿ F ä½¿ç”¨çš„æ¨å¯¼è§„åˆ™é™¤äº†åŒ…å« ç®€å•ç±»å‹ <span class="math inline">\(\lambda\)</span> æ¼”ç®—çš„ <span class="math inline">\(start\ rule\)</span>, <span class="math inline">\(\to-elimination\)</span> ä»¥åŠ <span class="math inline">\(\to-introduction\)</span> è§„åˆ™å¤–, é¢å¤–æ–°å¢äº†:</p><ol type="1"><li><p><font size="5"><span class="math inline">\({\frac { \Gamma\ \vdash\ M\ :\ (\forall\alpha.\ \sigma) }{ \Gamma\ \vdash\ M\ :\ (\sigma[\alpha\ :=\ \tau]) }}\)</span></font>, <span class="math inline">\(\tau \in \Bbb{T}\)</span> (<span class="math inline">\(\forall-elimination\)</span>) <br> ç»™å®šä¸Šä¸‹æ–‡ <span class="math inline">\(\Gamma\)</span>, å…¶èƒ½æ¨å¯¼å‡º å€¼ <span class="math inline">\(M\)</span> æœ‰ç±»å‹ <span class="math inline">\(\forall\alpha. \sigma\)</span>, åˆ™äº¦å¯æ¨å¯¼å‡º <span class="math inline">\(M\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma[\alpha := \tau]\)</span> (åœ¨è¿™é‡Œ <span class="math inline">\(\tau\)</span> ä¸ºå®é™…çš„ç±»å‹, <span class="math inline">\(\alpha\)</span> ä¸ºç±»å‹å‚æ•°, ä¹Ÿå°±æ˜¯ ç±»å‹ <span class="math inline">\(\sigma\)</span> ä¾èµ–äº <span class="math inline">\(\alpha\)</span> çš„å€¼, å³ <span class="math inline">\(\tau\)</span>).</p></li><li><p><font size="5"><span class="math inline">\({\frac { \Gamma\ \vdash\ M\ :\ \sigma }{ \Gamma\ \vdash\ (\Lambda \alpha. M)\ :\ (\forall\alpha.\sigma) }}\)</span></font>,<span class="math inline">\({\ \alpha \notin FV(\Gamma)}\)</span> (<span class="math inline">\(\forall-introduction\)</span>) <br> ç»™å®šä¸Šä¸‹æ–‡ <span class="math inline">\(\Gamma\)</span> ä¸” <span class="math inline">\(\alpha\)</span> ä¸æ˜¯ <span class="math inline">\(\Gamma\)</span> çš„ è‡ªç”±å˜é‡, å…¶èƒ½æ¨å¯¼å‡º <span class="math inline">\(M\)</span> æœ‰ç±»å‹ <span class="math inline">\(\sigma\)</span>, åˆ™è¯¥ä¸Šä¸‹æ–‡äº¦å¯æ¨å¯¼å‡º <span class="math inline">\(M\)</span> æœ‰ç±»å‹ <span class="math inline">\(\forall\alpha. \sigma\)</span> (å€¼ä¸Šçš„ <span class="math inline">\(\Lambda \alpha\)</span> å¯æ˜¾å¼æŒ‡å®š <span class="math inline">\(\alpha\)</span> çš„ç±»å‹).</p></li></ol><h5 id="è¿›ä¸€æ­¥çš„æ‰©å±•è§„åˆ™">è¿›ä¸€æ­¥çš„æ‰©å±•è§„åˆ™</h5><p>é™¤äº†ä¸Šè¿°çš„ä¸¤æ¡è§„åˆ™å¤–, ç”±äºç³»ç»Ÿ F, å³ <span class="math inline">\(\lambda 2\)</span>, ä¸ <span class="math inline">\(\lambda\mu\)</span> ä»¥åŠ <span class="math inline">\(\lambda P\)</span> <span class="math inline">\((\lambda\cap)\)</span>, å‡æ˜¯ç”± <span class="math inline">\(\lambda\to\)</span> å»¶ä¼¸å‡ºæ¥çš„, è¿™äº›ç³»ç»Ÿéƒ½èƒ½å¤ŸåŠ å…¥ <span class="math inline">\(equality\ rule\ (EQ)\)</span> ä¸ <span class="math inline">\(approximation\ rule\ (A)\)</span> ä½œæ¨å¯¼, äº¦èƒ½å¤Ÿç›¸äº’ç»„åˆå‡ºè¯¸å¦‚ <span class="math inline">\(\lambda 2\mu\)</span> æˆ– <span class="math inline">\(\lambda\mu\cap\)</span> ç­‰æ›´å¼ºçš„ç³»ç»Ÿ.</p><ol type="1"><li><p><font size="5"><span class="math inline">\({\frac { M\ :\ \sigma \quad M\ =_{\beta} \ N }{ N\ :\ \sigma }}\)</span></font>(<span class="math inline">\(EQ\)</span>) <br> è®¾æœ‰å€¼ <span class="math inline">\(M : \sigma\)</span> ä¸”å·²çŸ¥ <span class="math inline">\(M = N\)</span>, åˆ™å¯æ¨å¯¼å‡º <span class="math inline">\(N\)</span> çš„ç±»å‹ä¸º <span class="math inline">\(\sigma\)</span> .</p></li><li><p><font size="5"><span class="math inline">\({\frac { \Gamma\ \vdash\ P\ :\ \sigma\ for\ all\ P\ \in\ A(M) }{ \Gamma\ \vdash\ M\ :\ \sigma }}\)</span></font>(<span class="math inline">\(A\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac {}{ \Gamma\ \vdash\ \bot\ :\ \sigma }}\)</span></font>(<span class="math inline">\(A\)</span>)</p></li></ol><h4 id="ç¼–ç¨‹ä¸Šçš„ä¾‹å­">ç¼–ç¨‹ä¸Šçš„ä¾‹å­</h4><p>è¯¥è§„åˆ™çš„å®šä¹‰æ°æ°å¯¹åº”åˆ°äº†è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­ <code>å¤šæ€åŒ–å‚æ•° (Parametric polymorphism)</code> çš„ç‰¹æ€§, ä¾‹å¦‚äº Haskell ä¸­ <code>id</code>, <code>const</code>, <code>justInt</code> ä»¥åŠ <code>intOrStr</code> çš„å®šä¹‰å®é™…ä¸º: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">id :: forall a. a -&gt; a</span><br><span class="line">id x = x</span><br><span class="line"></span><br><span class="line">const :: forall a b. a -&gt; b -&gt; a</span><br><span class="line">const x y = x</span><br><span class="line"></span><br><span class="line">justInt :: Maybe Int</span><br><span class="line">justInt = Just 123</span><br><span class="line"></span><br><span class="line">intOrStr :: Either Int String</span><br><span class="line">intOrStr = Right &quot;foo&quot;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬èƒ½å¤Ÿé€è¿‡ <code>forall a.</code> ä¸ <code>forall a b.</code> ä»¥æ˜¾å¼æ•è·è¿™äº›å‡½æ•°çš„å¤šæ€å‚æ•°.</p><p>è€Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°ä¾‹å­å¯¹åº”åˆ°æ¨å¯¼çš„è¡¨è¾¾å¼, æ­£å¦‚: <span class="math inline">\((\Lambda a. \lambda x. x) : (\forall a. a \to a) \vdash_{\lambda 2} (\lambda x. x) : ((a \to a)[a := \tau])\)</span> <span class="math inline">\((\Lambda a\ b. \lambda x\ y. x) : (\forall a\ b. a \to b \to a) \vdash_{\lambda 2} (\lambda x\ y. x) : ((a \to b \to a)[a := \tau_1, b := \tau_2])\)</span> <span class="math inline">\((Just\ 123) : (Maybe\ Int) \vdash_{\lambda 2} (Just\ 123) : Maybe[\alpha := Int]\)</span> <span class="math inline">\((Right\ &quot;foo&quot;) : (Either\ Int\ String) \vdash_{\lambda 2} (Right\ &quot;foo&quot;) : Either[\alpha := Int, \beta := String]\)</span></p><h3 id="lambdaunderlineomega-ç³»ç»Ÿ-lambdaunderlineomega">(<span class="math inline">\(\lambda\underline{\omega}\)</span>) ç³»ç»Ÿ <span class="math inline">\(\lambda\underline{\omega}\)</span></h3><p>ç³»ç»Ÿ <span class="math inline">\(\lambda\underline{\omega}\)</span> ç›¸è¾ƒäº ç®€å•ç±»å‹ <span class="math inline">\(\lambda\)</span> æ¼”ç®— åªèƒ½å¤Ÿé€è¿‡ å€¼ä¾èµ–äºå€¼ çš„æ–¹å¼ä»¥æ„é€ å‡ºä¸€ä¸ªæŠ½è±¡, å…¶å…è®¸äº† <code>ç±»å‹ä¾èµ–äºç±»å‹ (types to depend on types)</code> çš„æƒ…å†µå‡ºç°.</p><h4 id="kind-çš„å¼•å…¥">Kind (<span class="math inline">\(*\)</span>) çš„å¼•å…¥</h4><p>ç”±äº <span class="math inline">\(\lambda\underline{\omega}\)</span> éœ€è¦è¡¨è¾¾å‡ºç±»å‹ä¾èµ–äºç±»å‹çš„æ¦‚å¿µ, æ­£å¦‚ <span class="math inline">\(\alpha \to \alpha\)</span> ä¸€æ ·, <span class="math inline">\(\alpha\)</span> (å³å‡½æ•°çš„åå˜ä½ç½®) ä¾èµ–äº <span class="math inline">\(\alpha\)</span> (å‡½æ•°çš„é€†å˜ä½ç½®), å› æ­¤æˆ‘ä»¬éœ€è¦å¼•å…¥ <span class="math inline">\(Kind\)</span>, å³ <code>ç±»å‹çš„ç±»å‹</code> çš„æ¦‚å¿µ. ä¾‹å¦‚æŠŠä¸€ä¸ª <span class="math inline">\(Kind\)</span> çš„è¡¨è¾¾å¼å®šä¹‰ä¸º <span class="math inline">\(\alpha, \beta \in \Bbb{T} \implies (\alpha \to \beta) : \Bbb{T}\)</span>, è¿™é‡Œä¸éš¾çœ‹å‡º <span class="math inline">\(\alpha, \beta, (\alpha \to \beta) \in \Bbb{T}\)</span>, å› æ­¤ <span class="math inline">\(\Bbb{T}\)</span> äº¦å¯è¢«ç§°ä¹‹ä¸ºç±»å‹çš„ç±»å‹, å³ <span class="math inline">\(Kind\)</span>, å½¢å¼åŒ–åœ°æ•´å¥è¡¨è¾¾å¼å¯è¢«å®šä¹‰ä¸º <span class="math inline">\(\alpha : *, \beta : * \vdash (\alpha \to \beta) : *\)</span> (ä½¿ç”¨ <span class="math inline">\(\sigma : *\)</span> å–ä»£äº† <span class="math inline">\(\sigma \in \Bbb{T}\)</span>).</p><h4 id="kind-é›†åˆ-bbbk-ä¸-kind-æ„é€ å™¨-ç±»å‹æ„é€ å™¨">Kind é›†åˆ (<span class="math inline">\(\Bbb{K}\)</span>) ä¸ <span class="math inline">\(Kind\)</span> æ„é€ å™¨ (ç±»å‹æ„é€ å™¨)</h4><p>ç”±äº <span class="math inline">\(Kind\)</span> çš„è¡¨è¾¾å¼, å¦‚ <span class="math inline">\(f \equiv \lambda\alpha : *. \alpha \to \alpha\)</span> ä¸­, <span class="math inline">\(f\)</span> æ—¢ä¸å¤„äºå€¼ä¸Š, äº¦ä¸æ˜¯å±…ç•™åœ¨ç±»å‹ä¸Š, å› æ­¤æˆ‘ä»¬éœ€è¦å®šä¹‰å‡ºä¸€ä¸ªæ–°çš„é›†åˆè´Ÿè´£å­˜å‚¨èµ·è¿™äº› <span class="math inline">\(kinds\)</span> : <span class="math display">\[\Bbb{K} = *\ |\ \Bbb{K} \to \Bbb{K}\]</span> å³æœ‰ <span class="math inline">\(\Bbb{K} = \lbrace *, * \to *, * \to * \to *, ... \rbrace\)</span>. è‹¥æœ <span class="math inline">\(\vdash k : \Box\)</span> ä¸” <span class="math inline">\(\vdash F : k\)</span> (è¿™é‡Œçš„ <span class="math inline">\(k : \Box\)</span> å®é™…ä¸Šå¯¹åº”äº† <span class="math inline">\(k \in \Bbb{K}\)</span>), åˆ™ <span class="math inline">\(F\)</span> è¢«ç§°ä¹‹ä¸º <span class="math inline">\(kind\ k\)</span> çš„æ„é€ å™¨ (ç±»å‹æ„é€ å™¨).</p><h4 id="ç±»å‹æ¨å¯¼è§„åˆ™-2">ç±»å‹æ¨å¯¼è§„åˆ™</h4><ol type="1"><li><p><span class="math inline">\(&lt;&gt; \vdash * : \Box\)</span> (<span class="math inline">\(axiom\)</span>) ç©ºçš„ä¸Šä¸‹æ–‡æ€»èƒ½è¢«æ¨å¯¼å‡º <span class="math inline">\(* : \Box\)</span></p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma\ \vdash\ A\ :\ s }{ \Gamma,\ x\ :\ A\ \vdash\ x\ :\ A }}\)</span></font>, <span class="math inline">\(x \notin \Gamma\)</span> (<span class="math inline">\(start\ rule\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma\ \vdash\ A\ :\ B \quad \Gamma\ \vdash\ C\ :\ s }{ \Gamma,\ x\ :\ C\ \vdash\ A\ :\ B }}\)</span></font>, <span class="math inline">\(x \notin \Gamma\)</span> (<span class="math inline">\(weakening\ rule\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma\ \vdash\ A\ :\ s \quad \Gamma\ \vdash\ B\ :\ s }{ \Gamma\ \vdash\ (A\ \to\ B)\ :\ s }}\)</span></font>(<span class="math inline">\(type/kind\ formation\)</span>) <br> è¿™é‡Œçš„ <span class="math inline">\(formation-rule\)</span> æŒ‡çš„æ˜¯æ€æ ·æŠŠæŸä¸€ä¸ª <span class="math inline">\(kind\)</span> (è¿™é‡Œæ˜¯ <span class="math inline">\(s\)</span>) æ„å»ºæˆä¸€ä¸ªç±»å‹, ä¾‹å¦‚è¿™é‡Œåˆ™æ˜¯å½“æœ‰ <span class="math inline">\(A\)</span> ä»¥åŠ <span class="math inline">\(B\)</span> çš†ä¸ºç±»å‹æ—¶, åˆ™èƒ½æ„ç­‘è¡¨è¾¾å¼ <span class="math inline">\(A \to B\)</span> æ˜¯ä¸€æ¥å— <span class="math inline">\(A\)</span> ç±»å‹å¹¶ä¸”è¿”å› <span class="math inline">\(B\)</span> ç±»å‹çš„å‡½æ•°.</p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma\ \vdash\ F\ :\ (A\ \to\ B) \quad \Gamma\ \vdash\ a\ :\ A }{ \Gamma\ \vdash\ Fa\ :\ B }}\)</span></font>(<span class="math inline">\(application\ rule\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma,\ x\ :\ A\ \vdash\ b\ :\ B \quad \Gamma\ \vdash\ (A\ \to\ B)\ :\ s }{ \Gamma\ \vdash\ (\lambda x\ :\ A.\ b)\ :\ (A\ \to\ B) }}\)</span></font>(<span class="math inline">\(abstraction\ rule\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma\ \vdash\ A\ :\ B \quad \Gamma\ \vdash\ B&#39;\ :\ s \quad B\ =_{\beta}\ B&#39; }{ \Gamma\ \vdash\ A\ :\ B&#39; }}\)</span></font>(<span class="math inline">\(conversion\ rule\)</span>)</p></li></ol><h4 id="ç¼–ç¨‹ä¸Šçš„ä¾‹å­-1">ç¼–ç¨‹ä¸Šçš„ä¾‹å­</h4><p>äº Haskell ä¸­, æˆ‘ä»¬å¾—çŸ¥ä¸€ä¸ª <code>Functor (f :: * -&gt; *)</code> å…¶æœ¬èº«æ˜¯ä¸€ç±»å‹æ„é€ å™¨, ç°åœ¨åˆ™å¯åˆ©ç”¨ <span class="math inline">\(\lambda\to\)</span> ä»¥åŠ <span class="math inline">\(\lambda\underline{\omega}\)</span> çš„è§„åˆ™, å¯¹ <code>fmap (*2) [1..10]</code> (æˆ– <code>(*2) &lt;$&gt; [1..10]</code>) è¿›è¡Œç®€å•çš„ç±»å‹æ¨å¯¼:</p><p><font size="1"><span class="math display">\[\dfrac    {        \dfrac            {                \dfrac                    {                        \begin{aligned}                            \vdots                        \end{aligned}                    }                    { \Gamma, l : [a] \vdash fmap\ (*2) : [b] }                \quad                \dfrac                    {                        \dfrac                            { \Gamma \vdash [] : (* \to *) \quad \Gamma \vdash a : * }                            { \Gamma \vdash [a] : * }                            (\lambda\underline{\omega}\ app.)                        \quad                        \dfrac                            { \Gamma \vdash [] : (* \to *) \quad \Gamma \vdash b : * }                            { \Gamma \vdash [b] : * }                            (\lambda\underline{\omega}\ app.)                    }                    { \Gamma \vdash ([a] \to [b]) : * }                    (\lambda\underline{\omega}\ form.)            }            { \Gamma \vdash \lambda l. fmap\ (*2) : ([a] \to [b]) }            (\lambda\underline{\omega}\ abst.)        \quad        \dfrac            {                \begin{align}                \vdots \\                \end{align}            }            { \Gamma \vdash [1..10] : [a] }    }    { \Gamma \vdash fmap\ (*2)\ [1..10] : [b] }    (\lambda\to elim.)\]</span></font></p><h3 id="lambda-p-lambda-p">(<span class="math inline">\(\lambda P\)</span>) Lambda-P</h3><p>ç³»ç»Ÿ <span class="math inline">\(\lambda P\)</span> ç›¸è¾ƒäº ç®€å•ç±»å‹ <span class="math inline">\(\lambda\)</span> æ¼”ç®— åªèƒ½å¤Ÿé€è¿‡ å€¼ä¾èµ–äºå€¼ çš„æ–¹å¼ä»¥æ„é€ å‡ºä¸€ä¸ªæŠ½è±¡, äº¦å¯äºç±»å‹ä¸Šä»¥å€¼ä½œä¸ºå‚æ•°, æ­£å¦‚ä¸€ä¸ªç›´è§‚çš„ä¾‹å­ <span class="math inline">\(A^n \to B\)</span> é˜è¿°äº† <span class="math inline">\(n\)</span> å®é™…ä¸Šæ˜¯ä¸€ä¸ªå€¼ (ä¾‹å¦‚ä¸€ä¸ªè‡ªç„¶æ•°), <span class="math inline">\(A\)</span> ä¸ <span class="math inline">\(B\)</span> æ˜¯ç±»å‹, è€Œæˆ‘ä»¬éœ€è¦æ„é€  <span class="math inline">\(B\)</span> çš„æ—¶å€™åˆ™å¿…é¡»ä¼ å…¥ä¸€ä¸ªå€¼, å› æ­¤å¯è¢«æè¿°ä¸º <code>ä¾èµ–äºå€¼çš„ç±»å‹ (types to depend on terms)</code>.</p><h4 id="ç±»å‹æ¨å¯¼è§„åˆ™-3">ç±»å‹æ¨å¯¼è§„åˆ™</h4><p>ç³»ç»Ÿ <span class="math inline">\(\lambda P\)</span> ä½¿ç”¨äº†å¦‚ä¸‹è§„åˆ™è¿›è¡Œæ¨å¯¼ (å…¶ä¸­ <span class="math inline">\(*\)</span> ä¸ <span class="math inline">\(\Box\)</span> ä¸º <span class="math inline">\(\lambda P\)</span> è¡¨è¾¾å¼ä¸­çš„å¸¸é‡):</p><ol type="1"><li><p><span class="math inline">\(&lt;&gt;\ \vdash * : \Box\)</span> (<span class="math inline">\(axiom\)</span>) ç©ºçš„ä¸Šä¸‹æ–‡æ€»èƒ½è¢«æ¨å¯¼å‡º <span class="math inline">\(* : \Box\)</span></p></li><li><p><font size="5"><span class="math inline">\({\frac { \Gamma\ \vdash\ A\ :\ s }{ \Gamma,\ x\ :\ A\ \vdash\ x\ :\ A }}\)</span></font>, <span class="math inline">\(x \notin \Gamma\)</span> (<span class="math inline">\(start\ rule\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac { \Gamma\ \vdash\ A\ :\ B \quad \Gamma\ \vdash\ C\ :\ s }{ \Gamma,\ x\ :\ C\ \vdash\ A\ :\ B }}\)</span></font>, <span class="math inline">\(x \notin \Gamma\)</span> (<span class="math inline">\(weakening\ rule\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac { \Gamma\ \vdash\ A\ :\ * \quad \Gamma,\ x\ :\ A\ \vdash\ B\ :\ s }{ \Gamma\ \vdash\ (\Pi x\ :\ A.\ B)\ :\ s }}\)</span></font>(<span class="math inline">\(type/kind\ formation\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma\ \vdash\ F\ :\ (\Pi x\ :\ A.\ B) \quad \Gamma\ \vdash\ a\ :\ A }{ \Gamma\ \vdash\ Fa\ :\ B[x\ :=\ a] }}\)</span></font>(<span class="math inline">\(application\ rule\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma,\ x\ :\ A\ \vdash\ b\ :\ B \quad \Gamma\ \vdash\ (\Pi x\ :\ A.\ B)\ :\ s }{ \Gamma\ \vdash\ (\lambda x\ :\ A.\ b)\ :\ (\Pi x\ :\ A.\ B) }}\)</span></font>(<span class="math inline">\(abstraction\ rule\)</span>)</p></li><li><p><font size="5"><span class="math inline">\({\frac{ \Gamma\ \vdash\ A\ :\ B \quad \Gamma\ \vdash\ B&#39;\ :\ s \quad B\ =_{\beta}\ B&#39; }{ \Gamma\ \vdash\ A\ :\ B&#39; }}\)</span></font>(<span class="math inline">\(conversion\ rule\)</span>)</p></li></ol><h3 id="lambdaomega-ç³»ç»Ÿ-lambdaomega">(<span class="math inline">\(\lambda\omega\)</span>) ç³»ç»Ÿ <span class="math inline">\(\lambda\omega\)</span></h3><p>ç³»ç»Ÿ <span class="math inline">\(\lambda\omega\)</span> ç»“åˆäº† <span class="math inline">\(\lambda 2\)</span> çš„ <span class="math inline">\(\Lambda\)</span> æ„é€ å™¨, <span class="math inline">\(\lambda\underline{\omega}\)</span> çš„ ç±»å‹æ„é€ å™¨ ä¸ä»–ä»¬å„è‡ªçš„æ¨å¯¼è§„åˆ™, å…¶å…è®¸äº† <code>ä¾èµ–äºç±»å‹çš„å€¼ (terms to depend on types)</code> ä»¥åŠ <code>ç±»å‹ä¾èµ–äºç±»å‹ (types to depend on types)</code> åŒæ—¶å­˜åœ¨, å› æ­¤ä»è®¡ç®—çš„è§’åº¦æ¥çœ‹, å…¶è¡¨è¾¾èƒ½åŠ›éå¸¸å¼º, åŒæ—¶äº¦è¢«è®¤ä¸ºå…·å¤‡ç¼–ç¨‹è¯­è¨€æ‰€éœ€è¾¾åˆ°çš„åŸºç¡€.</p><h3 id="lambda-c-ç³»ç»Ÿ-lambda-c">(<span class="math inline">\(\lambda C\)</span>) ç³»ç»Ÿ <span class="math inline">\(\lambda C\)</span></h3><p>ç³»ç»Ÿ <span class="math inline">\(\lambda C\)</span> ä½äº Lambda ç«‹æ–¹ çš„æœ€å³ä¸Šè§’, å…¶åŒ…å«äº†æ¥è‡ªäº <span class="math inline">\(\lambda P\)</span> é€»è¾‘è°“è¯çš„è¡¨è¾¾èƒ½åŠ› ä¸ <span class="math inline">\(\lambda\omega\)</span> çš„è®¡ç®—èƒ½åŠ›, å› æ­¤æ— è®ºæ˜¯ä»é€»è¾‘æˆ–æ˜¯è®¡ç®—çš„è§’åº¦è€ƒé‡, å‡è¢«è§†ä¸ºæåº¦å…·å¤‡å¼ºå¤§èƒ½åŠ›çš„ä¸€å¥—ç±»å‹ç³»ç»Ÿ.</p><h2 id="ä¸é€»è¾‘ç³»ç»Ÿçš„å…³ç³»">ä¸é€»è¾‘ç³»ç»Ÿçš„å…³ç³»</h2><p>é€è¿‡ <a href="https://en.wikipedia.org/wiki/Curry%E2%80%93Howard_correspondence" target="_blank" rel="noopener">Curry-Howard åŒæ„</a>, æˆ‘ä»¬å¾—ä»¥å°† Lambda ç«‹æ–¹ä½“ ä¸­çš„ç±»å‹ç³»ç»Ÿä¸é€»è¾‘ç³»ç»Ÿä¸€ä¸€å¯¹åº”èµ·æ¥, å¦‚ä¸‹è¡¨:</p><table><thead><tr class="header"><th style="text-align: center;">ç±»å‹ç³»ç»Ÿ</th><th style="text-align: center;">é€»è¾‘ç³»ç»Ÿ</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"><span class="math inline">\(\lambda\to\)</span></td><td style="text-align: center;">(ä¸€é˜¶) <a href="https://en.wikipedia.org/wiki/Propositional_calculus" target="_blank" rel="noopener">å‘½é¢˜é€»è¾‘</a></td></tr><tr class="even"><td style="text-align: center;"><span class="math inline">\(\lambda 2\)</span></td><td style="text-align: center;"><a href="https://en.wikipedia.org/wiki/Second-order_propositional_logic" target="_blank" rel="noopener">äºŒé˜¶å‘½é¢˜é€»è¾‘</a></td></tr><tr class="odd"><td style="text-align: center;"><span class="math inline">\(\lambda\underline{\omega}\)</span></td><td style="text-align: center;">å¼±é«˜é˜¶å‘½é¢˜é€»è¾‘</td></tr><tr class="even"><td style="text-align: center;"><span class="math inline">\(\lambda\omega\)</span></td><td style="text-align: center;"><a href="https://en.wikipedia.org/wiki/Higher-order_logic" target="_blank" rel="noopener">é«˜é˜¶å‘½é¢˜é€»è¾‘</a></td></tr><tr class="odd"><td style="text-align: center;"><span class="math inline">\(\lambda P\)</span></td><td style="text-align: center;"><a href="https://en.wikipedia.org/wiki/First-order_logic" target="_blank" rel="noopener">ä¸€é˜¶è°“è¯é€»è¾‘</a></td></tr><tr class="even"><td style="text-align: center;"><span class="math inline">\(\lambda P2\)</span></td><td style="text-align: center;"><a href="https://en.wikipedia.org/wiki/Second-order_logic" target="_blank" rel="noopener">äºŒé˜¶è°“è¯é€»è¾‘</a></td></tr><tr class="odd"><td style="text-align: center;"><span class="math inline">\(\lambda P\underline{\omega}\)</span></td><td style="text-align: center;">å¼±é«˜é˜¶è°“è¯é€»è¾‘</td></tr><tr class="even"><td style="text-align: center;"><span class="math inline">\(\lambda C\)</span></td><td style="text-align: center;"><a href="https://en.wikipedia.org/wiki/Calculus_of_constructions" target="_blank" rel="noopener">æ„é€ æ¼”ç®—</a></td></tr></tbody></table><h2 id="å¤–éƒ¨é“¾æ¥">å¤–éƒ¨é“¾æ¥</h2><p>æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒæˆ–å¼•ç”¨è‡³ä¸‹åˆ—ç½‘é¡µï¼Œä¹Ÿå¯ä¾›ä½œä¸ºé¢å¤–çš„å»¶ä¼¸èµ„æºå¸®åŠ©é˜…è¯»ï¼š</p><ul><li><a href="https://en.wikipedia.org/wiki/Lambda_cube" target="_blank" rel="noopener">Lambda Cube - Wikipedia</a></li><li><a href="https://ttic.uchicago.edu/~dreyer/course/papers/barendregt.pdf" target="_blank" rel="noopener">Lambda Calculi With Types - Henk Barendregt</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;åœ¨æ•°å­¦ (å°¤å…¶æŒ‡æ•°ç†é€»è¾‘åˆ†æ”¯) ä¸ç±»å‹è®ºçš„ä¸–ç•Œ, Lambda ç«‹æ–¹ä½“ æ˜¯ç”± &lt;a href=&quot;https://en.wikipedia.org/wiki/Henk_Barendregt&quot; target=&quot;_blank&quot; rel=&quot;n
      
    
    </summary>
    
    
      <category term="å‡½æ•°å¼ç¼–ç¨‹" scheme="https://a9032676.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    
      <category term="ç±»å‹è®º" scheme="https://a9032676.github.io/tags/%E7%B1%BB%E5%9E%8B%E8%AE%BA/"/>
    
      <category term="é€»è¾‘" scheme="https://a9032676.github.io/tags/%E9%80%BB%E8%BE%91/"/>
    
      <category term="è®¡ç®—æœºç¼–ç¨‹ç†è®º" scheme="https://a9032676.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BC%96%E7%A8%8B%E7%90%86%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ª Haskeller çš„èŒƒç•´è®ºå…¥å‘ç¬”è®° ç¬¬å››ç« ï¼šå§‹å¯¹è±¡ï¼Œç»ˆå¯¹è±¡ä¸é›¶å¯¹è±¡</title>
    <link href="https://a9032676.github.io/2019/09/29/Category-Theory-4/"/>
    <id>https://a9032676.github.io/2019/09/29/Category-Theory-4/</id>
    <published>2019-09-29T14:19:24.000Z</published>
    <updated>2020-09-21T07:31:53.154Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2><p>ä¸Šä¸€ç« ä»‹ç»äº†é™¤é›†åˆèŒƒç•´ä»¥å¤–ä¸€äº›å…¶ä»–èŒƒç•´çš„ä¾‹å­ï¼Œè€Œå¯¹äºä»»æ„èŒƒç•´è€Œè¨€ï¼Œå¾€å¾€æ˜¯ç”±æ€å°„æŠŠä¸åŒå¯¹è±¡é“¾æ¥åœ¨ä¸€èµ·å½¢æˆæŸäº›å…³ç³»ã€‚è€Œæ—¢ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸€äº›ä¸åŒç§ç±»æ€å°„ä¸èŒƒç•´ï¼Œå½“ç„¶å¯¹è±¡ä¹Ÿä¸ä¼šä¾‹å¤–ï¼Œé€è¿‡å¯¹å¯¹è±¡ç§ç±»çš„åˆ’åˆ†ï¼Œæˆ‘ä»¬åŒæ ·åœ°å¯ä»¥å¾—å‡ºä¸€äº›ä¸åŒçš„ç»“è®ºå‡ºæ¥ï¼Œå› æ­¤æˆ‘ä»¬ä»Šå¤©å°±æ¥æ¢è®¨ä¸‹å…³äºèŒƒç•´å†…å¯¹è±¡çš„ä¸€äº›å…³ç³»å§ã€‚</p><h2 id="æ³›æ„é€ universal-construction">æ³›æ„é€ ï¼ˆUniversal Constructionï¼‰</h2><p>åœ¨èŒƒç•´è®ºçš„è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éƒ½ä¼šæŠŠå¯¹è±¡ä¹‹é—´é€è¿‡æ€å°„è¿æ¥èµ·æ¥ï¼Œä½†æˆ‘ä»¬ä»æ¥éƒ½æ²¡æœ‰ "è°ˆå¯¹è±¡"ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨ <span class="math inline">\(Commuting-diagram\)</span> æ„é€ ä¸€ä¸ª <span class="math inline">\(C_{Set}\)</span> çš„èŒƒç•´æ—¶æˆ‘ä»¬ä»æ¥å°±æ²¡æœ‰å…³å¿ƒè¿‡é›†åˆé‡Œé¢ç©¶ç«Ÿæ˜¯ç”±å•¥å…·ä½“çš„æ•´æ•°è¢«æ˜ å°„è‡³å•¥å…·ä½“çš„æ•´æ•°ï¼Œå¦‚ï¼š1 / 2 / 3 ç­‰ç­‰ï¼Œä»–ä»¬é€šå¸¸åªä¼šåœ¨å…·ä½“çš„ä¾‹å­ä¸­å‡ºç°ï¼Œè€Œä¸ä¼šåœ¨æ„é€ æ—¶è¢«æ¬ä¸Šå°é¢ã€‚æ‰€ä»¥è¦çŸ¥é“åœ¨èŒƒç•´è®ºä¸Šï¼Œæˆ‘ä»¬é€šå¸¸è°ˆçš„æ˜¯ä¸€ä¸ªè¢«æŠ½è±¡å‡ºæ¥çš„æ³›æ¦‚å¿µï¼Œå¯¹äºä»»ä½•å¯¹è±¡æˆ‘ä»¬ä¸ä¼šè°ˆå¯¹è±¡çš„æœ¬èº«ï¼Œè€Œåªä¼šæŠŠå¯¹è±¡ä¸æ€å°„è¿æ¥èµ·æ¥ï¼Œç»™å®šä¸€äº›ç‰¹æ€§æˆ–ç‰¹è´¨ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ç»™æ»¡è¶³æŸäº›ç‰¹æ€§çš„å¯¹è±¡åˆ†ç±»ï¼Œäºæ˜¯ä¹æˆ‘ä»¬ä¼šè¯´ï¼š"å“¦ï¼åŸæ¥æ»¡è¶³è¿™äº›ç‰¹å¾é‚£å°±æ˜¯ä¸€ä¸ªå§‹å¯¹è±¡ï¼Œè€Œæ»¡è¶³è¿™äº›ç‰¹å¾é‚£å°±æ˜¯ç»ˆå¯¹è±¡ï¼"ã€‚</p><h3 id="èŒƒæ€§è´¨universal-property">èŒƒæ€§è´¨ï¼ˆUniversal Propertyï¼‰</h3><h2 id="å¯¹è±¡çš„ç§ç±»type-of-objects">å¯¹è±¡çš„ç§ç±»ï¼ˆType of Objectsï¼‰</h2><p>é€è¿‡æ³›æ„é€ ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æåŠå¯¹è±¡æ˜¯ä»€ä¹ˆçš„æƒ…å†µä¸‹ï¼Œç»™å®šä¸åŒçš„è§„åˆ™ï¼Œå½¢æˆä¸åŒç§ç±»çš„å¯¹è±¡ï¼Œä¸‹é¢åˆ™ä¼šåˆ—å‡ºä¸€äº›å¸¸è§çš„å¯¹è±¡ç±»å‹ã€‚</p><h3 id="å§‹å¯¹è±¡initial-object">å§‹å¯¹è±¡ï¼ˆInitial Objectï¼‰</h3><p>å§‹å¯¹è±¡æœ‰ç€åˆå§‹ï¼Œå¼€å§‹çš„æ„æ€ï¼Œå…¶åœ¨èŒƒç•´ä¸­é‚£æ„å‘³ç€æœ€åˆå§‹çš„é‚£ä¸ªå¯¹è±¡ï¼Œä»»ä½•ä¸€åˆ‡éƒ½æ˜¯ç”±æ­¤å¤„å¼€å§‹ï¼Œå½“ç„¶åœ°è¿™ä¸ªå¯¹è±¡ä¹Ÿåªèƒ½å¤Ÿç”±å…¶æœ¬èº«å­˜åœ¨çš„å”¯ä¸€æ€å°„ç»™æ˜ å°„åˆ°åˆ«çš„å¯¹è±¡ä¸­ï¼Œå…¬ç†åŒ–çš„æ€§è´¨å¯æè¿°ä¸ºï¼š - å½“ <span class="math inline">\(I\)</span> ä½œä¸ºå§‹å¯¹è±¡æ—¶ï¼Œ<span class="math inline">\(\forall X \in C, Hom_C(I, X)\)</span> å½“ä¸­ä»…å­˜åœ¨å”¯ä¸€æ€å°„ï¼ˆUnique morphismï¼‰ - å½“ <span class="math inline">\(I\)</span> ä½œä¸ºå§‹å¯¹è±¡æ—¶ï¼Œ<span class="math inline">\(\forall X \in C, |C(I, X)| = 1\)</span></p><p>ä¸‹é¢æ˜¯ä¸åŒèŒƒç•´ä½œä¸ºå§‹å¯¹è±¡çš„ä¸€äº›ä¾‹å­ï¼š - å¯¹äº <span class="math inline">\(C_{Set}\)</span>ï¼Œå§‹å¯¹è±¡åˆ™æ˜¯ç©ºé›†åˆï¼Œå› ä¸ºå¯¹äºé›†åˆæ¥è¯´ï¼Œå­˜åœ¨å”¯ä¸€æ€å°„çš„å…ƒç´ ï¼ˆå¯¹è±¡ï¼‰åˆ™åªæœ‰ç©ºé›†åˆã€‚ï¼ˆä¸‹è®¾ <span class="math inline">\(I\)</span> ä½œä¸ºå§‹å¯¹è±¡ï¼Œå½“æˆ‘ä»¬å­˜åœ¨æ˜ å°„ <span class="math inline">\(f : I \to X\)</span> æ—¶ï¼ŒæŠŠå…¶ä½œä¸ºç¬›å¡å„¿ç§¯ <span class="math inline">\(I \times X \in f\)</span> æ¥çœ‹å¾…ï¼Œè¿™æ—¶å€™å®ƒä»…å­˜åœ¨å”¯ä¸€å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ <span class="math inline">\(\varnothing \to X\)</span>ï¼Œè¿™æ­£æ­£ç¬¦åˆäº†æ»¡å°„å‡½æ•°çš„å®šå¾‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç©ºå‡½æ•°ã€‚ï¼‰ - å¯¹äº <span class="math inline">\(C_{Group}\)</span>ï¼Œå§‹å¯¹è±¡æ˜¯å¹³å‡¡ç¾¤ï¼ˆTrivial Groupï¼‰ã€‚ï¼ˆç”±å•å…ƒç´ ç»„æˆçš„ç¾¤ï¼Œå…¶è¿ç®—åªæœ‰ <span class="math inline">\(e + e = e\)</span>ï¼‰</p><h3 id="ç»ˆå¯¹è±¡terminal-object">ç»ˆå¯¹è±¡ï¼ˆTerminal Objectï¼‰</h3><p>åšäººè¦æœ‰å§‹æœ‰ç»ˆï¼Œé‚£èŒƒç•´è®ºå½“ç„¶ä¹Ÿä¸ä¾‹å¤–ï¼è€Œå¯¹äºç»ˆå¯¹è±¡ï¼Œå…¶ä¸å§‹å¯¹è±¡çš„æ€§è´¨å®Œå…¨ç›¸åï¼Œå…¬ç†åŒ–çš„æ€§è´¨å¯æè¿°ä¸ºï¼š - å½“ <span class="math inline">\(T\)</span> ä½œä¸ºç»ˆå¯¹è±¡æ—¶ï¼Œ<span class="math inline">\(\forall X \in C, Hom_C(X, T)\)</span> å½“ä¸­ä»…å­˜åœ¨å”¯ä¸€æ€å°„ - å½“ <span class="math inline">\(T\)</span> ä½œä¸ºç»ˆå¯¹è±¡æ—¶ï¼Œ<span class="math inline">\(\forall X \in C, |C(X, T)| = 1\)</span></p><p>ä¸‹é¢æ˜¯ä¸åŒèŒƒç•´ä½œä¸ºç»ˆå¯¹è±¡çš„ä¸€äº›ä¾‹å­ï¼š - å¯¹äº <span class="math inline">\(C_{Set}\)</span>ï¼Œç»ˆå¯¹è±¡åˆ™æ˜¯å•å…ƒç´ é›†åˆï¼ˆSingleton Setï¼‰ï¼Œå› ä¸ºå¯¹äºé›†åˆæ¥è¯´ï¼Œæˆ‘ä»¬æ²¡åŠæ³•ä»éç©ºé›†åˆæ€å°„åˆ°ä¸€ä¸ªç©ºé›†åˆï¼ˆè¯•æƒ³ä¸€ä¸‹è‹¥æœåŸ¹åŸŸæ˜¯ç©ºé›†ï¼Œé‚£ä¹ˆå°±ä¸å­˜åœ¨ä»»ä½•æ€å°„ä»å®šä¹‰åŸŸæ˜ å°„åˆ°å€¼åŸŸäº†ï¼‰ï¼Œå­˜åœ¨å”¯ä¸€æ€å°„çš„å…ƒç´ ï¼ˆå¯¹è±¡ï¼‰åˆ™åªæœ‰å•å…ƒç´ é›†åˆã€‚ - å¯¹äº <span class="math inline">\(C_{Group}\)</span>ï¼Œç»ˆå¯¹è±¡ä¹Ÿæ˜¯å¹³å‡¡ç¾¤ã€‚</p><h3 id="é›¶å¯¹è±¡zero-objector-null-object">é›¶å¯¹è±¡ï¼ˆZero Objectï¼ˆor Null Objectï¼‰ï¼‰</h3><p>å½“ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒæ—¶æ˜¯å§‹å¯¹è±¡ä»¥åŠç»ˆå¯¹è±¡æ—¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠå®ƒç§°ä¸ºé›¶å¯¹è±¡ã€‚å› æ­¤å®ƒçš„æ€§è´¨å¯è¢«æè¿°ä¸ºï¼š - å½“ <span class="math inline">\(0\)</span> ä½œä¸ºé›¶å¯¹è±¡æ—¶ï¼Œ<span class="math inline">\(\forall 0 \in C, æœ‰ \exists! f \exists! g. f : A \to 0 \land g : 0 \to A\)</span></p><p>ä¸‹é¢æ˜¯ä¸åŒèŒƒç•´ä½œä¸ºé›¶å¯¹è±¡çš„ä¸€äº›ä¾‹å­ï¼š - ç”±äºå¹³å‡¡ç¾¤åŒæ—¶æ˜¯å§‹å¯¹è±¡ä¸ç»ˆå¯¹è±¡ï¼Œå› æ­¤å®ƒè‡ªç„¶æ˜¯ä¸€ä¸ªé›¶å¯¹è±¡ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç« ä»‹ç»äº†é™¤é›†åˆèŒƒç•´ä»¥å¤–ä¸€äº›å…¶ä»–èŒƒç•´çš„ä¾‹å­ï¼Œè€Œå¯¹äºä»»æ„èŒƒç•´è€Œè¨€ï¼Œå¾€å¾€æ˜¯ç”±æ€å°„æŠŠä¸åŒå¯¹è±¡é“¾æ¥åœ¨ä¸€èµ·å½¢æˆæŸäº›å…³ç³»ã€‚è€Œæ—¢ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸€äº›ä¸åŒç§ç±»æ€å°„ä¸èŒƒç•´ï¼Œå½“ç„¶å¯¹è±¡ä¹Ÿä¸ä¼šä¾‹å¤–ï¼Œé€è¿‡å¯¹å¯¹è±¡ç§ç±»çš„åˆ’åˆ†ï¼Œæˆ‘ä»¬åŒæ ·åœ°å¯ä»¥å¾—å‡ºä¸€äº›ä¸åŒçš„ç»“è®ºå‡ºæ¥
      
    
    </summary>
    
    
      <category term="èŒƒç•´è®º" scheme="https://a9032676.github.io/tags/%E8%8C%83%E7%95%B4%E8%AE%BA/"/>
    
      <category term="å‡½æ•°å¼ç¼–ç¨‹" scheme="https://a9032676.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ª Haskeller çš„èŒƒç•´è®ºå…¥å‘ç¬”è®° ç¬¬ä¸‰ç« ï¼šæ’åºå…³ç³»ï¼Œå¹ºåŠç¾¤ä¸ Thin å’Œ Kleisli èŒƒç•´</title>
    <link href="https://a9032676.github.io/2019/08/26/Category-Theory-3/"/>
    <id>https://a9032676.github.io/2019/08/26/Category-Theory-3/</id>
    <published>2019-08-25T16:04:44.000Z</published>
    <updated>2020-10-16T03:35:06.709Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2><p>ä¸ºä»€ä¹ˆä¸Šä¸¤ç¯‡èŒƒç•´è®ºç¬”è®°å¤§å¤šæ•°éƒ½æ˜¯é’ˆå¯¹èŒƒç•´ä¸å‡½æ•°çš„å…³ç³»ï¼Œéš¾é“å…¶ä»–å…³ç³»ä¸èƒ½æŠ½è±¡æˆä¸€ä¸ªèŒƒç•´å—ï¼Ÿè¿™ä¸ªç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ï¼Œå‰ä¸¤ç¯‡æ˜¯å€ŸåŠ©äº†å‡½æ•°çš„æ¦‚å¿µä»¥æ›´å¥½åœ°ç†è§£å¤åˆæˆ–åŒæ€ç©¶ç«Ÿæ˜¯äº›ä»€ä¹ˆä¸œè¥¿ï¼Œå› æ­¤è€Œä»æœ¬ç¯‡å¼€å§‹ï¼Œæˆ‘ä»¬æ¥è¯´ä¸€äº›ä¸å‡½æ•°å…³ç³»ä¸å¤§çš„ä¸€äº›çŸ¥è¯†å§ï¼</p><h2 id="æ¦‚å¿µ">æ¦‚å¿µ</h2><p>æ—¢ç„¶èŒƒç•´è®ºé‡Œé¢æˆ‘ä»¬è¦è®¨è®ºçš„ä¸œè¥¿æ— éå°±æ˜¯å„ç§æ€å°„å¤åˆï¼ˆMorphism compositionï¼‰ï¼Œå°±è¿æ’åºå…³ç³»ä¹Ÿä¸ä¾‹å¤–ï¼Œåœ¨ç¬¬ä¸€ç« æ—¶å°±å·²è®²è¿°äº†ç›¸å…³æ¦‚å¿µï¼Œè¿™é‡Œå°±ä¸å†é‡æã€‚è€Œæˆ‘ä»¬ç°åœ¨è¦çŸ¥é“çš„æ˜¯é™¤äº†ç¬¬äºŒç« æåŠçš„å‡½æ•°å…³ç³»å¤–ï¼Œæˆ‘ä»¬ç©¶ç«Ÿè¿˜å¯ä»¥æ‹¿å¤åˆæ¥ç ”ç©¶äº›ä»€ä¹ˆï¼Œè€Œæ’åºå°±æ˜¯ä¸€ä¸ªå¾ˆå¥½ä¾‹å­äº†ã€‚</p><p>ä¾‹å¦‚æˆ‘ä»¬æœ‰æ—¶å€™ä¼šè¯´ <span class="math inline">\(a\)</span> å°äºæˆ–ç­‰äº <span class="math inline">\(b\)</span>ï¼Œè€Œ <span class="math inline">\(b\)</span> å°äºæˆ–ç­‰äº <span class="math inline">\(c\)</span>ï¼Œé‚£ä¹ˆå¿…ç„¶è•´å«äº† <span class="math inline">\(a \leq c\)</span>ï¼ˆä¼ é€’æ€§ï¼‰ï¼Œè¿™é‡Œä¸éš¾çœ‹å‡ºå®é™…ä¸Šæ’åºå…³ç³»å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„å¤åˆï¼Œåªä¸è¿‡æˆ‘ä»¬æŠŠå¯¹åº”çš„æ€å°„ç»™æ›¿æ¢æˆå…·ä½“æˆ‘ä»¬å®šä¹‰çš„äºŒå…ƒå…³ç³» <span class="math inline">\(\leq\)</span> ç½¢äº†ã€‚ <span class="math display">\[a \xrightarrow[\leq]{} b \xrightarrow[\leq]{} c \\\\a \xrightarrow[\leq]{} c\]</span></p><h2 id="æ’åºå…³ç³»order-relationship">æ’åºå…³ç³»ï¼ˆOrder Relationshipï¼‰</h2><p>æ’åºå…³ç³»æ˜¯å¯¹æ’åºåœ¨ç›´è§‰ä¸Šçš„è‡ªç„¶è¯ é‡Šï¼ŒåŒæ ·æ˜¯å±äºä¸€ç§äºŒå…ƒå…³ç³»ï¼Œå®ƒä»¬å„è‡ªæœ‰ä¸åŒçš„ç‰¹æ€§ï¼Œä¸‹é¢å°†ä¼šä»‹ç»ä¸€äº›è¾ƒä¸ºå¸¸è§çš„æ’åºå…³ç³»ã€‚</p><h3 id="é¢„åºpreorderquasiorder">é¢„åºï¼ˆPreorderï¼ˆQuasiorderï¼‰ï¼‰</h3><p>é¢„åºå…³ç³»æ»¡è¶³äº†è‡ªåæ€§ï¼ˆReflexiveï¼‰åŠä¼ é€’æ€§ï¼ˆTransitiveï¼‰ï¼Œä½œä¸ºæ’åºå…³ç³»æ¥è®²é¢„åºå¯ä»¥å°†å…¶æ¦‚å¿µè¿›ä¸€æ­¥æ¨å¹¿è‡³ç­‰ä»·å…³ç³»ä»¥åŠéä¸¥è°¨ï¼ˆNon-Strictï¼‰çš„ååºå…³ç³»ã€‚è€Œç”±é¢„åºå…³ç³»æ‰€ç»„æˆçš„é›†åˆè¢«ç§°ä¸ºé¢„åºé›†åˆï¼ˆPreordered set or Prosetï¼‰</p><p>ç°åœ¨è®¾ <span class="math inline">\(\leq\)</span> æ˜¯ P ä¸Šçš„äºŒå…ƒå…³ç³»ï¼Œè‹¥æœæ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼Œåˆ™ç§°è¿™æ˜¯ä¸€ä¸ªé¢„åºå…³ç³»ï¼Œä¾‹å¦‚ï¼š - è‡ªåæ€§ï¼š<span class="math inline">\(\forall a \in P, a \leq a\)</span> - ä¼ é€’æ€§ï¼š<span class="math inline">\(\forall a, b, c \in P\)</span>ï¼Œè‹¥ <span class="math inline">\(a \leq b\)</span> ä¸” <span class="math inline">\(b \leq c\)</span>ï¼Œåˆ™ <span class="math inline">\(a \leq c\)</span></p><h3 id="ååºpartial-order">ååºï¼ˆPartial orderï¼‰</h3><p>å¦‚æœæˆ‘ä»¬å°†é¢„åºè¿›è¡Œæ¨å¹¿ï¼Œå¹¶åŠ ä¸Šåå¯¹ç§°æ€§ï¼ˆAnti-symmetricï¼‰ä½œä¸ºçº¦æŸï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯´è¿™ä¸ªäºŒå…ƒå…³ç³»å°±æ˜¯ååºå…³ç³»ã€‚</p><p>ç°åœ¨è®¾ <span class="math inline">\(\leq\)</span> æ˜¯ P ä¸Šçš„äºŒå…ƒå…³ç³»ï¼Œè‹¥æœæ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼Œåˆ™ç§°è¿™æ˜¯ä¸€ä¸ªååºå…³ç³»ï¼Œä¾‹å¦‚ï¼š - è‡ªåæ€§ï¼š<span class="math inline">\(\forall a \in P, a \leq a\)</span> - ä¼ é€’æ€§ï¼š<span class="math inline">\(\forall a, b, c \in P\)</span>ï¼Œè‹¥ <span class="math inline">\(a \leq b\)</span> ä¸” <span class="math inline">\(b \leq c\)</span>ï¼Œåˆ™ <span class="math inline">\(a \leq c\)</span> - åå¯¹ç§°æ€§ï¼š<span class="math inline">\(\forall a, b \in P\)</span>ï¼Œè‹¥ <span class="math inline">\(a \leq b\)</span> ä¸” <span class="math inline">\(b \leq a\)</span>ï¼Œåˆ™è•´å«äº† <span class="math inline">\(a = b\)</span></p><h3 id="å…¨åºtotal-order">å…¨åºï¼ˆTotal orderï¼‰</h3><p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥å†å°†é¢„åºå…³ç³»è¿›ä¸€æ­¥æ¨å¹¿ï¼Œè®¾ <span class="math inline">\(R\)</span> ä¸ºäºŒå…ƒå…³ç³»ï¼Œé™åˆ¶æŸä¸€ä¸ªåºçš„äºŒå…ƒå…³ç³»ä¸º <span class="math inline">\(aRb \lor bRa\)</span>ï¼Œå³å®Œå…¨æ€§ï¼ˆConnexï¼‰ä½œä¸ºçº¦æŸï¼Œé‚£ä¹ˆå¾—å‡ºæ¥çš„è¿™ä¸ªå…³ç³»å°±å«åšå…¨åºå…³ç³»ã€‚</p><p>ç°åœ¨è®¾ <span class="math inline">\(\leq\)</span> æ˜¯ P ä¸Šçš„äºŒå…ƒå…³ç³»ï¼Œè‹¥æœæ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼Œåˆ™ç§°è¿™æ˜¯ä¸€ä¸ªå…¨åºå…³ç³»ï¼Œä¾‹å¦‚ï¼š - ä¼ é€’æ€§ï¼š<span class="math inline">\(\forall a, b, c \in P\)</span>ï¼Œè‹¥ <span class="math inline">\(a \leq b\)</span> ä¸” <span class="math inline">\(b \leq c\)</span>ï¼Œåˆ™ <span class="math inline">\(a \leq c\)</span> - åå¯¹ç§°æ€§ï¼š<span class="math inline">\(\forall a, b \in P\)</span>ï¼Œè‹¥ <span class="math inline">\(a \leq b\)</span> ä¸” <span class="math inline">\(b \leq a\)</span>ï¼Œåˆ™è•´å«äº† <span class="math inline">\(a = b\)</span> - å®Œå…¨æ€§ï¼š<span class="math inline">\(\forall a, b \in P, a \leq b \lor b \leq a\)</span> ï¼ˆä½†æ³¨æ„å…¶å·²è•´å«äº†è‡ªåå…³ç³»ï¼Œå› ä¸º <span class="math inline">\(\forall a, b \in P, a \leq a \lor b \leq b\)</span>ï¼‰</p><h2 id="æ’åºåœ¨èŒƒç•´è®ºä¸Šçš„å…³ç³»order-in-category-theory">æ’åºåœ¨èŒƒç•´è®ºä¸Šçš„å…³ç³»ï¼ˆOrder in Category Theoryï¼‰</h2><p>å¯¹äºä¸Šé¢çš„æ’åºå…³ç³»ï¼Œå¦‚æœæŠŠå®ƒä»¬çš„æ€§è´¨åœ¨èŒƒç•´è®ºä¸­å‘ˆç°å‡ºæ¥åˆæ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿå…¶å®ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºä¸Šé¢æ‰€æåŠåˆ°çš„æ’åºå…³ç³»å…¶å®å¤©ç„¶å°±æ˜¯ä¸€ç§èŒƒç•´ï¼Œæ¯”å¦‚åœ¨å¼€å¤´æ—¶æˆ‘ä»¬ä¸¾è¿‡çš„ä¾‹å­ï¼šå¯¹äºæœ€åŸºç¡€çš„æ’åºå…³ç³»ï¼Œä¹Ÿå°±æ˜¯é¢„åºå…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“åœ°æŠŠå®ƒå¯¹åº”åˆ°èŒƒç•´è®ºä¸Šçš„æ¦‚å¿µï¼Œå°±å¦‚åŒæŠŠäºŒå…ƒå…³ç³»ï¼ˆ<span class="math inline">\(\leq\)</span>ï¼‰æ›¿æ¢æˆæ€å°„ï¼ˆ<span class="math inline">\(\to\)</span>ï¼‰ä¸€æ ·ï¼Œè¿™å°±å·²ç»æ»¡è¶³äº†ä¼ é€’æ€§è´¨äº†ã€‚</p><p>é‚£ä¹ˆè‡ªåæ€§å‘¢ï¼Ÿå¯¹äºè‡ªåè¿™ä¸€æ¦‚å¿µï¼Œç”±äºæˆ‘ä»¬ä¸Šé¢å·²ç»å¾—çŸ¥è‡ªåçš„å®šä¹‰ï¼Œå…¶å®ä¸éš¾å‘ç°å…¶å®ä¹Ÿå°±æ˜¯èŒƒç•´ä¸Šæ°å·§æœ‰ä¸€ä¸ªæ€å°„çš„è·Ÿè‡ªåæ€§çš„æ¦‚å¿µä¸€æ¨¡ä¸€æ ·ï¼Œé‚£å°±æ˜¯å•ä½å…ƒæ€å°„ï¼ˆIdentity morphismï¼‰äº†ï¼ˆå› ä¸ºåŒæ ·åœ°å¯ä»¥æŠŠ <span class="math inline">\(\leq\)</span> æ›¿æ¢æˆå•ä½å…ƒæ€å°„ <span class="math inline">\(id_a\)</span>ï¼Œä¾‹å¦‚ï¼š$ a  a $ï¼‰ã€‚</p><h3 id="hom-é›†åˆhom-set">Hom-é›†åˆï¼ˆHom-setï¼‰</h3><p>æˆ‘ä»¬çš„èŒƒç•´å¹¶ä¸æ€»æ˜¯åªæœ‰ä¸€ä¸ªæ€å°„åœ¨å…¶å†…ï¼Œè€Œæ˜¯å¯ä»¥å­˜åœ¨å¾ˆå¤šæ€å°„ç”±ä¸åŒçš„å¯¹è±¡æ˜ å°„åˆ°èŒƒç•´å†…çš„å…¶ä»–å¯¹è±¡å»ï¼Œä¾‹å¦‚åœ¨èŒƒç•´ <span class="math inline">\(C\)</span> å†…æˆ‘ä»¬æœ‰ <span class="math inline">\(a\)</span> ä¸ <span class="math inline">\(b\)</span> è¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œå­˜åœ¨æ€å°„ <span class="math inline">\(f, g, h\)</span>ï¼Œå®ƒä»¬å‡æ˜¯ç”± <span class="math inline">\(a\)</span> è¢«æ€å°„è‡³å¯¹è±¡ <span class="math inline">\(b\)</span> ä¸Šï¼Œå› æ­¤è¿™äº›æ€å°„æœ¬èº«å¯ä»¥ç»„æˆä¸€ä¸ªç”± <span class="math inline">\(a\)</span> æ€å°„è‡³ <span class="math inline">\(b\)</span> çš„ Hom-é›†åˆï¼Œä¸€èˆ¬å†™ä½œ <span class="math inline">\(C(a, b)\)</span> æˆ– <span class="math inline">\(hom_C (a, b)\)</span>ã€‚</p><h4 id="ä¸æ€å°„å¤åˆçš„å…³ç³»relationship-with-composition">ä¸æ€å°„å¤åˆçš„å…³ç³»ï¼ˆRelationship with compositionï¼‰</h4><p>æ€å°„å¤åˆå¯¹äº Hom-é›†åˆ æ¥è®²ä¹Ÿæ˜¯å¯ä»¥è¢«å…¬ç†åŒ–åœ°å†™å‡ºæ¥çš„ï¼Œä¾‹å¦‚å­˜åœ¨å¯¹è±¡ <span class="math inline">\(a, b, c\)</span>ï¼Œå¯¹äºæ€å°„ <span class="math inline">\(f \in hom(a, b)\)</span> ä»¥åŠ <span class="math inline">\(g \in hom(b, c)\)</span>ï¼Œæˆ‘ä»¬å¯ä»¥å†™æˆè¿™æ ·ï¼š <span class="math display">\[ hom(a, b) \times hom(b, c) \implies hom(a, c) \]</span></p><h3 id="å°èŒƒç•´ä¸å¤§èŒƒç•´small-and-large-category">å°èŒƒç•´ä¸å¤§èŒƒç•´ï¼ˆSmall and large categoryï¼‰</h3><h3 id="thin-èŒƒç•´thin-categoryor-posetal-category">Thin èŒƒç•´ï¼ˆThin Categoryï¼ˆor Posetal categoryï¼‰ï¼‰</h3><p>å½“ç„¶åœ°ï¼Œæ»¡è¶³äº†ä¸Šè¿°æ€§è´¨çš„èŒƒç•´å½“ç„¶æœ‰ä¸ªåå­—ï¼Œè¢«ç§°ä¸º Thin èŒƒç•´ï¼Œå«ä¹‰å³ â€œç˜¦â€ çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯å½“ä¸€ä¸ªèŒƒç•´å†…å½“ä¸”ä»…å½“å­˜åœ¨å”¯ä¸€æ€å°„ï¼Œé‚£ä¹ˆè¿™ä¸ªèŒƒç•´å°±ä¼š â€œç˜¦â€ åˆ°åªå‰©è¿™ä¹ˆä¸€ä¸ªäº†ã€‚</p><p>è®¾æœ‰ <span class="math inline">\(hom_C (a, b)\)</span>ï¼Œåˆ†åˆ«ç”± <span class="math inline">\(f\)</span> ä¸ <span class="math inline">\(g\)</span> ä» <span class="math inline">\(a\)</span> è¢«æ€å°„è‡³ <span class="math inline">\(b\)</span>ï¼Œåˆ™è•´å«äº† <span class="math inline">\(f = g\)</span>ï¼Œå½¢å¼åŒ–å®šä¹‰ä¸ºï¼š <span class="math display">\[ a \overset{f}{\underset{g}\rightrightarrows} b \implies f=g \]</span></p><h4 id="æ˜¯æˆ–ä¸æ˜¯ä¸€ä¸ª-thin-èŒƒç•´is-or-not-a-thin-category">æ˜¯æˆ–ä¸æ˜¯ä¸€ä¸ª Thin èŒƒç•´ï¼Ÿï¼ˆIs or not a Thin category?ï¼‰</h4><p>æœ‰æ—¶å€™ä¸€äº›èŒƒç•´çœ‹ç€å¹¶ä¸åƒæ˜¯ä¸€ä¸ª Thin èŒƒç•´ï¼Œå‡è®¾æœ‰èŒƒç•´ <span class="math inline">\(C\)</span>ï¼Œä¸”å­˜åœ¨å¯¹è±¡ <span class="math inline">\(a, b, c, d\)</span>ï¼Œè€Œåœ¨ <span class="math inline">\(Commutative-Diagram\)</span> ä¸Šå¦‚ä¸‹ï¼š</p><p><span class="math display">\[ \array{&amp; a &amp; \overset{f}\rightarrow &amp; b &amp; \\\\            f&#39; &amp; \downarrow &amp;&amp;\downarrow &amp; g \\\\           &amp;c &amp; \underset{g&#39;}\rightarrow&amp; d &amp; \\\\} \]</span></p><p>æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°åœ¨è¿™ä¸ªä¾‹å­ä¸­ <span class="math inline">\(hom(a, d)\)</span> ä¸Šéƒ½çœ‹ä¼¼å­˜åœ¨ç€ä¸¤æ¡è·¯å¾„ï¼Œè²Œä¼¼ç›´è§‰ä¸Šå‘Šè¯‰æˆ‘ä»¬è¿™ä¸æ˜¯ä¸€ä¸ª Thin èŒƒç•´ï¼Œå› ä¸º â€œå½“ä¸”ä»…å½“å­˜åœ¨å”¯ä¸€æ€å°„â€ è¿™å¥è¯å‘Šè¯‰äº†æˆ‘ä»¬å¦‚æœå¤šäºä¸€ä¸ªæ€å°„ï¼Œé‚£å®ƒå°±ä¸ç®—æ˜¯ Thin èŒƒç•´ã€‚</p><p>ä½†äº‹å®çœŸæ˜¯è¿™æ ·å—ï¼Ÿè¦çŸ¥é“èŒƒç•´æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€å°±æ˜¯æ€å°„å¤åˆï¼Œè€Œå½“æˆ‘ä»¬æŠŠ <span class="math inline">\(f \circ g\)</span> ä¹‹åå®ƒçš„æ€å°„å®é™…ä¼šç›¸ç­‰äº <span class="math inline">\(f&#39; \circ g&#39;\)</span>ï¼Œå› ä¸ºï¼š <span class="math display">\[ hom(a, b) \times hom(b, d) = hom(a, c) \times hom(c, d) \implies hom(a, d) \]</span></p><p>æ‰€ä»¥å®é™…ä¸Šé€è¿‡æ€å°„å¤åˆåï¼Œè¿™ä¸¤æ¡è·¯å¾„åœ¨äº¤æ¢å›¾ä¸Šçš„æ€å°„å°†è¢«è§†ä¸ºç­‰ä»·çš„ï¼Œäº¦å³åªè¢«è§†ä¸ºå­˜åœ¨å”¯ä¸€æ€å°„ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªæ€å°„ï¼Œå› æ­¤è¿™ä¹Ÿæ˜¯å±äº Thin èŒƒç•´ã€‚</p><h4 id="ä¸é¢„åºé›†åˆçš„å…³ç³»relationship-with-proset">ä¸é¢„åºé›†åˆçš„å…³ç³»ï¼ˆRelationship with prosetï¼‰</h4><p>æˆ‘ä»¬å¸¸å¸¸ä¼šæŠŠé¢„åºé›†åˆåœ¨èŒƒç•´è®ºä¸Šè§†ä½œä¸º Thin èŒƒç•´ï¼Œå½“ç„¶å®ƒå¤©ç”Ÿä¹Ÿå°±æ˜¯ä¸€ä¸ª Thin èŒƒç•´ï¼Œä½†è¿™åˆæ€ä¹ˆå»è§£é‡Šå‘¢ï¼Ÿç°åœ¨å…ˆå‡è®¾æˆ‘ä»¬è¦å»æ¯”è¾ƒä¸€ä¸ªè‡ªç„¶æ•°ï¼Œä¸”ä»–ä»¬ï¼Œä¾‹å¦‚æˆ‘ä»¬è¦æ•´é™¤ <span class="math inline">\(6\)</span> è¿™ä¸ªæ•°ï¼Œå¹¶å°†æ•´é™¤ç»“æœç”±é¢„åºå…³ç³»æ’åˆ—å‡ºæ¥ï¼Œå¯å¾—ï¼š<span class="math inline">\(3 \leq 6\)</span>ï¼Œ<span class="math inline">\(2 \leq 6\)</span>ï¼Œ<span class="math inline">\(1 \leq 6\)</span>ï¼Œå¯è§æ— è®ºæ˜¯å…ˆ <span class="math inline">\(1 \leq 3 \leq 6\)</span> æˆ–æ˜¯ <span class="math inline">\(1 \leq 2 \leq 6\)</span>ï¼Œæœ€ç»ˆçš„ç»“æœéƒ½ä¼šæ˜¯ <span class="math inline">\(1 \leq 6\)</span>ã€‚è¿™é‡Œå°±æ˜¯ä¸€ä¸ªæ€å°„å¤åˆåï¼Œå®ƒä»¬çš„ç»“æœå§‹ç»ˆç›¸åŒçš„ä¸€ä¸ªä¾‹å­ï¼Œè€Œæœ€ç»ˆ <span class="math inline">\(\leq\)</span> åœ¨æ€å°„å¤åˆåå§‹ç»ˆéƒ½åªæœ‰å­˜åœ¨å”¯ä¸€æ€å°„ï¼Œè€Œä¸åƒå‡½æ•°é‚£æ ·å¤§å¤šæ•°æƒ…å†µå‡æœ‰å¾ˆå¤šæ€å°„ä»å®šä¹‰åŸŸè¢«æ˜ å°„åˆ°å€¼åŸŸï¼Œå› æ­¤è¿™ç¬¦åˆäº† Thin èŒƒç•´çš„å®šä¹‰ï¼Œå¹¶ä¸”å¤©ç„¶æ˜¯ä¸€ä¸ª Thin èŒƒç•´äº†ã€‚</p><h4 id="ä¸ååºé›†åˆçš„å…³ç³»relationship-with-poset">ä¸ååºé›†åˆçš„å…³ç³»ï¼ˆRelationship with posetï¼‰</h4><p>ä¸€èˆ¬æ¥è¯´æ—¢ç„¶æˆ‘ä»¬å¯ä»¥å¯¹é¢„åºé›†åˆå’Œ Thin èŒƒç•´äº§ç”Ÿè”ç³»ï¼Œé‚£ä¹ˆæŒ‰ç†æ¥è¯´ååºé›†åˆä¸ Thin èŒƒç•´ä¹Ÿæ˜¯å¯ä»¥å¯¹åº”å¾—ä¸Šçš„ã€‚è€Œè¿™é‡Œå¾—çŸ¥ååºå®é™…åªæ¯”é¢„åºå…³ç³»å¤šäº†åå¯¹ç§°çš„ç‰¹æ€§ï¼Œä½†è¿™å¹¶æ²¡æœ‰ä½¿å¾—ååºé›†åˆä¸Šä¼šå¤šäºå”¯ä¸€çš„æ€å°„ï¼Œå®ƒè¯¥æ˜¯ä¸€ä¸ªè¿˜æ˜¯åªæœ‰ä¸€ä¸ªï¼Œå› æ­¤ååºé›†åˆè‡ªç„¶åœ°ä¹Ÿæ˜¯ Thin èŒƒç•´äº†ã€‚</p><p>è€Œåå¯¹ç§°æ€§æˆ‘ä»¬åˆæ€ä¹ˆåœ¨ Thin èŒƒç•´ä¸Šæè¿°å‡ºæ¥å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“å½“å­˜åœ¨åå¯¹ç§°æ€§ï¼ˆå³ <span class="math inline">\(a \leq b \leq a \implies a = b\)</span>ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå…³ç³»è‚¯å®šæ˜¯å¯äº’é€†ï¼ˆInverseï¼‰çš„ï¼Œè€Œç°åœ¨æˆ‘ä»¬å¯¹åŒæ„å…³ç³»è¿›è¡Œè§‚å¯Ÿå‘ç°ï¼Œå®é™…ä¸ŠåŒæ„å…³ç³»æ°å·§å°±æ˜¯æè¿°äº†è¿™ç§å…³ç³»ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†å…¶å®šä¹‰å½¢å¼åŒ–åœ°å†™æˆè¿™æ ·ï¼ˆäº¦å³åŒæ„å…³ç³»ï¼‰ï¼š <span class="math display">\[ a \overset{f}{\underset{g}\leftrightarrows} b \implies f=g \]</span></p><h4 id="æ¨å¹¿è‡³åŒæ„ä¸ç­‰ä»·å…³ç³»up-to-isomorphism-and-equivalence">æ¨å¹¿è‡³åŒæ„ä¸ç­‰ä»·å…³ç³»ï¼ˆUp to Isomorphism and Equivalenceï¼‰</h4><p>Thin èŒƒç•´ä¸é¢„åºä»¥åŠååºé›†åˆçš„å…³ç³»ä¸Šé¢å·²ç»æœ‰äº†ä¸ªå¤§è‡´çš„æè¿°äº†ï¼Œæ€»æ‹¬è€Œè¨€åªè¦æˆ‘ä»¬å°† Thin èŒƒç•´æ¨å¹¿è‡³ç­‰ä»·å…³ç³»ï¼Œäº¦å³æ€å°„æ˜¯å¹¶è¡Œä¸”ç›¸ç­‰çš„ï¼Œé‚£ä¹ˆå®ƒä»¬å°±æ˜¯é¢„åºäº†ã€‚è€Œååºå…³ç³»ä¸Šé¢ä¹Ÿå·²ç»æåŠåˆ°äº†ï¼Œå¯¹äºä¸€ä¸ªæ€å°„å¯ä»¥é€†è½¬å›å»ï¼Œé‚£ä¹ˆè¿™å°±å˜æˆä¸€ä¸ªååºå…³ç³»äº†ã€‚</p><h2 id="ç¾¤group">ç¾¤ï¼ˆGroupï¼‰</h2><h3 id="æ¦‚å¿µ-1">æ¦‚å¿µ</h3><p>ç¾¤è¿™ä¸ªæ¦‚å¿µæœ¬èº«æ˜¯åœ¨ç¾¤è®ºï¼ˆGroup Theoryï¼‰ä¸­å‡ºç°çš„ï¼Œå®ƒä»¥é›†åˆè®ºä¸ºåŸºç¡€ï¼Œå³ç¾¤æœ¬èº«å­˜åœ¨ä¸€ä¸ªé›†åˆï¼Œä¸”ç”±ä¸€ä¸ªäºŒå…ƒå…³ç³»æ‰€ç»„æˆçš„ä»£æ•°ç»“æ„ï¼Œå…¶å¿…é¡»æ»¡è¶³æ‰€è°“çš„ â€œç¾¤å…¬ç†â€ï¼Œå³åŒ…å«äº†å°é—­æ€§ã€ç»“åˆå¾‹ã€å•ä½å…ƒä»¥åŠé€†å…ƒè¿™å››ç§æ€§è´¨ã€‚</p><p>å®é™…ä¸Šç¾¤ä¸æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­æœ‰ç€å¾ˆç´§å¯†çš„è”ç³»ï¼Œå°±å¦‚åŒæ—¥å¸¸éƒ½å¯èƒ½ç”¨åˆ°çš„åŠ æ³•èˆ¬ï¼Œæˆ‘ä»¬æŠŠä¸¤ä¸ªæ­£æ•´æ•°ç›¸åŠ ï¼Œé€è¿‡æ­£æ•´æ•°é›†åˆä¸ <span class="math inline">\(+\)</span> æˆ‘ä»¬å¯æ„æˆä¸€ä¸ªåŠ æ³•ç¾¤ï¼Œè®°ä¸º <span class="math inline">\(G(\mathbb Z{+}, +)\)</span>ï¼Œå…¶æ»¡è¶³äº†ç¾¤å…¬ç†ï¼š - å°é—­æ€§ï¼š<span class="math inline">\(\forall a, b \in G\)</span>ï¼Œå…¶è¿ç®—ç»“æœä¹Ÿè½å…¥ <span class="math inline">\(G\)</span> ä¸­ - ç»“åˆå¾‹ï¼š<span class="math inline">\(\forall a, b, c \in G, (a Â· b) Â· c = a Â· (b Â· c)\)</span> - å•ä½å…ƒï¼š<span class="math inline">\(\forall a, \exists e \in G, e Â· a = a Â· e = a\)</span> - é€†å…ƒï¼š<span class="math inline">\(\forall a, \exists b, e \in G, a Â· b = b Â· a = e\)</span></p><p>ç”±äºç¾¤è®ºå¹¶ä¸æ˜¯æˆ‘ä»¬ä¸»è¦çš„è®¨è®ºå¯¹è±¡ï¼Œå› æ­¤è¿™éƒ¨åˆ†å¹¶ä¸ä¼šä¸¾å‡ºå¾ˆå¤šçš„ä¾‹å­ï¼Œè€Œåœ¨è¿™ä»…ä¼šè®¨è®ºå¹ºåŠç¾¤çš„å‰ç½®çŸ¥è¯†ã€‚</p><h3 id="åŠç¾¤semi-group">åŠç¾¤ï¼ˆSemi-groupï¼‰</h3><p>æœ‰æ—¶å€™ç¾¤å…¬ç†åœ¨æŠŠå…³ç³»è¿›ä¸€æ­¥æ¨å¹¿å‡ºå»çš„æ—¶å€™ï¼Œæœªå¿…è¦åŠ å…¥é¢å¤–çš„ä¸€äº›è§„åˆ™ï¼Œåè€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¾æ¾ä¸€äº›æ¡ä»¶æ¥æ„æˆä¸€ä¸ªæ–°çš„ä»£æ•°ç»“æ„ã€‚æ¯”æ–¹è¯´æˆ‘ä»¬å¯ä»¥æŠŠä¸€èˆ¬ç¾¤å…¬ç†çš„å•ä½å…ƒä¸é€†å…ƒç»™æ‹¿æ‰ï¼Œå‰©ä¸‹å°é—­æ€§ï¼Œç»“åˆå¾‹è¿™ä¸¤æ¡å…¬ç†ï¼Œéšä¹‹è¢«ç§°ä¸ºåŠç¾¤ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚</p><h3 id="å¹ºåŠç¾¤monoid">å¹ºåŠç¾¤ï¼ˆMonoidï¼‰</h3><p>å½“ç„¶åœ°ï¼Œä»æŠ½è±¡ä»£æ•°æ¥è®²åŠç¾¤ä¹Ÿå¯ä»¥å†æ¬¡è¢«æ¨å¹¿æˆå¹ºåŠç¾¤ï¼Œæ‰€è°“çš„ â€œä¹ˆâ€ æŒ‡çš„å…¶å®å°±æ˜¯ â€œå•ä½å…ƒï¼ˆä¹ˆå…ƒï¼ŒIdentity elementï¼‰â€ çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯åªéœ€è¦å¯¹åŠç¾¤ç»™è¡¥ä¸Šå•ä½å…ƒçš„è§„åˆ™å°±å¯ä»¥äº†ã€‚</p><p>å¯¹äºèŒƒç•´ <span class="math inline">\(C\)</span> å†…çš„å¯¹è±¡ <span class="math inline">\(x\)</span>ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å­˜åœ¨å•ä½å…ƒæ€å°„ <span class="math inline">\(id_f\)</span>ï¼Œä½†è¿™ç§å•ä½å…ƒæ€å°„éš¾é“å°±åªèƒ½å­˜åœ¨ä¸€ä¸ªäº†å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥æœ‰å¤šä¸ªå•ä½å…ƒæ€å°„ï¼Œä¾‹å¦‚ <span class="math inline">\(id_f, id_g, id_h, ... \in hom(x, x)\)</span>ï¼Œå°†å®ƒä»¬é€è¿‡æ€å°„å¤åˆå°†ä¼šäº¦å°†å¾—åˆ°ï¼š <span class="math display">\[x \circ id_f = x \\\\ x \circ id_f \circ id_g = x \\\\x \circ id_f \circ id_g \circ id_h = x \\\\x \circ id_f \circ id_g \circ id_h \circ ... = x\]</span></p><p>å³å…¶å®å•ä½å…ƒæ€å°„å¯å­˜åœ¨æ— ç©·å¤šä¸ªçš„ï¼Œè€Œå¯¹äºè¿™ç§ä¸€ç›´éƒ½å­˜åœ¨å¤šä¸ªå•ä½å…ƒæ€å°„ä¸”æ€å°„è‡³è‡ªèº«çš„ç»“æ„ï¼ˆå°é—­ç»“æ„ï¼‰æˆ‘ä»¬å°±ç§°ä¹‹ä¸ºå¹ºåŠç¾¤ã€‚</p><p>è€Œå¹ºåŠç¾¤å®é™…ä¸Šå¯¹äºè®¡ç®—æœºç¼–ç¨‹æ¥è¯´ä¹Ÿæ˜¯è‡³å…³é‡è¦çš„æ¦‚å¿µï¼Œæ¯”æ–¹è¯´æˆ‘ä»¬æ—¥å¸¸èƒ½æ¥è§¦åˆ°çš„ <code>String</code>ï¼Œå³å­—ç¬¦ä¸²ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå¹ºåŠç¾¤çš„ç»“æ„ï¼Œè¿™æ—¶å¯ä»¥æŠŠç¼–ç¨‹è¯­è¨€çš„ç±»å‹è§†ä¸ºé›†åˆï¼Œä¾‹å¦‚ï¼š - å°é—­æ€§ï¼š<code>"foo" &lt;&gt; "bar" = "foobar"</code> åœ¨è¿ç®—åçš„ç»“æœéƒ½æ˜¯ <code>String</code> ç±»å‹ - ç»“åˆå¾‹ï¼š<code>("foo" &lt;&gt; "bar") &lt;&gt; "foo" = "foo" &lt;&gt; ("bar" &lt;&gt; "foo") = "foobarfoo"</code> - å•ä½å…ƒï¼š<code>"" &lt;&gt; "any" = "any" &lt;&gt; "" = "any"</code></p><h4 id="åœ¨-haskell-ä¸Šçš„ä½“ç°works-with-haskell">åœ¨ Haskell ä¸Šçš„ä½“ç°ï¼ˆWorks with Haskellï¼‰</h4><h5 id="å®šä¹‰">å®šä¹‰</h5><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åœ¨ Haskell ä¸Š <code>Data.Monoid</code> ä¸‹çš„çš„æºç å®šä¹‰ç©¶ç«Ÿæ˜¯æ€æ ·çš„ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Semigroup a =&gt; Monoid a where</span><br><span class="line">    -- | Identity of &apos;mappend&apos;</span><br><span class="line">    -- | ä»¥ &apos;mappend&apos; ä½œä¸ºäºŒå…ƒå…³ç³»æ—¶ï¼Œä»¥ &apos;mempty&apos; ä½œä¸ºå•ä½å…ƒ</span><br><span class="line">    mempty  :: a</span><br><span class="line"></span><br><span class="line">    -- | An associative operation</span><br><span class="line">    -- | ç»“åˆå¾‹å…¬ç†</span><br><span class="line">    --</span><br><span class="line">    -- __NOTE__: This method is redundant and has the default</span><br><span class="line">    -- implementation @&apos;mappend&apos; = &apos;(&lt;&gt;)&apos;@ since /base-4.11.0.0/.</span><br><span class="line">    mappend :: a -&gt; a -&gt; a</span><br><span class="line">    mappend = (&lt;&gt;)</span><br><span class="line">    &#123;-# INLINE mappend #-&#125;</span><br><span class="line"></span><br><span class="line">    -- | Fold a list using the monoid.</span><br><span class="line">    -- | ä½¿ç”¨å¹ºåŠç¾¤æŠ˜å ä¸€ä¸ª List</span><br><span class="line">    --</span><br><span class="line">    -- For most types, the default definition for &apos;mconcat&apos; will be</span><br><span class="line">    -- used, but the function is included in the class definition so</span><br><span class="line">    -- that an optimized version can be provided for specific types.</span><br><span class="line">    mconcat :: [a] -&gt; a</span><br><span class="line">    mconcat = foldr mappend mempty</span><br></pre></td></tr></table></figure></p><h5 id="åº”ç”¨">åº”ç”¨</h5><p>é™¤äº†ä¸Šè¿°æåŠåˆ°å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨å¹ºåŠç¾¤çš„å®šå¾‹å¯¹å…¶è¿›è¡Œä¸€äº›æ“ä½œï¼Œä¾‹å¦‚è¯´ä½¿ç”¨ <code>mappend</code> (æˆ– <code>&lt;&gt;</code>ï¼‰æ‹¼æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œåˆæˆ–è€…è¯´å¯ä»¥ä½¿ç”¨ <code>mconcat</code> æŠŠä¸€ä¸ªå¹ºåŠç¾¤ç»“æ„ç»™æŠ˜å èµ·æ¥ï¼Œä¾‹å¦‚ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Prelude&gt; mconcat [[1],[2],[3],[4]]</span><br><span class="line">[1,2,3,4]</span><br></pre></td></tr></table></figure></p><h2 id="kleisli-èŒƒç•´kleisli-category">Kleisli èŒƒç•´ï¼ˆKleisli Categoryï¼‰</h2><p>å¾…å¡«å‘...</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆä¸Šä¸¤ç¯‡èŒƒç•´è®ºç¬”è®°å¤§å¤šæ•°éƒ½æ˜¯é’ˆå¯¹èŒƒç•´ä¸å‡½æ•°çš„å…³ç³»ï¼Œéš¾é“å…¶ä»–å…³ç³»ä¸èƒ½æŠ½è±¡æˆä¸€ä¸ªèŒƒç•´å—ï¼Ÿè¿™ä¸ªç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ï¼Œå‰ä¸¤ç¯‡æ˜¯å€ŸåŠ©äº†å‡½æ•°çš„æ¦‚å¿µä»¥æ›´å¥½åœ°ç†è§£å¤åˆæˆ–åŒæ€ç©¶ç«Ÿæ˜¯äº›ä»€ä¹ˆä¸œè¥¿ï¼Œå› æ­¤è€Œä»æœ¬ç¯‡å¼€å§‹ï¼Œæˆ‘ä»¬æ¥è¯´ä¸€äº›ä¸å‡½æ•°å…³ç³»ä¸å¤§çš„ä¸€äº›çŸ¥è¯†å§ï¼&lt;
      
    
    </summary>
    
    
      <category term="èŒƒç•´è®º" scheme="https://a9032676.github.io/tags/%E8%8C%83%E7%95%B4%E8%AE%BA/"/>
    
      <category term="å‡½æ•°å¼ç¼–ç¨‹" scheme="https://a9032676.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>æ˜Ÿé™…èœ—ç‰›æŠ˜è…¾è®° ç¬¬ä¸‰ç« ï¼šéƒ¨ç½² Docker</title>
    <link href="https://a9032676.github.io/2019/08/09/J1900-Tossing-3/"/>
    <id>https://a9032676.github.io/2019/08/09/J1900-Tossing-3/</id>
    <published>2019-08-09T08:33:25.000Z</published>
    <updated>2019-08-11T10:51:14.928Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æŠ˜è…¾å®Œ RAID ä¹‹åï¼Œä¸ºäº†è®©ä½œä¸º NAS çš„ ArchLinux å‘æŒ¥å¯ç”¨ä½œåº”ç”¨æœåŠ¡å™¨çš„ä½œç”¨ï¼Œæ‰€ä»¥ä»Šå¤©åˆ™è¦å¼€å§‹å¼„ Docker äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ç›´æ¥å¼€å§‹å§ï¼</p><h2 id="ç®€ä»‹">ç®€ä»‹</h2><h2 id="å®‰è£…-docker">å®‰è£… Docker</h2><p>å®‰è£… Docker çš„é€”å¾„æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯é€è¿‡ pacman ç›´æ¥å®‰è£… docker å®˜æ–¹åŒ…ï¼Œè€Œå¦ä¸€ç§åˆ™æ˜¯é€è¿‡ <a href="https://wiki.archlinux.org/index.php/Arch_User_Repository" target="_blank" rel="noopener">Arch ç”¨æˆ·è½¯ä»¶ä»“åº“</a>ï¼ˆArch User Repositoryï¼ŒAURï¼‰ç¬¬ä¸‰æ–¹ç”¨æˆ·ä»“åº“ä¸­ç”Ÿæˆå¹¶å®‰è£…å¼€å‘ç‰ˆæœ¬ <a href="https://aur.archlinux.org/packages/docker-git/" target="_blank" rel="noopener">docker-git</a>ï¼Œä¸‹é¢ä½¿ç”¨ pacman æ¼”ç¤ºå®‰è£…æµç¨‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S docker</span><br><span class="line"># systemctl start docker</span><br><span class="line"># systemctl enable docker</span><br><span class="line"># docker info</span><br></pre></td></tr></table></figure><ol type="1"><li>ä½¿ç”¨ <code>pacman -S docker</code> ä¸‹è½½å¹¶å®‰è£… docker</li><li>ä½¿ç”¨ <code>systemctl start docker</code> ä¸ <code>systemctl enable docker</code> ä½¿ docker æœåŠ¡å¯åŠ¨ä¸å¼€æœºè‡ªå¯ã€‚</li><li>ä½¿ç”¨ <code>docker info</code> æŸ¥è¯¢ docker å½“å‰è¿è¡ŒçŠ¶æ€ï¼Œç¡®ä¿ docker é¡ºåˆ©å®‰è£…å¹¶å¯åŠ¨ã€‚</li></ol><h2 id="é…ç½®-docker">é…ç½® Docker</h2><h3 id="ä¸ºç”¨æˆ·æ·»åŠ ä½¿ç”¨-docker-å‘½ä»¤æƒé™">ä¸ºç”¨æˆ·æ·»åŠ ä½¿ç”¨ docker å‘½ä»¤æƒé™</h3><p>ä¸ºäº†è®©é root ç”¨æˆ·èƒ½æ­£å¸¸ä½¿ç”¨ docker å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æŠŠç›®æ ‡ç”¨æˆ·æ·»åŠ åˆ° <code>docker</code> ç»„å†…ï¼ˆå¦‚æœç»„åˆ«ä¸å­˜åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>groupadd docker</code> åˆ›å»ºï¼‰ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># usermod -a -G docker a9032676</span><br></pre></td></tr></table></figure></p><p>å¹¶ä¸”ç™»å‡ºè´¦å·é‡æ–°ç™»é™†ï¼Œè¾“å…¥ <code>docker</code> ç¡®è®¤æ˜¯å¦å·²æ‹¥æœ‰æƒé™ä½¿ç”¨ã€‚</p><h3 id="é…ç½®-daemon.json-æ–‡ä»¶">é…ç½® daemon.json æ–‡ä»¶</h3><p>daemon.json æ–‡ä»¶æ˜¯ docker å®ˆæŠ¤è¿›ç¨‹çš„è¿è¡Œé…ç½®</p><h4 id="åˆ›å»ºæ–‡ä»¶">åˆ›å»ºæ–‡ä»¶</h4><p>é¦–å…ˆä½¿ç”¨ nano / vim ä¹‹ç±»æ–‡æœ¬ç¼–è¾‘å™¨åˆ›å»ºæ–‡ä»¶ <code>/etc/docker/daemon.json</code>ã€‚</p><h4 id="é•œåƒåŠ é€ŸæœåŠ¡">é•œåƒåŠ é€ŸæœåŠ¡</h4><p>é¦–å…ˆé‰´äºåœ°åŒºç½‘ç»œè´¨é‡å·®å¼‚é—®é¢˜ï¼Œåœ¨è¿œç¨‹ä½¿ç”¨ <code>docker pull</code> æ‹‰å–é•œåƒçš„æ—¶å€™å¯èƒ½ä¼šè¾ƒæ…¢ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§åœ°é…ç½® docker çš„é•œåƒæœåŠ¡å™¨åŠ é€Ÿä¸‹è½½ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [</span><br><span class="line">&quot;https://registry.docker-cn.com&quot;,</span><br><span class="line">&quot;https://dockerhub.azk8s.cn&quot;,</span><br><span class="line">&quot;https://docker.mirrors.ustc.edu.cn&quot;,</span><br><span class="line">&quot;https://hub-mirror.c.163.com&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>é‡å¯ docker ä½¿é…ç½®ç”Ÿæ•ˆï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl restart docker</span><br></pre></td></tr></table></figure></p><h3 id="è¿ç§»æœ¬åœ°é•œåƒç›®å½•">è¿ç§»æœ¬åœ°é•œåƒç›®å½•</h3><p>åœ¨å®‰è£…å®Œæˆä¹‹åé»˜è®¤çš„é•œåƒå­˜æ”¾ä½ç½®æ˜¯ä½äº <code>/var/lib/docker</code> ç›®å½•ä¸‹æ–¹çš„ï¼Œè€Œæˆ‘ä»¬éœ€è¦é€è¿‡æ·»åŠ  <code>systemd</code> çš„é…ç½®ä»¥æ›´æ”¹ docker çš„é•œåƒå‚¨å­˜ä½ç½®ï¼š</p><p>é¦–å…ˆä½¿ç”¨ <code>mkdir</code> æ–°å¢ <code>docker.service.d</code> ç›®å½•ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir /etc/systemd/system/docker.service.d/</span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨ç›®å½•ä¸‹æ–°å»º <code>docker-storage.conf</code> æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä¸‹åˆ—å†…å®¹ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">ExecStart= </span><br><span class="line">ExecStart=/usr/bin/dockerd --data-root=/path/to/new/location/docker -H fd://</span><br></pre></td></tr></table></figure></p><p>æŠŠ <code>--data-root</code> é€‰é¡¹æ›´æ”¹æˆä½ ç›®æ ‡çš„ç›®å½•å¹¶ä¿å­˜å³å¯ï¼Œå†å°† <code>/var/lib/docker</code> å†…çš„å†…å®¹å¤åˆ¶åˆ°ä½ çš„ç›®å½•ä¸Šã€‚</p><p>å®Œæˆä¹‹åæˆ‘ä»¬éœ€è¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡å¯ä¸‹ <code>docker.service</code> æœåŠ¡ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure></p><p>æœ€åå¯ä½¿ç”¨ <code>systemctl status docker</code> æŸ¥è¯¢æœåŠ¡æ˜¯å¦æˆåŠŸå¯åŠ¨ã€‚</p><h2 id="ç›¸å…³åº”ç”¨æ¨è">ç›¸å…³åº”ç”¨æ¨è</h2><h3 id="portainer">Portainer</h3><h4 id="ç®€ä»‹-1">ç®€ä»‹</h4><p>ç”±äº docker æ—¥å¸¸éƒ½éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œç®¡ç†å„ç§å®¹å™¨ / é•œåƒä¸ç½‘ç»œè®¾ç½®ç­‰ç­‰è¿™äº›ä¸œè¥¿ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªæ–¹æ³•èƒ½å¤Ÿå¯è§†åŒ–åœ°ç¼–è¾‘åŠéƒ¨ç½²å®¹å™¨å‘¢ï¼Ÿé‚£å½“ç„¶æ˜¯æœ‰çš„ï¼Œç­”æ¡ˆå°±æ˜¯ <a href="https://www.portainer.io/" target="_blank" rel="noopener">Portainer</a> å•¦ï¼</p><h4 id="ä»“åº“åœ°å€">ä»“åº“åœ°å€</h4><p><a href="https://hub.docker.com/r/portainer/portainer" target="_blank" rel="noopener">portainer/portainer</a></p><h4 id="éƒ¨ç½²å®¹å™¨">éƒ¨ç½²å®¹å™¨</h4><p>è¿™é‡Œä»…æ¼”ç¤º Linux å¹³å°çš„å®‰è£…ä¸æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå·ï¼Œå¹¶å‘½åä¸º <code>portainer</code> å³å¯ã€‚å¦å¤–å®¹å™¨æœ¬èº«éœ€è¦ä¸¤ä¸ªç«¯å£è¿ä½œï¼Œå› æ­¤éœ€è¦æŠŠä»»æ„ä¸¤ä¸ªå¤–éƒ¨ç«¯å£æ˜ å°„æˆ <code>8000</code> ä¸ <code>9000</code> å³å¯ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># docker volume create portainer_data</span><br><span class="line"># docker run -d -p 8000:8000 -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer</span><br></pre></td></tr></table></figure></p><p>åœ¨æ­£å¼è·‘èµ·æ¥ä¹‹åè¿›å…¥ç½‘é¡µåå° <code>http://[your_address]:9000</code> åˆ›å»ºæ–°è´¦å·å¹¶ç™»é™†å³å¯ã€‚</p><h3 id="samba">Samba</h3><h4 id="ç®€ä»‹-2">ç®€ä»‹</h4><p>Samba æä¾›äº†å®‰å…¨ï¼Œå¯é ä¸”å¿«é€Ÿçš„æ–‡ä»¶å…±äº«ç³»ç»Ÿï¼Œä¸”é€è¿‡ SMB / CIFS åè®®ä¼ è¾“æ•°æ®ï¼Œå¹¶ä¸”å®Œå…¨å…¼å®¹ DOS ä¸ Windowsï¼ŒOS/2ï¼ŒLinux ä¸å…¶ä»–æ›´å¤šçš„ç³»ç»Ÿã€‚</p><h4 id="ä»“åº“åœ°å€-1">ä»“åº“åœ°å€</h4><p><a href="https://hub.docker.com/r/dperson/samba" target="_blank" rel="noopener">dperson/samba</a></p><h4 id="éƒ¨ç½²å®¹å™¨-1">éƒ¨ç½²å®¹å™¨</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># docker run -it --name samba -p 139:139 -p 445:445 \</span><br><span class="line">  -v /path/to/directory:/mount \</span><br><span class="line">  -d dperson/samba</span><br></pre></td></tr></table></figure><h3 id="ariang">AriaNg</h3><h4 id="ç®€ä»‹-3">ç®€ä»‹</h4><p>å¾ˆå¥½ç”¨å¾ˆæ–¹ä¾¿çš„ä¸€ä¸ª Aria2 ä¸‹è½½å·¥å…·ï¼Œè‡ªå¸¦ç½‘é¡µå¯è§†åŒ–ç®¡ç†ä¸”å®Œå…¨å…¼å®¹ Linux / ç¾¤æ™– / FreeNAS ç­‰ç³»ç»Ÿã€‚</p><h4 id="ä»“åº“åœ°å€-2">ä»“åº“åœ°å€</h4><p><a href="https://hub.docker.com/r/auska/docker-aria2" target="_blank" rel="noopener">auska/docker-aria2</a></p><h4 id="åˆ›å»ºå®¹å™¨">åˆ›å»ºå®¹å™¨</h4><p>ç”±äºéœ€è¦å¡«å†™çš„å˜é‡ä»¥åŠé€‰é¡¹è¾ƒå¤šï¼Œæ¨èç›´æ¥äº Portainer å†…ç›´æ¥ä¸‹è½½å¹¶æ–°å»ºå®¹å™¨ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿåªè®²è¿°ä¸‹å‘½ä»¤è¡Œå¯åŠ¨çš„æ–¹æ³•ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># docker create --name=aria2_web \</span><br><span class="line">  -v /home/a9032676/downloads:/mnt \</span><br><span class="line">  -v /home/a9032676/.aria2_conf:/config \</span><br><span class="line">  -e PGID=1000 -e PUID=1000 -e SECRET=PASSWORD \</span><br><span class="line">  -p 6800:6800 -p 80:80 \</span><br><span class="line">  auska/docker-aria2</span><br></pre></td></tr></table></figure></p><p>å‚æ•°è¯´æ˜ï¼š - <code>--name=&lt;CONTAINER_NAME&gt;</code> è®¾ç½®å®¹å™¨åå­—ã€‚ - <code>-v &lt;DOWN_PATH&gt;:/mnt</code> æŠŠå®¹å™¨å†…çš„ <code>/mntï¼ˆé»˜è®¤ä¸‹è½½å­˜æ”¾ä½ç½®ï¼‰</code> ç›®å½•æ˜ å°„åˆ°å·ä¸Šï¼Œæˆ–å¯é€‰æ‹©åœ¨å®¿ä¸»æœºï¼ˆHostï¼‰ä¸ŠæŒ‡å®šçš„ç›®å½•æŒ‚è½½ã€‚ - <code>-v &lt;CONF_PATH&gt;:/config</code> åŒä¸Šï¼Œåªä¸è¿‡è¿™ä¸ªæ˜¯é…ç½®æ–‡ä»¶ç›®å½•ã€‚ - <code>-e PGID=1000 -e PUID=1000 -e SECRET=&lt;PASSWORD&gt;</code> è¿™é‡ŒæŒ‡å®šä¸‰ä¸ªç¯å¢ƒå˜é‡ï¼ˆEnvironmentï¼‰å‚æ•°ï¼Œç¬¬ä¸€äºŒä¸ªå‚æ•°è¯·ä½¿ç”¨ <code>id USER</code> å‘½ä»¤è·å–ï¼Œè€Œç¬¬ä¸‰ä¸ªä¸ºä½ çš„ RPC æœåŠ¡å™¨å¯†é’¥ï¼Œè¯·è‡ªè¡Œæ›´æ”¹ã€‚ - <code>-p &lt;HOST_PORT&gt;:6800 -p &lt;HOST_PORT&gt;:80</code> ç”±äºè¯¥å®¹å™¨éœ€è¦ä¸¤ä¸ªç«¯å£ï¼Œ<code>6800</code> ä¸º RPC æœåŠ¡ç›‘å¬ç«¯å£ï¼Œè€Œ <code>80</code> åˆ™ä¸º Aria2 ç½‘é¡µä¸‹è½½ç®¡ç†ç«¯å£ï¼Œè¯·æŒ‰ç…§è‡ªå·±å®¿ä¸»æœºçš„ç«¯å£è¿›è¡Œæ˜ å°„ã€‚</p><h3 id="transmission">Transmission</h3><p>ç›¸ä¿¡ä½¿ç”¨è¿‡ Transmission ä¸‹è½½ BT æ–‡ä»¶çš„å¯¹å®ƒéƒ½ä¸é™Œç”Ÿï¼Œå®ƒçš„é…ç½®ç®€æ´ï¼Œè€Œä¸”ä¸‹è½½é«˜æ•ˆï¼Œä¸”å¼€æºçš„æ€§è´¨ï¼Œç›¸ä¿¡ä¹Ÿå¸å¼•äº†å¾ˆå¤šäººä½¿ç”¨ã€‚è€Œåœ¨ docker ä¸Šä¹Ÿæœ‰ç›¸å…³çš„ç¬¬ä¸‰æ–¹å®ç°ã€‚</p><h4 id="ä»“åº“åœ°å€-3">ä»“åº“åœ°å€</h4><p><a href="https://hub.docker.com/r/linuxserver/transmission/" target="_blank" rel="noopener">linuxserver/transmission</a></p><h4 id="åˆ›å»ºå®¹å™¨-1">åˆ›å»ºå®¹å™¨</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># docker create \</span><br><span class="line">  --name=transmission \</span><br><span class="line">  -e PUID=1000 \</span><br><span class="line">  -e PGID=1000 \</span><br><span class="line">  -e TZ=Asia/HongKong \</span><br><span class="line">  -e TRANSMISSION_WEB_HOME=/combustion-release/ `#optional` \</span><br><span class="line">  -p 9091:9091 \</span><br><span class="line">  -p 51413:51413 \</span><br><span class="line">  -p 51413:51413/udp \</span><br><span class="line">  -v path to data:/config \</span><br><span class="line">  -v path to downloads:/downloads \</span><br><span class="line">  -v path to watch folder:/watch \</span><br><span class="line">  --restart unless-stopped \</span><br><span class="line">  linuxserver/transmission</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š - <code>-e PGID=1000 -e PUID=1000</code> è¯·ä½¿ç”¨ <code>id USER</code> å‘½ä»¤è·å– PGID ä¸ PUIDã€‚ - <code>-e TZ=Asia/HongKong</code> æ—¶åŒºè®¾ç½®ã€‚ - <code>-e TRANSMISSION_WEB_HOME=/combustion-release/</code> æŒ‡å®š WebUI çš„ç›®å½•ä½ç½®ï¼ˆå¯é€‰ï¼‰ã€‚ - <code>-p 9091:9091</code> ä¸ºä½ çš„ Transmission ä¸‹è½½ç½‘é¡µç«¯å£ - <code>-p 51413:51413 -p 51413:51413/udp</code> ä¸º Torrent çš„ TCP ä¸ UDP ç«¯å£ - <code>-v path to data:/config</code> ä¸ºé…ç½®ç›®å½• - <code>-v path to downloads:/downloads</code> ä¸ºä¸‹è½½ç›®å½• - <code>-v path to watch folder:/watch</code> Torrent æ–‡ä»¶çš„ watch ç›®å½•</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨æŠ˜è…¾å®Œ RAID ä¹‹åï¼Œä¸ºäº†è®©ä½œä¸º NAS çš„ ArchLinux å‘æŒ¥å¯ç”¨ä½œåº”ç”¨æœåŠ¡å™¨çš„ä½œç”¨ï¼Œæ‰€ä»¥ä»Šå¤©åˆ™è¦å¼€å§‹å¼„ Docker äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ç›´æ¥å¼€å§‹å§ï¼&lt;/p&gt;
&lt;h2 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;h2 id=&quot;å®‰è£…-docker&quot;&gt;å®‰è£… Docker&lt;/h2&gt;
      
    
    </summary>
    
    
      <category term="ArchLinux" scheme="https://a9032676.github.io/tags/archlinux/"/>
    
      <category term="NAS" scheme="https://a9032676.github.io/tags/nas/"/>
    
      <category term="Docker" scheme="https://a9032676.github.io/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>æ˜Ÿé™…èœ—ç‰›æŠ˜è…¾è®° ç¬¬äºŒç« ï¼šç»„è£… RAID</title>
    <link href="https://a9032676.github.io/2019/08/09/J1900-Tossing-2/"/>
    <id>https://a9032676.github.io/2019/08/09/J1900-Tossing-2/</id>
    <published>2019-08-09T01:39:53.000Z</published>
    <updated>2021-03-01T00:08:28.865Z</updated>
    
    <content type="html"><![CDATA[<p>ç»å†æ˜¨å¤©ä¸€å¤©çš„å¥‹æˆ˜ï¼Œåœ¨ä¸€è¾¹è£…çš„åŒæ—¶ä¹ŸæŠŠä¸Šä¸€ç« æ–‡ç« å†™å¥½äº†ã€‚ä»Šå¤©çš„è¯ç»§ç»­ä¸ºå¤§å®¶å¸¦æ¥å¦‚ä½•åœ¨çº¯å‘½ä»¤è¡Œç¯å¢ƒä¸‹ç»§ç»­æŠ˜è…¾æˆ‘ä»¬çš„æ˜Ÿé™…èœ—ç‰›å¹¶ä¸ºç¡¬ç›˜ä»¬ç»„è£…ä¸Šå†—ä½™ç£ç›˜é˜µåˆ—ï¼ˆRedundant Array of Independent Disksï¼Œåˆç§° RAIDï¼‰ã€‚</p><h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>è¿˜æ˜¯ç»ç”±æœ‹å‹çš„æ¨ä»‹ï¼Œæˆ‘ä»æŸå®åº—å®¶ä¸­ä»¥ 400 å—å•ä¸ªçš„ä»·æ ¼ææ¥äº†ä¸¤å— HGSTï¼ˆåŸæ—¥ç«‹ï¼Œæ®è¯´æ¯”è¾ƒé è°±ï¼Œå°±æ•°å­—æ¥è®²çš„è¯ç¿»è½¦ç‡ç›¸è¾ƒå…¶ä»–å“ç‰Œä¾æ—§æœ€ä½ï¼‰ çš„ 4T ç›‘æ§ç›˜ï¼ˆé SMR å ç“¦å¼ï¼Œè¿™çµè½¦æˆ‘è¿˜çœŸä¸æ•¢ä¸Šï¼‰ï¼Œè€Œå¹´äº§æ—¥æœŸæœ‰ç‚¹ä¹…è¿œï¼Œæ˜¯ 2014 å¹´çš„ï¼Œç–‘ä¼¼ç¿»æ–°ç›˜ï¼Œå› æ­¤ä¹°å›æ¥ä¹‹åä¹Ÿè·‘å®Œäº†å¯¹ç¡¬ç›˜çš„å„é¡¹æ£€æµ‹ï¼Œç¡®ä¿è´¨é‡æ²¡é—®é¢˜å¹¶å¯¹è¿™ä¸¤å—ç¡¬ç›˜ç»„ä¸Š è½¯ä»¶RAID1ï¼ˆè¾ƒä¸ºæ³¨é‡æ•°æ®å®‰å…¨æ€§ï¼Œä½†å‚¨å­˜å®¹é‡åªæœ‰ä¸€åŠï¼‰ï¼Œç¡¬ä»¶ RAID éœ€è¦å¦è¡Œè´­ç½® RAID å¡ã€‚</p><h2 id="ç¡¬ç›˜ä¿¡æ¯">ç¡¬ç›˜ä¿¡æ¯</h2><ul><li>å‹å·: HGST HMS5C4040BLE640</li><li>å®¹é‡: 4TBï¼ˆæ ¼å¼åŒ–åå¤§çº¦ 3.6TB å·¦å³ï¼‰</li><li>ç±»å‹ï¼šç›‘æ§ç›˜ï¼ˆè¿ç»­å†™å…¥è¾ƒå¥½ï¼Œéšå³è¯»å–æ€§èƒ½è¾ƒå·®ï¼‰</li></ul><p>è¯¦ç»†æ•°æ®è¯·ç‚¹<a href="https://documents.westerndigital.com/content/dam/doc-library/en_us/assets/public/western-digital/product/hgst/megascale-4000-series/data-sheet-megascale-dc-4000-b.pdf" target="_blank" rel="noopener">è¿™é‡Œ</a>æŸ¥è¯¢ã€‚</p><h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2><h3 id="å¤‡ä»½">å¤‡ä»½</h3><p>å¦‚æœç¡¬ç›˜ä¹‹å‰å­˜æ”¾æœ‰é‡è¦æ•°æ®ï¼Œåˆ‡è®°åˆ‡è®°è¦å…ˆå¤‡ä»½ï¼Œè¿™ä¸ªå¾ˆå…³é”®ã€‚</p><h3 id="æ£€æµ‹ç¡¬ç›˜">æ£€æµ‹ç¡¬ç›˜</h3><p>åœ¨ç»„è£…å‰è¯·æ£€æµ‹ç¡¬ç›˜æ˜¯å¦å­˜åœ¨æŸåï¼Œåé“ï¼Œä»¥åŠå¯¹å…¶è¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Œç¡®è®¤æ²¡æœ‰é—®é¢˜ä¹‹åå†å¼€å§‹ç»„è£…ã€‚</p><h2 id="ç»„è£…-raid">ç»„è£… RAID</h2><h3 id="æ“¦é™¤ç¡¬ç›˜æ•°æ®">æ“¦é™¤ç¡¬ç›˜æ•°æ®</h3><p>è‹¥æœåœ¨ç»„è£…æ— è®ºæ˜¯æ–°æ—§ç£ç›˜éƒ½å¿…é¡»å…ˆæ ¼å¼åŒ–ï¼Œå†è¿›è¡Œç»„è£…ã€‚è€Œå¦‚æœæœ¬èº«ç¡¬ç›˜å·²åœ¨ä¹‹å‰ç»„è£…äº† RAID çš„è¯ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤å°†ç¡¬ç›˜å†…æ•°æ®ï¼ˆåŒ…æ‹¬ RAID é…ç½®æ•°æ®ï¼‰æ“¦é™¤æ‰ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mdadm --misc --zero-superblock /dev/&lt;drive&gt;</span><br></pre></td></tr></table></figure></p><p>æˆ–è€…æŒ‡å®šç¡¬ç›˜ä¸Šçš„å…¶ä¸­ä¸€ä¸ªåˆ†åŒºï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mdadm --misc --zero-superblock /dev/&lt;partition&gt;</span><br></pre></td></tr></table></figure></p><h3 id="ä¸ºç¡¬ç›˜å»ºç«‹åˆ†åŒº">ä¸ºç¡¬ç›˜å»ºç«‹åˆ†åŒº</h3><p>å»ºç«‹åˆ†åŒºå‰ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨äº† <code>parted -l</code>ï¼ˆæˆ– <code>fdisk -l</code>ï¼Œé€‰æ‹© parted æ— ç–‘æ˜¯å› ä¸ºè¾ƒç›´è§‚ä¸€ç‚¹ï¼‰å‘½ä»¤æŸ¥è¯¢å½“å‰ç¡¬ç›˜æƒ…å†µï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@archlinux /]# parted -l</span><br><span class="line">Model: ATA C3M-16G (scsi)</span><br><span class="line">Disk /dev/sda: 16.0GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: gpt</span><br><span class="line">Disk Flags: </span><br><span class="line"></span><br><span class="line">Number  Start   End     Size    File system  Name  Flags</span><br><span class="line"> 1      1049kB  538MB   537MB   fat32              boot, esp</span><br><span class="line"> 2      538MB   16.0GB  15.5GB  ext4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Model: ATA HGST HMS5C4040BL (scsi)</span><br><span class="line">Disk /dev/sdb: 4001GB</span><br><span class="line">Sector size (logical/physical): 512B/4096B</span><br><span class="line">Partition Table: loop</span><br><span class="line">Disk Flags: </span><br><span class="line"></span><br><span class="line">Number  Start  End  Size  File system  Name  Flags</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Model: ATA HGST HMS5C4040BL (scsi)</span><br><span class="line">Disk /dev/sdc: 4001GB</span><br><span class="line">Sector size (logical/physical): 512B/4096B</span><br><span class="line">Partition Table: loop</span><br><span class="line">Disk Flags: </span><br><span class="line"></span><br><span class="line">Number  Start  End     Size    File system  Flags</span><br></pre></td></tr></table></figure></p><p>ä»ä¸Šé¢çœ‹å‡ºï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸¤å— HGST 4TB çš„ HDD åœ¨è¿™ï¼Œåˆ†åˆ«æ˜¯ <code>/dev/sdb</code> ä»¥åŠ <code>/dev/sdc</code>ï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨ <code>fdisk /dev/sdb</code> ä»¥åŠ <code>fdisk /dev/sdc</code> å¯¹å®ƒä»¬å»ºç«‹ RAID åˆ†åŒºï¼š</p><p>åœ¨å»ºç«‹åˆ†åŒºä¹‹å‰é¦–å…ˆè¦æ›´æ”¹ç¡¬ç›˜çš„ <code>disklabel</code> ä¸º GPT æ ¼å¼ï¼Œå› æ­¤å…ˆè¾“å…¥ <code>g</code>ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@archlinux /]# fdisk /dev/sdb</span><br><span class="line"></span><br><span class="line">Welcome to fdisk (util-linux 2.34).</span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">Be careful before using the write command.</span><br><span class="line"></span><br><span class="line">The old ext4 signature will be removed by a write command.</span><br><span class="line"></span><br><span class="line">Device does not contain a recognized partition table.</span><br><span class="line">The size of this disk is 3.7 TiB (4000787030016 bytes). DOS partition table format cannot be used on drives for volumes larger than 2199023255040 bytes for 512-byte sectors. Use GUID partition table format (GPT).</span><br><span class="line"></span><br><span class="line">Created a new DOS disklabel with disk identifier 0xfe1551f9.</span><br><span class="line"></span><br><span class="line">Command (m for help): g</span><br><span class="line">Created a new GPT disklabel (GUID: 3171CF65-B466-9347-A082-3AACDD9B9721).</span><br></pre></td></tr></table></figure></p><p>åœ¨æ›´æ”¹å®Œæˆä¹‹åï¼Œç°åœ¨ä½¿ç”¨ <code>n</code> åˆ›å»ºæ–°çš„åˆ†åŒºï¼Œç„¶åè¾“å…¥ <code>t</code> æ›´æ”¹åˆšåˆšåˆ›å»ºçš„æ–°åˆ†åŒºç±»å‹ä¸º Linux RAIDï¼ˆåºå·ä¸º <code>29</code>ï¼ŒGUIDä¸º <code>A19D880F-05FC-4D3B-A006-743F0F84911E</code>ï¼‰ï¼Œæœ€åè¾“å…¥ <code>i</code> æŸ¥è¯¢åˆ›å»ºç»“æœï¼Œåœ¨ç¡®è®¤æ— è¯¯åè¾“å…¥ <code>w</code> ä¿å­˜å¹¶ä¸”é€€å‡ºï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Command (m for help): n</span><br><span class="line">Partition number (1-128, default 1): </span><br><span class="line">First sector (2048-7814037134, default 2048): </span><br><span class="line">Last sector, +/-sectors or +/-size&#123;K,M,G,T,P&#125; (2048-7814037134, default 7814037134): </span><br><span class="line"></span><br><span class="line">Created a new partition 1 of type &apos;Linux filesystem&apos; and of size 3.7 TiB.</span><br><span class="line"></span><br><span class="line">Command (m for help): t</span><br><span class="line">Selected partition 1</span><br><span class="line">Partition type (type L to list all types): 29</span><br><span class="line">Changed type of partition &apos;Linux filesystem&apos; to &apos;Linux RAID&apos;.</span><br><span class="line"></span><br><span class="line">Command (m for help): i</span><br><span class="line">Selected partition 1</span><br><span class="line">         Device: /dev/sdb1</span><br><span class="line">          Start: 2048</span><br><span class="line">            End: 7814037134</span><br><span class="line">        Sectors: 7814035087</span><br><span class="line">           Size: 3.7T</span><br><span class="line">           Type: Linux RAID</span><br><span class="line">      Type-UUID: A19D880F-05FC-4D3B-A006-743F0F84911E</span><br><span class="line">           UUID: 6885A106-3022-FA4F-966F-EDBA96B4A9D9</span><br><span class="line"></span><br><span class="line">Command (m for help): w</span><br><span class="line">The partition table has been altered.</span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line">Syncing disks.</span><br><span class="line"></span><br><span class="line">[root@archlinux /]#</span><br></pre></td></tr></table></figure></p><p>ç„¶åé‡å¤ä¸Šè¿°æ­¥éª¤ä¸º <code>/dev/sdc</code> ä¹Ÿåˆ›å»ºä¸€éåˆ†åŒºè¡¨ï¼Œä¿å­˜é€€å‡ºå¹¶è¾“å…¥ <code>parted -l</code> æŸ¥è¯¢æœ€ç»ˆåˆ†åŒºè¡¨ç»“æœï¼ˆå·²çœç•¥å…¶ä»–ç¡¬ç›˜ï¼‰ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Model: ATA HGST HMS5C4040BL (scsi)</span><br><span class="line">Disk /dev/sdb: 4001GB</span><br><span class="line">Sector size (logical/physical): 512B/4096B</span><br><span class="line">Partition Table: gpt</span><br><span class="line">Disk Flags: </span><br><span class="line"></span><br><span class="line">Number  Start   End     Size    File system  Name  Flags</span><br><span class="line"> 1      1049kB  4001GB  4001GB                     raid</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Model: ATA HGST HMS5C4040BL (scsi)</span><br><span class="line">Disk /dev/sdc: 4001GB</span><br><span class="line">Sector size (logical/physical): 512B/4096B</span><br><span class="line">Partition Table: gpt</span><br><span class="line">Disk Flags: </span><br><span class="line"></span><br><span class="line">Number  Start   End     Size    File system  Name  Flags</span><br><span class="line"> 1      1049kB  4001GB  4001GB                     raid</span><br></pre></td></tr></table></figure></p><h3 id="å»ºç«‹ç¡¬ç›˜é˜µåˆ—">å»ºç«‹ç¡¬ç›˜é˜µåˆ—</h3><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°ä¸€ç³»åˆ—çš„ <code>mdadm</code> å‘½ä»¤ï¼ˆè¯·ä½¿ç”¨ <code>pacman -S mdadm</code> è¿›è¡Œå®‰è£…ï¼‰åˆ›å»ºç¡¬ç›˜é˜µåˆ—ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mdadm --create --verbose --level=1 --metadata=1.2 --raid-devices=2 /dev/md/RAID1 /dev/sdb1 /dev/sdc1</span><br></pre></td></tr></table></figure></p><p>ç”¨æ³•ï¼šmdadm [é€‰é¡¹] è®¾å¤‡ åˆ†åŒº... é€‰é¡¹ï¼š - <code>--level</code> æ˜¯ä½ è¦ç»„åˆçš„ RAID ç±»å‹ï¼Œè¿™é‡Œæˆ‘ä»¬æ˜¯ RAID1 æ‰€ä»¥å°±ç›´æ¥å¡«å†™ 1 å³å¯ã€‚ - <code>--metadata</code> é»˜è®¤ä¸º 1.2ï¼Œä½†è‹¥ä½ çš„å¯åŠ¨å¼•å¯¼å™¨ï¼ˆBootloaderï¼‰ä½¿ç”¨çš„æ˜¯ Syslinux ä¸”ç‰ˆæœ¬ä¸º v4.07 çš„è¯è¯·å°†è¿™ä¸ªå˜é‡æ”¹ä¸º 1.0ã€‚ - <code>--raid-devices</code> æŒ‡çš„æ˜¯ä½ è¦ç»„æˆé˜µåˆ—çš„ç¡¬ç›˜æ•°é‡ï¼Œæˆ‘ä»¬è¿™é‡Œåªæœ‰ä¸¤ä¸ªé‚£å°±å¡«å†™ 2ã€‚- <code>/dev/md/YOUR_RAID_NAME</code> ä¸ºå‘½ä»¤ <code>mdadm</code> çš„ç¬¬ä¸€ä¸ªå¿…å¡«å‚æ•°ï¼Œç³»ç»Ÿä¼šæ ¹æ®è¿™ä¸ªè·¯å¾„å»åˆ›å»ºè½¯é“¾æ¥å¹¶æŒ‡å‘ä½ åˆ›å»ºçš„ RAID é˜µåˆ—ä¸Šï¼ˆè¿™é‡Œæˆ‘ä½¿ç”¨ <code>ls -l /dev/md</code> æŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ˜¯ï¼š<code>RAID1 -&gt; ../md127</code>ï¼‰ã€‚ - <code>/dev/sdX1 /dev/sdX1 ...</code> åç»­çš„å‚æ•°åˆ™æ˜¯ä½  RAID çš„å…·ä½“åˆ†åŒºä½ç½®ã€‚</p><h3 id="æŸ¥è¯¢-raid-çŠ¶æ€">æŸ¥è¯¢ RAID çŠ¶æ€</h3><p>åœ¨åˆ›å»ºå®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>cat /proc/mdstat</code> æŸ¥è¯¢ RAID å½“å‰çš„çŠ¶æ€ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@archlinux /]# cat /proc/mdstat</span><br><span class="line">Personalities : [raid1] </span><br><span class="line">md127 : active raid1 sdc1[1] sdb1[0]</span><br><span class="line">      3906885440 blocks super 1.2 [2/2] [UU]</span><br><span class="line">      [&gt;....................]  resync =  0.1% (5158656/3906885440) finish=513.5min speed=126616K/sec</span><br><span class="line">      bitmap: 30/30 pages [120KB], 65536KB chunk</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥å‘ç°æˆ‘ä»¬åˆšç»„çš„ RAID å·²ç»åœ¨å¼€å§‹åœ¨åå°åŒæ­¥æ•°æ®äº†ï¼Œè¿™æ—¶æˆ‘ä»¬è€å¿ƒç­‰å¾…åŒæ­¥å®Œæ¯•å³å¯ã€‚</p><h3 id="æ ¼å¼åŒ–-raid-é˜µåˆ—">æ ¼å¼åŒ– RAID é˜µåˆ—</h3><p>åœ¨ç­‰å¾…åŒæ­¥æ•°æ®çš„åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå¯¹ RAID1 è¿›è¡Œæ ¼å¼åŒ–ï¼ˆä½†è¦æ³¨æ„çš„æ˜¯ RAID1 æ˜¯å®Œå…¨ç”±ä¸€ä¸ªç¡¬ç›˜çš„æ‰€æœ‰å†…å®¹é•œåƒåœ°å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªç¡¬ç›˜ä¸­ï¼Œå› æ­¤ RAID1 å¹¶æ²¡æœ‰é‡‡ç”¨åˆ°ç¡¬ç›˜æ¡å¸¦åŒ–ï¼ˆStripeï¼‰æŠ€æœ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ ¼å¼åŒ–çš„æ—¶å€™å¹¶ä¸éœ€è¦æ‰‹åŠ¨è®¡ç®— <code>stripe size</code> <code>stripe width</code> è¿™äº›ä¸œè¥¿ï¼Œè€Œç±»ä¼¼ RAID5 / RAID6 è¿™äº›åˆ™éœ€è¦ç‰¹åˆ«å°å¿ƒï¼‰ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@archlinux md]# mkfs.ext4 /dev/md127</span><br><span class="line">mke2fs 1.45.3 (14-Jul-2019)</span><br><span class="line">Creating filesystem with 976721360 4k blocks and 244187136 inodes</span><br><span class="line">Filesystem UUID: cce6ae47-1d89-4293-a259-318c3b765a0b</span><br><span class="line">Superblock backups stored on blocks: </span><br><span class="line">32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, </span><br><span class="line">4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968, </span><br><span class="line">102400000, 214990848, 512000000, 550731776, 644972544</span><br><span class="line"></span><br><span class="line">Allocating group tables: done                            </span><br><span class="line">Writing inode tables: done                            </span><br><span class="line">Creating journal (262144 blocks): </span><br><span class="line">done</span><br><span class="line">Writing superblocks and filesystem accounting information:            </span><br><span class="line">done</span><br></pre></td></tr></table></figure></p><h3 id="æŒ‚è½½-raid-é˜µåˆ—">æŒ‚è½½ RAID é˜µåˆ—</h3><p>åœ¨ä¸Šè¿°æ­¥éª¤éƒ½å®Œæˆäº†ä¹‹åï¼Œé‚£ç°åœ¨å½“ç„¶å°±æ˜¯æŒ‚è½½ RAID é˜µåˆ—å•¦ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨ <code>mkdir /raid1</code> åˆ›å»ºäº†ä¸€ä¸ª <code>raid1</code> æ–‡ä»¶å¤¹ï¼Œå¹¶æŠŠ <code>/dev/md127</code> æŒ‚è½½åˆ°å…¶ä¸Šï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@archlinux md]# mkdir /raid1</span><br><span class="line">[root@archlinux md]# mount /dev/md127 /raid1</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ <code>df -h | grep '/dev/md127'</code> éªŒè¯æˆ‘ä»¬æ˜¯å¦æŒ‚è½½æˆåŠŸï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@archlinux raid1]# df -h | grep &apos;dev/md127&apos;</span><br><span class="line">/dev/md127      3.6T   89M  3.4T   1% /raid1</span><br></pre></td></tr></table></figure></p><h4 id="è®¾ç½®å¼€æœºæŒ‚è½½">è®¾ç½®å¼€æœºæŒ‚è½½</h4><p>åœ¨ä½¿ç”¨ <code>mount</code> æŒ‚è½½å®Œåå¹¶ä¸æ„å‘³ç€ RAID é˜µåˆ—å¼€æœºå°±ä¼šå¯åŠ¨ RAID ä»¥åŠè‡ªåŠ¨æŒ‚è½½ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mdadm çš„æŒ‡ä»¤æŠŠç°è¡Œæ‰«æå‡ºæ¥çš„ RAID é˜µåˆ—è‡ªåŠ¨åŠ åˆ° <code>/etc/mdadm.conf</code> ä¸Šï¼Œå¥½è®©ç³»ç»Ÿåœ¨å¼€æœºæ—¶è‡ªå¯ RAID è®¾å¤‡ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mdadm -D --scan &gt;&gt; /etc/mdadm.conf</span><br></pre></td></tr></table></figure></p><p>æˆ–æ‰‹åŠ¨ç¼–è¾‘ <code>/etc/mdadm.conf</code> å¹¶è®¾å®šï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DEVICE partitions</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">ARRAY /dev/md/RAID1 metadata=1.2 name=archlinux:RAID1 UUID=72326a38:db8867f1:6d3c072e:2c1a5d06</span><br></pre></td></tr></table></figure></p><p>æŠŠä½ çš„ RAID é˜µåˆ—é…ç½®åŠ åˆ°æœ«å°¾å³å¯ï¼ˆUUID å¯ä½¿ç”¨ <code>mdadm --detail /dev/mdX</code> æŸ¥è¯¢ï¼‰ã€‚</p><p>ç„¶åç¼–è¾‘ <code>/etc/fstab</code> å¹¶æŠŠé…ç½®æ·»åŠ åˆ°æœ«å°¾ï¼Œå¥½è®©ç³»ç»Ÿå¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"># /dev/md127</span><br><span class="line">/dev/md127 /raid1 ext4 defaults 0 0</span><br></pre></td></tr></table></figure></p><h4 id="é‡å¯å¹¶éªŒè¯">é‡å¯å¹¶éªŒè¯</h4><p>æœ€åä¸€æ­¥å°±æ˜¯è¾“å…¥ <code>reboot</code> é‡å¯å¹¶ä½¿ç”¨ <code>df -h | grep raid1</code> é‡æ–°éªŒè¯è‡ªåŠ¨æŒ‚è½½æ˜¯å¦æˆåŠŸã€‚</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>è¿™ç¯‡æŠ˜è…¾çš„ä¸œè¥¿ä¸ä¸Šä¸€ç¯‡å…¶å®ä¹Ÿå·®ä¸å¤šï¼Œç›®å‰çš„è¯å°±å·®ä¸€äº›ä½œä¸ºåº”æœ‰çš„åŸºç¡€é…å¥—ä¸åº”ç”¨é›†ç¾¤ç®¡ç†ä½“ç³»äº†ï¼Œä¸ç„¶å•çº¯ä½œä¸ºå­˜å‚¨ç”¨ä¹Ÿå°±å¤ªæµªè´¹äº†ï¼Œæ‰€ä»¥ä¸‹ä¸€ç¯‡ä¼šé›†ä¸­è®²è¿°å…³äºåœ¨ ArchLinux éƒ¨ç½² Docker çš„å®‰è£…æµç¨‹ä¸ä¸€äº›äº‹å®œã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç»å†æ˜¨å¤©ä¸€å¤©çš„å¥‹æˆ˜ï¼Œåœ¨ä¸€è¾¹è£…çš„åŒæ—¶ä¹ŸæŠŠä¸Šä¸€ç« æ–‡ç« å†™å¥½äº†ã€‚ä»Šå¤©çš„è¯ç»§ç»­ä¸ºå¤§å®¶å¸¦æ¥å¦‚ä½•åœ¨çº¯å‘½ä»¤è¡Œç¯å¢ƒä¸‹ç»§ç»­æŠ˜è…¾æˆ‘ä»¬çš„æ˜Ÿé™…èœ—ç‰›å¹¶ä¸ºç¡¬ç›˜ä»¬ç»„è£…ä¸Šå†—ä½™ç£ç›˜é˜µåˆ—ï¼ˆRedundant Array of Independent Disksï¼Œåˆç§° RAIDï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç®€ä»‹&quot;
      
    
    </summary>
    
    
      <category term="ArchLinux" scheme="https://a9032676.github.io/tags/archlinux/"/>
    
      <category term="NAS" scheme="https://a9032676.github.io/tags/nas/"/>
    
      <category term="RAID" scheme="https://a9032676.github.io/tags/raid/"/>
    
      <category term="ç¡¬ç›˜åˆ†åŒº" scheme="https://a9032676.github.io/tags/%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA/"/>
    
  </entry>
  
  <entry>
    <title>æ˜Ÿé™…èœ—ç‰›æŠ˜è…¾è®° ç¬¬ä¸€ç« ï¼šå®‰è£… ArchLinux</title>
    <link href="https://a9032676.github.io/2019/08/07/J1900-Tossing-1/"/>
    <id>https://a9032676.github.io/2019/08/07/J1900-Tossing-1/</id>
    <published>2019-08-07T08:43:25.000Z</published>
    <updated>2019-08-09T16:32:16.842Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æœ¬æ¥æœ‰æ‰“ç®—ç›´æ¥å…¥æ‰‹ä¸€å° Synology ä¸»æœºçš„ï¼Œä½†ç»è¿‡ä¸€ä¸ªæœ‹å‹çš„æ¨ä»‹ï¼Œæœ€ç»ˆæˆ‘é€‰æ‹©äº†æ˜Ÿé™…èœ—ç‰›æ­è½½ ArchLinux ä½œä¸º NAS ä½¿ç”¨ã€‚</p><h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>ç”±äºæ”¶åˆ°æ—¶åº—å®¶å·²ç»ä¸ºæˆ‘é¢„è£…å¥½ Synology (é»‘ç¾¤è¾‰ï¼‰äº†ï¼Œæœ¬æ¥ä¸å¤ªæ‰“ç®—æ€ä¹ˆæŠ˜è…¾ç›´æ¥ä½¿ç”¨çš„ï¼Œä½†æƒ³äº†æƒ³ä¸ºäº†æ—¥åæ›´å¥½çš„å¯è‡ªå®šä¹‰åŒ–æœ€ç»ˆè¿˜æ˜¯ä½¿ç”¨äº†æ•°å¤©ä¹‹åå±•å¼€äº†é‡è£…çš„æ—…ç¨‹ï¼ˆArchLinux çœŸé¦™ã€‚</p><h2 id="é…ç½®">é…ç½®</h2><ul><li>CPU: Intel(R) Celeron(R) CPU J1900 @ 1.99GHZ</li><li>å†…å­˜: 8G DDR3</li><li>SSD: 16G</li><li>ç›˜ä½æ•°: 4ä¸ª</li><li>ç½‘å£: 2ä¸ª (åŒåƒå…†)</li></ul><p>é…ç½®çœ‹ä¸Šå»å…¶å®å·®ä¸å¤šä¹Ÿå°±è¿™æ ·ï¼Œä½†æŸ¥äº†ä¸‹å‘ç°ä¾›ç”µå¯èƒ½æ˜¯é›·åŒºï¼Œæ¯•ç«Ÿå¦‚æœ4ä¸ªç›˜æ»¡è½½è¿è¡Œçš„è¯ç¨³å®šæ€§å¯èƒ½æˆä¸ºç–‘é—®ï¼Œä½†æš‚ä¸”æ¥è¯´ç›®å‰è¿˜åªæœ‰ä¸¤ä¸ªç›˜é‚£å°±ä¸ç®¡äº†ã€‚</p><h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2><h3 id="å¤‡ä»½">å¤‡ä»½</h3><p>è¿™ä¸ªå°±ä¸ç”¨å¤šè¯´äº†ï¼Œåœ¨å®‰è£…ä¹‹å‰æœ‰é‡è¦æ•°æ®åˆ‡è®°è¦å¤‡ä»½ã€‚</p><h3 id="å‚é˜…å®˜æ–¹å®‰è£…æ•™ç¨‹">å‚é˜…å®˜æ–¹å®‰è£…æ•™ç¨‹</h3><p>åœ¨å®‰è£…çš„åŒæ—¶å»ºè®®æ‰“å¼€ <a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noopener">å®˜æ–¹å®‰è£…æ•™ç¨‹</a> è¾¹å‚è€ƒè¾¹å®‰è£…ï¼Œä»¥å…å‡ºé”™ã€‚</p><h3 id="åˆ¶ä½œ-livecd-å¼•å¯¼ç›˜">åˆ¶ä½œ LiveCD å¼•å¯¼ç›˜</h3><p>é¦–å…ˆå‰å¾€ ArchLinux å›½å†…é•œåƒç«™ï¼ˆæˆ‘è¿™é‡Œé€‰ç”¨äº†<a href="https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/" target="_blank" rel="noopener">æ¸…åæº</a>ï¼‰ï¼Œç„¶åå¯»æ‰¾åˆé€‚ç‰ˆæœ¬çš„ ArchLinux é•œåƒæ–‡ä»¶å¹¶ä½¿ç”¨å·¥å…·åˆ»å½•åˆ° USB ä¸Šï¼ˆç”±äºæˆ‘çš„ç”µè„‘ç³»ç»Ÿä½¿ç”¨äº† Ubuntu 18.04 + gnome æ¡Œé¢ç¯å¢ƒï¼Œå› æ­¤æˆ‘ä½¿ç”¨äº†å¯è§†åŒ–çš„ Disks å·¥å…·è¿›è¡Œ LiveCD åˆ¶ä½œï¼‰ï¼Œè¯¥æ­¥éª¤ç”±äºç½‘ä¸Šå·²æœ‰ä¸åŒç¯å¢ƒä¸‹åˆ¶é€ çš„æ•™ç¨‹ï¼Œå› æ­¤ç•¥è¿‡ã€‚</p><h2 id="é¢„å¤„ç†æ­¥éª¤">é¢„å¤„ç†æ­¥éª¤</h2><h3 id="æ’å…¥å·²åˆ¶ä½œå¥½çš„-livecd">æ’å…¥å·²åˆ¶ä½œå¥½çš„ LiveCD</h3><p>ç°åœ¨æˆ‘ä»¬æŠŠ LiveCD æ’å…¥åˆ°æ˜Ÿé™…èœ—ç‰›ä¸»æœºä¸Šï¼Œå¹¶ä¸”åœ¨å¼€æœºåè¿›å…¥ BIOS ç•Œé¢ï¼ŒæŠŠå¯åŠ¨é¡¹è°ƒæ•´æˆæˆ‘ä»¬åˆšæ’å…¥åˆ°ä¸»æœºä¸Šçš„ USB ï¼ˆUEFI æ–¹å¼ï¼‰ï¼Œå¹¶åœ¨ F10 ä¿å­˜ä¹‹åé‡æ–°å¯åŠ¨ã€‚</p><h3 id="æ“¦é™¤-synology-ç³»ç»Ÿæ•°æ®">æ“¦é™¤ Synology ç³»ç»Ÿæ•°æ®</h3><p>åœ¨å®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼ŒæˆåŠŸåœ°è¿›å…¥äº† ArchLinux çš„å‘½ä»¤è¡Œç¯å¢ƒï¼Œä½†ç”±äºåº—å®¶æœ¬èº«å·²ç»é¢„è£…äº†é»‘ç¾¤è¾‰ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æŠŠæ®‹ç•™çš„æ•°æ®éƒ½ç»™æ¸…ç©ºæ‰ã€‚</p><ol type="1"><li><p>è¾“å…¥ <code>fdisk -l</code> æŸ¥çœ‹é»‘ç¾¤è¾‰ç³»ç»Ÿæ‰€åœ¨åˆ†åŒºï¼ˆæˆ‘è¿™é‡ŒæŸ¥å‡ºæ¥æ˜¯ <code>/dev/sda</code>ï¼‰ã€‚</p></li><li><p>ä½¿ç”¨ <code>dd if=/dev/zero of=/dev/sda</code> å†™ 0 æ“¦é™¤ <code>/dev/sda</code> ç¡¬ç›˜ä¸Šçš„å†…å®¹ï¼Œå¹¶ä¸”åœ¨æ“¦é™¤å®Œæ¯•åç›´æ¥ä½¿ç”¨ <code>Ctrl+C</code> é€€å‡ºã€‚</p></li></ol><h3 id="åˆ›å»ºåˆ†åŒºè¡¨">åˆ›å»ºåˆ†åŒºè¡¨</h3><p>ç°åœ¨ä½¿ç”¨ <code>fdisk</code> ä¸ <code>parted</code> ï¼ˆå®˜æ–¹æ¨èè¿™ä¸¤ä¸ªï¼‰ç­‰å·¥å…·å¯¹ <code>/dev/sda</code> å»ºç«‹æ–°çš„åˆ†åŒºè¡¨ï¼ˆæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ <code>cfdisk /dev/sda</code>ï¼‰ï¼š</p><ol type="1"><li>é¦–å…ˆè¦åˆ›å»º EFI System Partition (ESP) å¹¶ä½œä¸ºå¼•å¯¼æ–‡ä»¶å‚¨å­˜ç”¨ï¼Œè¿™é‡Œæˆ‘åˆ†å‡ºäº† 512M ç»™äºˆ <code>/dev/sda1</code> åˆ†åŒºï¼ˆå®˜æ–¹å»ºè®® UEFI with GPT æ˜¯ 260 ï½ 512MBï¼‰ã€‚</li><li>ç„¶åçš„å°±æ˜¯æŠŠå‰©ä½™çš„ç©ºé—´å…¨æ•°åˆ†é…ç»™ <code>/dev/sda2</code>ï¼ˆè¿™é‡Œä½ ä¹Ÿå¯ä»¥é¢„ç•™ä¸€äº›å¤§äº 512MB çš„ç©ºé—´åˆ†é…ç»™ <code>/dev/sda3</code> ä½œä¸º swap åŒºä½¿ç”¨ï¼‰ï¼Œå¹¶æŒ‡å®šåˆ†åŒºè¡¨ç±»å‹ä¸º Linux filesystem å³å¯ã€‚</li><li>ä¿å­˜å¹¶é€€å‡ºã€‚</li></ol><p>æœ€ç»ˆåˆ†åŒºè¡¨å¦‚ä¸‹ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Device      Start      End  Sectors  Size Type</span><br><span class="line">/dev/sda1    2048  1050623  1048576  512M EFI System</span><br><span class="line">/dev/sda2 1050624 31277198 30226575 14.4G Linux filesystem</span><br></pre></td></tr></table></figure></p><h3 id="æ ¼å¼åŒ–åˆ†åŒºç©ºé—´">æ ¼å¼åŒ–åˆ†åŒºç©ºé—´</h3><p>å®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å¯¹ä¸Šé¢ä¸¤ä¸ªåˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mkfs.fat -F32 /dev/sda1</span><br><span class="line"># mkfs.ext4 /dev/sda2</span><br></pre></td></tr></table></figure></p><h3 id="åˆ›å»º-swap-åˆ†åŒºå¯é€‰">åˆ›å»º Swap åˆ†åŒºï¼ˆå¯é€‰ï¼‰</h3><p>å¦‚æœåœ¨åˆ›å»ºåˆ†åŒºè¡¨çš„æ­¥éª¤ä¸Šå·²ç»ä¸ºç³»ç»Ÿåˆ›å»ºäº† Swap åˆ†åŒºï¼Œé‚£ä¹ˆç°åœ¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤åˆ›å»º Swap åŒºï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mkswap /dev/sda2</span><br><span class="line"># swapon /dev/sda2</span><br></pre></td></tr></table></figure></p><h3 id="æŒ‚è½½åˆ†åŒº">æŒ‚è½½åˆ†åŒº</h3><p>åˆšæ‰æˆ‘ä»¬å·²ç»å¯¹ <code>/dev/sda</code> å»ºç«‹èµ·äº† <code>/dev/sda1</code> ä¸ <code>/dev/sda2</code> è¿™ä¸¤ä¸ªåˆ†åŒºï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹æŠŠå®ƒä»¬æŒ‚è½½åˆ°å¯¹åº”çš„ä½ç½®ä¸Šï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># mount /dev/sda2 /mnt</span><br><span class="line"># cd /mnt</span><br><span class="line"># mkdir boot</span><br><span class="line"># mount /dev/sda1 /boot</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…ç³»ç»Ÿ">å®‰è£…ç³»ç»Ÿ</h2><p>åœ¨ç¡®è®¤æŒ‚è½½æ— è¯¯ä¹‹åï¼Œæˆ‘ä»¬ç°åœ¨å°±å¯ä»¥å¼€å§‹å®‰è£… ArchLinux äº†ï¼è®©æˆ‘ä»¬çœ‹çœ‹æ¥ä¸‹æ¥è¦å¹²ä»€ä¹ˆå§ï¼</p><h3 id="é…ç½®-pacman-é•œåƒæºå¯ç•¥è¿‡live-æ¨¡å¼é»˜è®¤å¯åŠ¨æ‰€æœ‰é•œåƒ">é…ç½® Pacman é•œåƒæºï¼ˆå¯ç•¥è¿‡ï¼ŒLive æ¨¡å¼é»˜è®¤å¯åŠ¨æ‰€æœ‰é•œåƒï¼‰</h3><p>ç”±äº ArchLinux é‡‡ç”¨äº† Pacman ä½œä¸ºåŒ…ç®¡ç†ç³»ç»Ÿå¹¶éœ€è¦è”ç½‘ä»¥å®‰è£…ä¸€äº›åŸºç¡€åŒ…ï¼Œè€Œä¸ºäº†æå‡ä¸‹è½½é€Ÿåº¦ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªæ¿€åŠ¨äººå¿ƒçš„å®‰è£…è¿‡ç¨‹ä¹‹å‰å…ˆé…ç½®å¥½æˆ‘ä»¬çš„é•œåƒåˆ—è¡¨ï¼š</p><ol type="1"><li><p>å¯ä»¥å…ˆå‰å¾€ <a href="https://www.archlinux.org/mirrorlist/" target="_blank" rel="noopener">å®˜æ–¹çš„é•œåƒåˆ—è¡¨ç”Ÿæˆå™¨</a> ç”Ÿæˆä½ æ‰€åœ¨å›½å®¶æˆ–åœ°åŒºçš„é•œåƒæœåŠ¡å™¨åˆ—è¡¨ã€‚</p></li><li><p>ç„¶åå°†å®ƒä»¬å¤åˆ¶ç²˜è´´åˆ° <code>/etc/pacman.d/mirrorlist</code> å¹¶ä¿å­˜å³å¯ã€‚</p></li></ol><h3 id="å®‰è£…-base-ç¨‹åºåŒ…ç»„">å®‰è£… base ç¨‹åºåŒ…ç»„</h3><p>åœ¨ç¡®ä¿è”ç½‘çŠ¶æ€å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>pacstrap</code> æŒ‡ä»¤å»å®‰è£…åŠä¸‹è½½ï¼Œå¹¶ä¸”ç¨ç¨ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># ip link</span><br><span class="line"># ping archlinux.org</span><br><span class="line"># pacstrap /mnt base</span><br></pre></td></tr></table></figure></p><p>ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ <code>base</code> åŒ…ç»„åœ¨ Live æ¨¡å¼ä¸‹å®‰è£…å¹¶ä¸åŒ…å«æ‰€æœ‰å·¥å…·ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>pacstrap /mnt base-devel</code> å®‰è£…åŸºç¡€å¼€å‘è€…å·¥å…·åŒ…ç»„ã€‚</p><h3 id="é…ç½®-fstab">é…ç½® fstab</h3><p>å¯¹äºä¸€äº›æ—¥åå¯èƒ½éœ€è¦ç”¨åˆ°çš„ç¡¬ç›˜æˆ–è€…åˆ†åŒºï¼Œæˆ–è€…å“ªäº›åˆ†åŒºéœ€è¦å¼€æœºçš„æ—¶å€™è‡ªåŠ¨æŒ‚è½½ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨ <code>/etc/fstab</code> æ–‡ä»¶ä¸­æŒ‡å®šå‡ºæ¥ã€‚ç°åœ¨ä½¿ç”¨ <code>genfstab</code> æŒ‡ä»¤ç®€å•çš„ç”Ÿæˆä¸€ä¸ªé…ç½®æ–‡ä»¶å¹¶ç”¨ cat æŸ¥è¯¢ä»¥ç¡®è®¤ç”Ÿæˆç»“æœã€‚ <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br><span class="line"># cat /mnt/etc/fstab</span><br></pre></td></tr></table></figure></p><h3 id="ç§»åŠ¨è‡³ç³»ç»Ÿæ ¹ç›®å½•">ç§»åŠ¨è‡³ç³»ç»Ÿæ ¹ç›®å½•</h3><p>æˆ‘ä»¬å½“å‰è¿›ç¨‹è¿˜æ˜¯ä»¥ LiveCD ä¸‹çš„å¼•å¯¼ç³»ç»Ÿä½œä¸ºæ ¹ç›®å½•ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æŠŠæ ¹ç›®å½•ç§»åŠ¨åˆ°æˆ‘ä»¬æ–°åˆ›å»ºå¥½çš„ç³»ç»Ÿä¸­ï¼ˆ<code>/mnt</code> é‡Œï¼‰å†è¿›è¡Œæ“ä½œï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># arch-chroot /mnt</span><br></pre></td></tr></table></figure></p><h3 id="è°ƒæ•´ç³»ç»Ÿå†…çš„ä¸ªæ€§åŒ–é…ç½®å¯é€‰">è°ƒæ•´ç³»ç»Ÿå†…çš„ä¸ªæ€§åŒ–é…ç½®ï¼ˆå¯é€‰ï¼‰</h3><p>è¿™é‡Œçš„é…ç½®è¾ƒä¸ºæ¬¡è¦ï¼Œå› æ­¤ä¸ä½œæ›´è¯¦ç»†çš„è¯´æ˜ï¼Œè¯¦æƒ…å¯å‰å¾€å®˜æ–¹æ–‡æ¡£å‚é˜…ï¼š</p><h4 id="æ—¶åŒºè®¾ç½®">æ—¶åŒºè®¾ç½®</h4><p>åˆ›å»ºè½¯é“¾æ¥æŠŠ <code>/etc/localtime</code> æŒ‡å‘ <code>/usr/share/zoneinfo/Region/City /etc/localtime</code> è®©ç³»ç»Ÿè¯»å–ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ln -sf /usr/share/zoneinfo/Asia/Hong_Kong /etc/localtime</span><br><span class="line"># hwclock --systohc</span><br></pre></td></tr></table></figure></p><h4 id="æœ¬åœ°åŒ–è®¾ç½®">æœ¬åœ°åŒ–è®¾ç½®</h4><p>åˆ›å»ºæœ¬åœ°åŒ–é…ç½® <code>/etc/locale.conf</code> å¹¶è®©ç³»ç»Ÿè¯»å–ï¼Œå¯ä½¿ç”¨ nano / vi ç­‰æ–¹å¼è¿›è¡Œç¼–è¾‘ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure></p><h3 id="é…ç½®ç½‘ç»œ">é…ç½®ç½‘ç»œ</h3><h4 id="é…ç½®-hosts-æ–‡ä»¶">é…ç½® hosts æ–‡ä»¶</h4><p>ç°åœ¨æˆ‘ä»¬ç¼–è¾‘ <code>/etc/hosts</code> æ–‡ä»¶ï¼Œä½¿ hosts æ–‡ä»¶ç”Ÿæ•ˆï¼Œä¸‹é¢æ˜¯æˆ‘çš„é…ç½®ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1localhost</span><br><span class="line">::1localhost</span><br><span class="line">127.0.1.190-ArchLinux</span><br></pre></td></tr></table></figure></p><h4 id="æ·»åŠ ç½‘å¡é…ç½®">æ·»åŠ ç½‘å¡é…ç½®</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åœ¨ base åŒ…è‡ªå¸¦çš„ <code>netctl</code> è¿›è¡Œæœ‰çº¿ç½‘ç»œé…ç½®ï¼š</p><ol type="1"><li>åœ¨å‘½ä»¤è¡Œç¯å¢ƒä¸‹å…ˆè¾“å…¥ <code>ip link</code> æŸ¥è¯¢æœªå¯åŠ¨æˆ–æœªè¢«åˆ†é…æœ‰ IP çš„ç½‘å¡ï¼Œæˆ‘è¿™é‡ŒæŸ¥è¯¢å‡ºæ¥çš„æ˜¯ enp1s0 ä¸ enp4s0ï¼Œå› ä¸ºæ¥äº†ç½‘çº¿çš„ç½‘å£æ˜¯ä¸‹é¢çš„æ‰€ä»¥ç›²çŒœåº”è¯¥æ˜¯ enp4s0ã€‚</li><li>ä½¿ç”¨ <code>nano /etc/netctl/enp4s0</code> åˆ›å»ºå¹¶ç¼–è¾‘ç½‘å¡é…ç½®ï¼ˆè¯·æŠŠä¸‹è¿°æ‰€æœ‰å†…å®¹çš„ enp4s0 æ›¿æ¢æˆä½ ç½‘å¡é…ç½®çš„åå­—ï¼‰ï¼š</li></ol><p>DHCP åŠ¨æ€åˆ†é… IP è¯·ä½¿ç”¨ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Interface=enp4s0</span><br><span class="line">Connection=ethernet</span><br><span class="line">IP=dhcp</span><br></pre></td></tr></table></figure></p><p>é™æ€åˆ†é… IP è¯·ä½¿ç”¨ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Interface=enp4s0</span><br><span class="line">Connection=ethernet</span><br><span class="line">IP=static</span><br><span class="line">Address=(&apos;10.1.10.2/24&apos;)</span><br><span class="line">Gateway=&apos;10.1.10.1&apos;</span><br><span class="line">DNS=(&apos;10.1.10.1&apos;)</span><br></pre></td></tr></table></figure></p><ol start="3" type="1"><li>ä¿å­˜å¹¶é€€å‡ºï¼Œå¹¶è¾“å…¥ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netctl start enp4s0</span><br><span class="line">netctl enable enp4s0</span><br><span class="line">netctl status enp4s0</span><br></pre></td></tr></table></figure></li></ol><p><code>netctl start enp4s0</code> ä¸ºå¯åŠ¨ç½‘å¡ï¼Œç„¶åè¾“å…¥ <code>netctl enable enp4s0</code> ç¡®ä¿ç½‘å¡åœ¨å¼€æœºæ—¶å¯åŠ¨ï¼Œæœ€åè¾“å…¥ <code>netctl status enp4s0</code> æŸ¥è¯¢ç½‘å¡çŠ¶æ€ï¼Œç¡®ä¿å¯åŠ¨æˆåŠŸã€‚</p><h3 id="è®¾ç½®-root-å¯†ç ">è®¾ç½® Root å¯†ç </h3><p>è®¾ç½® Root å¯†ç ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># passwd</span><br></pre></td></tr></table></figure></p><h3 id="è®¾ç½®å¯åŠ¨å¼•å¯¼">è®¾ç½®å¯åŠ¨å¼•å¯¼</h3><p>åœ¨å®Œæˆä¸Šè¿°æ‰€æœ‰çš„æ­¥éª¤ä¹‹åï¼Œç°åœ¨æ¥åˆ°æœ€å…³é”®çš„ä¸€æ­¥äº†ã€‚åœ¨æˆ‘ä»¬æŠŠç³»ç»Ÿé…ç½®å®Œæˆä¹‹åï¼Œç³»ç»Ÿæœ¬èº«å¹¶ä¸ä¼šè‡ªè¡Œå¼•å¯¼å¹¶å¯åŠ¨ç³»ç»Ÿçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å®‰è£…å¯åŠ¨å¼•å¯¼å™¨ï¼ˆBootloaderï¼‰ï¼Œè€Œå®˜æ–¹ç»™å‡ºäº†ä¸€æ•´ä¸ª <a href="https://wiki.archlinux.org/index.php/Arch_boot_process#Boot_loader" target="_blank" rel="noopener">å¯åŠ¨å¼•å¯¼å™¨åˆ—è¡¨</a> ä¾›æˆ‘ä»¬é€‰æ‹©ã€‚</p><p>åœ¨è¿™é‡Œæˆ‘é€‰ç”¨äº† Grub ä½œä¸ºæˆ‘çš„å¼•å¯¼å™¨ï¼Œå› æ­¤ä¸‹é¢ä¼šåˆ—å‡º Grub çš„å®‰è£…æµç¨‹ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># pacman -S grub efibootmgr os-prober</span><br><span class="line"># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</span><br><span class="line"># grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure></p><ol type="1"><li>ä½¿ç”¨ pacman ä¸‹è½½å¹¶å®‰è£… grubï¼Œefibootmgr ä¸ os-prober åŒ…</li><li>æ‰§è¡Œ grub-install æŒ‡ä»¤å®‰è£…ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ UEFI æ¶æ„ï¼Œå› æ­¤è®¾ç½® <code>--target</code> ä¸º <code>x86_64-efi</code>ï¼Œè€Œ efi è·¯å¾„åˆ™è®¾ç½®ä¸ºä¸Šé¢åˆ›å»ºå¥½çš„ <code>/boot</code> è·¯å¾„ï¼ˆä¹Ÿä¸ºESPï¼‰å³å¯ã€‚</li><li>æ‰§è¡Œ grub-mkconfig ä»¥ç”Ÿæˆ grub çš„é»˜è®¤é…ç½®æ–‡ä»¶</li></ol><h3 id="é‡å¯ä¸»æœºè¿›å…¥å®‰è£…ç³»ç»Ÿ">é‡å¯ä¸»æœºè¿›å…¥å®‰è£…ç³»ç»Ÿ</h3><p>åœ¨å®Œæˆä¸Šè¿°æ‰€æœ‰æµç¨‹ä¹‹åï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è¾“å…¥ <code>exit</code> æˆ–æŒ‰ä¸‹ <code>Ctrl+D</code> é€€å‡º Chroot ç¯å¢ƒï¼Œå¹¶æ‰§è¡Œ rebootï¼ˆä¸è¦å¿˜è®°ç§»é™¤æˆ‘ä»¬æ­è½½ Live ç³»ç»Ÿçš„ USBï¼‰ï¼Œè¿›å…¥æ–°ç³»ç»Ÿå¹¶ä½¿ç”¨è®¾ç½®å¥½çš„ root å¯†ç ç™»é™†ï¼Œè‡³æ­¤å®‰è£…å®Œæ¯•ï¼</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>æœ¬ç¯‡è¾ƒè¯¦ç»†åœ°è®²è¿°äº†å®‰è£… ArchLinux ç³»ç»Ÿçš„æ•´ä¸ªæµç¨‹ï¼Œå½“ç„¶ç›¸æ¯”èµ·å…¶ä»–å¼€ç®±å³é£Ÿçš„ä¸€é”®åŒ–å‚»ç“œå¼ç³»ç»Ÿå®‰è£…è¦æ²‰é•¿è®¸å¤šï¼Œä½†ä¹Ÿæœ‰åŠ©äºè¿›ä¸€æ­¥äº†è§£ Linux çš„æ–‡ä»¶ç»“æ„ï¼Œä¹Ÿé¼“åŠ±å–œæ¬¢æŠ˜è…¾çš„æœ‹å‹å¯ä»¥å°è¯•è‡ªå·±å»å¼„ä¸€ä¸‹ã€‚è€Œä½œä¸º NAS ä½¿ç”¨æ²¡æœ‰ç»„ RAID é˜µåˆ—æ€ä¹ˆè¡Œï¼Œå› æ­¤ä¸‹ä¸€ç¯‡ä¼šä¸ºå¤§å®¶å¸¦æ¥è½¯ä»¶ RAID é˜µåˆ—çš„ç»„è£…ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘æœ¬æ¥æœ‰æ‰“ç®—ç›´æ¥å…¥æ‰‹ä¸€å° Synology ä¸»æœºçš„ï¼Œä½†ç»è¿‡ä¸€ä¸ªæœ‹å‹çš„æ¨ä»‹ï¼Œæœ€ç»ˆæˆ‘é€‰æ‹©äº†æ˜Ÿé™…èœ—ç‰›æ­è½½ ArchLinux ä½œä¸º NAS ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;ç”±äºæ”¶åˆ°æ—¶åº—å®¶å·²ç»ä¸ºæˆ‘é¢„è£…å¥½ Synology (é»‘ç¾¤è¾‰ï¼‰äº†ï¼Œæœ¬æ¥ä¸å¤ªæ‰“ç®—æ€
      
    
    </summary>
    
    
      <category term="ArchLinux" scheme="https://a9032676.github.io/tags/archlinux/"/>
    
      <category term="NAS" scheme="https://a9032676.github.io/tags/nas/"/>
    
      <category term="ç¡¬ç›˜åˆ†åŒº" scheme="https://a9032676.github.io/tags/%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA/"/>
    
      <category term="ç³»ç»Ÿå®‰è£…" scheme="https://a9032676.github.io/tags/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ª Haskeller çš„èŒƒç•´è®ºå…¥å‘ç¬”è®° ç¬¬äºŒç« ï¼šå‡½æ•°ä¸èŒƒç•´å…³ç³»</title>
    <link href="https://a9032676.github.io/2019/07/20/Category-Theory-2/"/>
    <id>https://a9032676.github.io/2019/07/20/Category-Theory-2/</id>
    <published>2019-07-20T11:09:41.000Z</published>
    <updated>2020-10-28T01:25:42.326Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2><p>è¦è¯´åˆ°å‡½æ•°ä¸ç±»å‹ï¼Œåªè¦æ˜¯ä¸ªå†™å¸¦æœ‰ç±»å‹ç³»ç»Ÿçš„ç¼–ç¨‹è¯­è¨€ï¼Œéƒ½åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œå› ä¸ºæˆ‘ä»¬å¤©å¤©éƒ½ä¼šæ¥è§¦åˆ°ã€‚ä½†æ˜¯å¯¹äºåœ¨èŒƒç•´è®ºä¸Šï¼Œæˆ–æ›´å¹¿ä¹‰åœ°æˆ‘ä»¬æŒ‡åœ¨æ•°å­¦ä¸Šçš„å‡½æ•°ï¼Œä»¥åŠç±»å‹çš„æ¦‚å¿µï¼ˆå› ä¸ºæ•°å­¦ä¸Šç±»å‹ç›¸ç­‰äºåªæ˜¯é›†åˆï¼Œä¸‹é¢ä¼šæåŠï¼‰ï¼Œä»–ä»¬åˆæˆ–è®¸åˆæœ‰ä¸ä¸€æ ·çš„é¢è²Œå±•ç°åœ¨æˆ‘ä»¬çš„é¢å‰ã€‚</p><h2 id="å‡½æ•°function">å‡½æ•°ï¼ˆFunctionï¼‰</h2><p>å‡½æ•°åªæ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼ˆæˆ–è€…è¯´æ˜¯ä¸€ä¸ªé»‘ç®±ï¼‰ï¼Œå› ä¸ºå®ƒåªè´Ÿè´£æ¥å—æŸäº›å‚æ•°ï¼Œç„¶åå¤„ç†ï¼Œæœ€åè¿”å›ä¸€äº›è¿”å›å€¼ã€‚è¿™æˆ–è®¸æ˜¯å¤§éƒ¨åˆ†å†™å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€çš„äººå¿ƒä¸­å¯¹äºå‡½æ•°æ‰€ç†è§£çš„äº†ï¼Œå³ä½¿æ˜¯å¯¹äºä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹å¼€å‘çš„äººï¼Œå‡½æ•°çš„æ¦‚å¿µå¤šå¤šå°‘å°‘ä¸æ•°å­¦ä¸Šä¹Ÿæ˜¯æœ‰å‡ºå…¥çš„ã€‚æ­£å› ä¸ºåœ¨ä¸åŒé¢†åŸŸå¯¹å‡½æ•°çš„å®šä¹‰ä¸æ¦‚å¿µéƒ½ä¸ä¸€æ ·ï¼Œå› æ­¤å…ˆè®©æˆ‘ä»¬å®šä¹‰å‡½æ•°è¿™ä¸ªæ¦‚å¿µç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚</p><h3 id="æ¦‚å¿µ">æ¦‚å¿µ</h3><p>é¦–å…ˆæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹æˆ‘åœ¨èŒƒç•´è®ºä¸Šä¸€ç« å¯¹äºæ€å°„ï¼ˆMorphismï¼‰ä¸å¤åˆï¼ˆComposeï¼‰çš„æ¦‚å¿µï¼Œä¸”æˆ‘ä»¬å¾—çŸ¥æ€å°„å…¶å®æ˜¯å¯ä»¥è¢«ç›´æ¥ä½œä¸ºå‡½æ•°æ¥çœ‹å¾…çš„ï¼Œåœ¨è¿™é‡Œè¦å†è¡¥å……çš„æ˜¯ï¼šå¯¹è±¡ï¼ˆObjectï¼‰åœ¨æ€å°„è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä»…ä»…åªæ˜¯å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡åœ¨åŒæ—¶æ€å°„ï¼Œå°±ä¾‹å¦‚æˆ‘ä»¬åœ¨æ•°å­¦ä¸Šä¸ä»…å¯ä»¥å®šä¹‰ä¸¤ä¸ªæ•´æ•°ä¸ºå¯¹è±¡ï¼Œç„¶åæŠŠå®ƒä»¬ç›¸åŠ åœ¨ä¸€èµ·ï¼ˆåƒ <span class="math inline">\(5 + 8\)</span> è¿™æ ·ï¼‰ï¼Œè€ŒåŠ æ³•æœ¬èº«ä¹Ÿæ˜¯ä¸ªå‡½æ•°ï¼Œè€Œä¸”è¿™æ¡å‡½æ•°æœ¬èº«å¹¶ä¸ä»…èƒ½æ¥å— <span class="math inline">\(5\)</span> ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œç„¶åè¿”å› <span class="math inline">\(8\)</span>ï¼Œè€Œæ˜¯æ ¹æ®å…·ä½“è¿™æ¡å‡½æ•°çš„å®šä¹‰åŸŸï¼ˆDomainï¼‰æ¥å†³å®šæ‰€æ¥å—çš„å‚æ•°éƒ½æœ‰ä»€ä¹ˆï¼ˆä¾‹å¦‚åœ¨è¿™æˆ‘ä»¬è®¾ä¸º <span class="math inline">\(\forall x.x \in \mathbb Z\)</span>ï¼‰ï¼Œå†æŠŠé›†åˆå†…çš„æ‰€æœ‰æ•´æ•°åŠ ä¸Šå¦å¤–ä¸€ä¸ªæ•´æ•°ï¼ˆä¾‹å¦‚ <code>map (+3) [1,2,3]</code> æˆ– <span class="math inline">\(x + 3\)</span>ï¼‰ï¼Œæœ€åè¾“å‡ºåˆ°æ–°çš„é›†åˆ <span class="math inline">\(Y\)</span> ä¸Šï¼Œæ­£å¦‚ä¸‹å›¾è¿™æ ·ï¼š <figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/mapping-1.png" alt title>                </div>                <div class="image-caption"></div>            </figure> é›†åˆ <span class="math inline">\(X\)</span> æ˜¯ä½œä¸ºå®šä¹‰åŸŸï¼ˆDomainï¼‰å‡ºç°çš„ï¼Œç„¶åæˆ‘ä»¬æŠŠ <span class="math inline">\(X\)</span> å½“ä¸­çš„å…ƒç´ ç»™æ€å°„åˆ°é›†åˆ <span class="math inline">\(Y\)</span>ï¼Œå³åƒ / å€¼åŸŸï¼ˆImage / Rangeï¼‰ä¸Šï¼Œå› æ­¤ä½¿ç”¨æ˜ å°„å…³ç³»ä¹Ÿå¯ä»¥å…¬ç†åŒ–æˆè¿™æ ·ï¼š<span class="math inline">\(X \xrightarrow[f]{} Y\)</span>ã€‚</p><h3 id="å‡½æ•°å…³ç³»relationship-of-function">å‡½æ•°å…³ç³»ï¼ˆRelationship of functionï¼‰</h3><p>æ—¢ç„¶åœ¨æ¦‚å¿µä¸Šæˆ‘ä»¬æåˆ°ï¼Œå‡½æ•°ä¹‹é—´çš„å…³ç³»å¯ä»¥ä»¥é›†åˆæ˜ å°„çš„å½¢å¼è¡¨ç¤ºå‡ºæ¥ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥æ›´æ¸…æ™°åœ°æè¿°å…¶ä¸­çš„å…³ç³»ã€‚ä¸‹é¢æˆ‘ä»¬ä¸å¦¨æ¥ç²—ç•¥åœ°äº†è§£ä¸‹å‡½æ•°çš„æ˜ å°„å…³ç³»å§ï¼ˆè¯¦å°½çš„å®šä¹‰å¯ä»¥å‚è€ƒç»´åŸºï¼‰ã€‚</p><h4 id="é™ªåŸŸä¸å€¼åŸŸæˆ–åƒcodomain-and-rangeor-image">é™ªåŸŸä¸å€¼åŸŸï¼ˆæˆ–åƒï¼‰ï¼ˆCodomain and Rangeï¼ˆor Imageï¼‰ï¼‰</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/images/mapping-2.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>è¦è°ˆåŠåˆ°é™ªåŸŸçš„æ¦‚å¿µï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹å€¼åŸŸï¼ˆæˆ–åƒï¼‰çš„æ¦‚å¿µï¼Œå€¼åŸŸå°±ç›¸ç­‰äºå‡½æ•°å®é™…è¾“å‡ºçš„é›†åˆï¼Œä¾‹å¦‚æˆ‘ä»¬è¯´æœ‰ä¸€æ¡å‡½æ•° <span class="math inline">\(f : \mathbb Z \mapsto \mathbb Z\)</span>ï¼Œå®šä¹‰ä¸º <span class="math inline">\(f(x) = x + 2\)</span>ï¼Œè€Œå®šä¹‰åŸŸçš„åˆ™å–äº <span class="math inline">\([0,2]\)</span> åŒºé—´ä¹‹é—´ï¼Œå› æ­¤å¯¹äºç»™å®šçš„è¾“å…¥ <span class="math inline">\(0, 1, 2\)</span>ï¼Œå¯å¾—åˆ°å®é™…è¾“å‡º <span class="math inline">\(2, 3, 4\)</span>ï¼Œå®é™…ä¸Šè¿™äº›ä¹Ÿå°±æ˜¯å€¼åŸŸå†…çš„å¯¹è±¡ã€‚</p><p>é‚£ä¹ˆåŸ¹åŸŸï¼ˆCodomainï¼‰å‘¢ï¼Ÿå®ƒå…¶å®å°±ç›¸å½“äºä¸€ä¸ªäºä¸€ä¸ªå‡½æ•°çš„å¯èƒ½è¾“å‡ºèŒƒå›´ï¼Œé‚£ä»€ä¹ˆå« "å¯èƒ½è¾“å‡ºçš„èŒƒå›´" å‘¢ï¼Ÿç”±äºæˆ‘ä»¬ä¸Šé¢ç»™å®šçš„å®šä¹‰åŸŸåªæœ‰ <span class="math inline">\(0, 1, 2\)</span> è¿™ä¸‰ä¸ªæ•°ï¼Œä½†æˆ‘ä»¬åƒä¸‡ä¸èƒ½å¿½è§†é™¤äº†è¿™å‡ ä¸ªæ•°ä»¥å¤–ï¼Œå¯¹äºè¿™æ¡å‡½æ•°æ¥è®²å…¶å®æ˜¯å¯ä»¥æ¥å—å…¶ä»–æ•´æ•° <span class="math inline">\(x \in \mathbb Z\)</span> ä½œä¸ºè¾“å…¥çš„ï¼Œæ‰€ä»¥å…¶å®æˆ‘ä»¬å¯èƒ½è¿˜æœ‰ <span class="math inline">\({...,-3,-2,-1,0,1,2,3,...}\)</span> ç­‰ç­‰çš„ä½œä¸ºè¾“å…¥çš„é›†åˆï¼Œç„¶åå¯¹åº”çš„å¯èƒ½è¾“å‡ºä¹Ÿå°±æ˜¯åŸ¹åŸŸï¼ˆä¹Ÿæ˜¯å€¼åŸŸçš„è¶…é›†ï¼Œ<span class="math inline">\(Codomain \supseteq Range\)</span>ï¼‰äº†ã€‚</p><h4 id="å•å°„å‡½æ•°injective-function">å•å°„å‡½æ•°ï¼ˆInjective functionï¼‰</h4><p>ç›¸è¾ƒäºæ»¡å°„å‡½æ•°ï¼Œå•å°„å‡½æ•°ä¹Ÿå°±æ˜¯å•ç‹¬ï¼Œå•ä¸€çš„æ„æ€ï¼Œä¹Ÿå³æ˜¯å¯¹äºå®šä¹‰åŸŸæ‰€æœ‰çš„å¯¹è±¡ï¼Œå¹¶ä¸ä¼šæ˜ å°„åˆ°å€¼åŸŸä¸Šçš„æ‰€æœ‰å¯¹è±¡ï¼Œåªæœ‰éƒ¨åˆ†è¢«ä¸€ä¸€å¯¹åº”åœ°æ˜ å°„ã€‚æ¢å¥è¯è¯´å°±æ˜¯å€¼åŸŸä¸åŸ¹åŸŸåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ä¸ç›¸ç­‰çš„ï¼Œæ­¤æ—¶å€¼åŸŸå¿…ç„¶ä¼šå°äºåŸ¹åŸŸï¼ˆå¦‚æœç›¸ç­‰çš„è¯å°±å˜æˆæ»¡å°„å‡½æ•°äº†ï¼‰ã€‚</p><p>å…·ä½“å®šä¹‰ä¸ºï¼š è‹¥æ»¡è¶³ <span class="math inline">\(\forall x, y \in X, f(x) = f(y) \implies x = y\)</span>ï¼Œåˆ™ <span class="math inline">\(f : X \to Y\)</span> ä¸ºä¸€å•å°„å‡½æ•°ã€‚</p><h4 id="æ»¡å°„å‡½æ•°surjective-function">æ»¡å°„å‡½æ•°ï¼ˆSurjective functionï¼‰</h4><p>æ»¡å°„çš„å«ä¹‰ä¸ºå®Œæ»¡ï¼Œå®Œå…¨ï¼Œæ‰€æœ‰çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯æŒ‡å¯¹äºå€¼åŸŸä¸Šçš„æ‰€æœ‰å¯¹è±¡ï¼Œéƒ½å¿…å®šè‡³å°‘å­˜åœ¨ä¸€ä¸ªæ˜ å°„ç”±å®šä¹‰åŸŸæ˜ å°„è¿‡å»ï¼Œå› æ­¤æˆ‘ä»¬ "ä¸ä¼šé”™è¿‡" ä»»ä½•ä¸€ä¸ªè¾“å‡ºï¼Œå³ä¾¿å‡ºç°å¤šå¯¹ä¸€æ˜ å°„çš„æƒ…å†µã€‚æ‰€ä»¥è¯´å¯¹äºæ‰€æœ‰è¾“å‡ºä¸ä»…ä»…æ˜¯å¯èƒ½çš„ï¼Œè€Œä¸”æ˜¯å¿…ç„¶çš„ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯å€¼åŸŸä¼šç›´æ¥ç­‰åŒäºåŸ¹åŸŸã€‚</p><p>å…·ä½“å®šä¹‰ä¸ºï¼š è‹¥æ»¡è¶³ <span class="math inline">\(\forall y \in Y, \exists x \in X, f(x) = y\)</span>ï¼Œåˆ™ <span class="math inline">\(f : X \to Y\)</span> ä¸ºä¸€æ»¡å°„å‡½æ•°ã€‚</p><h4 id="åŒå°„å‡½æ•°bijective-function">åŒå°„å‡½æ•°ï¼ˆBijective functionï¼‰</h4><p>é€è¿‡è§‚å¯Ÿåœ¨æ¦‚å¿µä¸­ <span class="math inline">\(X \xrightarrow[f]{} Y\)</span> çš„ä¾‹å­æˆ‘ä»¬å¾—çŸ¥ï¼Œå·¦è¾¹çš„é›†åˆï¼ˆå®šä¹‰åŸŸï¼‰ä¸å³è¾¹é›†åˆï¼ˆåƒ / å€¼åŸŸï¼‰çš„å¯¹è±¡æ˜¯å…¨éƒ¨å¯¹åº”èµ·æ¥çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸Šé¢çš„å®šä¹‰åŸŸä¸º <span class="math inline">\(\forall x.x \in \mathbb Z\)</span>ï¼ˆä¹Ÿå°±æ˜¯å¯¹äºæ‰€æœ‰ <span class="math inline">\(x\)</span>ï¼Œå®ƒä»¬éƒ½å±äºæ•´æ•°è¿™ä¸ªé›†åˆï¼‰ï¼Œä¸”æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä¹Ÿå°±æ˜¯ <span class="math inline">\(1 \to 2\)</span>ï¼Œ<span class="math inline">\(2 \to 3\)</span>ï¼Œ<span class="math inline">\(3 \to 6\)</span> è¿™æ ·ï¼Œå®ƒä»¬å¹¶ä¸ä¼šå½¢æˆç±»ä¼¼å¤šå¯¹ä¸€ï¼Œä¸€å¯¹å¤šçš„å…³ç³»ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠè¿™ç§å…³ç³»ç§°ä¹‹ä¸ºåŒå°„ï¼ˆæ»¡å°„ä¸”å•å°„ï¼‰ã€‚</p><h4 id="åå‡½æ•°ä¸åŸåƒinverse-function-and-preimages">åå‡½æ•°ä¸åŸåƒï¼ˆInverse function and Preimagesï¼‰</h4><h5 id="å‡½æ•°å¯é€†æ€§function-invertibility">å‡½æ•°å¯é€†æ€§ï¼ˆFunction invertibilityï¼‰</h5><h4 id="å¹¶ä¸å±äºå‡½æ•°èŒƒç•´çš„æ€å°„å…³ç³»">å¹¶ä¸å±äºå‡½æ•°èŒƒç•´çš„æ€å°„å…³ç³»</h4><p>ä¸Šé¢å·²ç»åˆ—å‡ºéƒ¨åˆ†å‡½æ•°çš„åŸºç¡€å…³ç³»ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€äº› "å¾ˆåƒå‡½æ•°ä½†åˆå¹¶ä¸æ˜¯å‡½æ•°" çš„å‡½æ•°ã€‚</p><h5 id="å¤šå€¼å‡½æ•°multivalued-function">å¤šå€¼å‡½æ•°ï¼ˆMultivalued functionï¼‰</h5><p>ç”±äºæ•°å­¦ä¸Šå‡½æ•°çš„å®šä¹‰æ¯ä¸€ä¸ªè¾“å…¥éƒ½åªèƒ½å¤Ÿå¯¹åº”ä¸€ä¸ªè¾“å‡ºï¼Œè€Œå¤šå€¼å‡½æ•°ä¹Ÿå°±æ˜¯ä¸€å¯¹å¤šçš„å­—é¢æ„æ€ï¼Œæ‰€ä»¥å¤šå€¼å‡½æ•°å¹¶ä¸æ˜¯ä¸€æ¡å‡½æ•°ã€‚åœ¨æ•°å­¦ä¸Šæœ€æ˜¾ç„¶çš„ä¾‹å­å°±æ˜¯æ±‚æ ¹å…¬å¼å¾—å‡ºæ¥çš„ç»“æœæœ‰å¯èƒ½æ˜¯æ­£æˆ–è€…è´Ÿï¼Œå¦‚æœå¾—å‡ºæ¥çš„ç»“æœä¾‹å¦‚åªæœ‰ä¸€ä¸ªæ­£æ•´æ•°æˆ–è€…è´Ÿæ•´æ•°é‚£å°±æ˜¯å¾ˆæ­£å¸¸çš„ä¸€æ¡å‡½æ•°ï¼Œä½†è‹¥æœå¾—å‡ºæ¥çš„ç»“æœå¯èƒ½æ˜¯å‡ºç°å¤šä¸ªçš„ï¼Œä¾‹å¦‚ {<span class="math inline">\(-2, 2\)</span>}ï¼Œé‚£è¿™ä¸ªå°±æ˜¯å±äºå¤šå€¼å‡½æ•°äº†ã€‚è€Œä¹‹æ‰€ä»¥ä¸ºä»€ä¹ˆæˆ‘ä»¬çœ‹åˆ°å½“ä»Šè®¡ç®—æœºè¯­è¨€çš„å‡½æ•°å¹¶ä¸èƒ½ç›´æ¥æ‹¥æœ‰å¤šè¿”å›å€¼ï¼ˆé¡¶å¤šä¹Ÿåªèƒ½å¤Ÿè¿”å›ä¸€ä¸ª <code>Array</code> <code>List</code> <code>Tuple</code> <code>Pair</code> <code>Set</code> ä¹‹ç±»çš„å®¹å™¨ï¼‰ï¼Œç©¶å…¶åŸå› å…¶å®ä¹Ÿåœ¨è¿™é‡Œã€‚</p><h5 id="åå‡½æ•°partial-function">åå‡½æ•°ï¼ˆPartial functionï¼‰</h5><p>åå‡½æ•°æŒ‡çš„æ˜¯åœ¨å®šä¹‰åŸŸå†…ï¼Œæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡å¹¶æœªæ˜ å°„åˆ°å€¼åŸŸå†…ï¼Œè€Œè¿™ç§æƒ…å†µå°±å¥½æ¯”æˆ‘ä»¬æ—¥å¸¸å¼€å‘çš„æ—¶å€™ï¼Œå†™ä¸€æ¡å‡½æ•°ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä½†ç¬¬ä¸€ä¸ªå‚æ•°ä»å§‹è‡³ç»ˆéƒ½æœªåœ¨å‡½æ•°ä½“å†…è¢«é—´æ¥æˆ–ç›´æ¥åœ°å¼•ç”¨è¿‡ï¼Œä¹Ÿå°±æ˜¯ <code>Unused parameter</code>ï¼Œè¿™ç§çœ‹ä¼¼æ˜¯èƒ½å†™çš„å‡ºæ¥çš„å‡½æ•°å®é™…ä¸Šä¹Ÿå¹¶ä¸æ˜¯ä¸€æ¡å‡½æ•°ã€‚</p><h2 id="èŒƒç•´å…³ç³»category-relationship">èŒƒç•´å…³ç³»ï¼ˆCategory Relationshipï¼‰</h2><p>è¯·ä¸è¦å¿˜è®°æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œåœ¨ä¸Šé¢ä»‹ç»å®Œå‡½æ•°çš„åŸºæœ¬å…³ç³»ä¹‹åå¹¶ä¸æ˜¯ä»£è¡¨å°±ç»“æŸäº†ï¼Œé‚£ä»…ä»…åªæ˜¯å‡½æ•°ä¸Šå…³ç³»è€Œå·²ï¼Œè€Œæˆ‘ä»¬è¿˜æœ‰å¯¹äºèŒƒç•´è®ºå†…çš„æ€å°„å…³ç³»æ²¡è°ˆå‘¢ï¼æ‰€ä»¥ç°åœ¨è®©æˆ‘ä»¬æ¥å¼€å§‹ä¸€èµ·çœ‹çœ‹å§ã€‚</p><h3 id="åŒæ€homomorphism">åŒæ€ï¼ˆHomomorphismï¼‰</h3><p>åŒæ€å«ä¹‰ä¸º "ç›¸åŒçš„å½¢æ€"ï¼Œä¹Ÿå°±æ˜¯æŒ‡åœ¨æ˜ å°„æ—¶ä¿æŒä¸¤ä¸ªä»£æ•°ç»“æ„ä¸Šå®ƒä»¬ç›¸åŒå½¢æ€ä¸å˜ã€‚å¯¹äºå‡½æ•°ä¸Šæœ‰ä¸åŒç§ç±»çš„å‡½æ•°ç±»å‹ï¼ˆä¾‹å¦‚ä¸Šé¢å•å°„ / æ»¡å°„ / åŒå°„å‡½æ•°ç­‰ç­‰ï¼‰ï¼Œåœ¨èŒƒç•´è®ºä¸Šçš„æ€å°„ç§ç±»ä¹Ÿå°±è¢«ç§°ä¸ºåŒæ€äº†ã€‚</p><h3 id="å•åŒæ€monomorphismmonic">å•åŒæ€ï¼ˆMonomorphismï¼ˆMonicï¼‰ï¼‰</h3><p>å•åŒæ€åœ¨èŒƒç•´è®ºä¸Šçš„æ¦‚å¿µå‡ ä¹ç­‰åŒäºé›†åˆè®ºï¼ˆæˆ–é›†åˆèŒƒç•´ <span class="math inline">\(C_{Set}\)</span>ï¼‰çš„å•å°„å‡½æ•°ï¼Œå¯¹äºèŒƒç•´ <span class="math inline">\(C\)</span> å†…ï¼Œæˆ‘ä»¬æœ‰ <span class="math inline">\(g_x : C \to A\)</span> ä»¥åŠ <span class="math inline">\(f : A \to B\)</span>ï¼Œå¯¹äºæ€å°„ <span class="math inline">\(g_1, g_2\)</span>ï¼Œè‹¥å®ƒä»¬å‡ä¸ <span class="math inline">\(f\)</span> ç»“åˆï¼Œå³ <span class="math inline">\(f \circ g_1\)</span> ä¸ <span class="math inline">\(f \circ g_2\)</span> éšå«äº† <span class="math inline">\(g_1 = g_2\)</span>ï¼ˆè¿™é‡Œæˆ‘ä»¬å¯ä»¥å·¦æ¶ˆé™¤ï¼ˆLeft cancellableï¼‰<span class="math inline">\(f\)</span>ï¼Œåƒè¿™æ ·ï¼š<span class="math inline">\(\require{cancel} \cancel{f \circ} g_1 = \cancel{f \circ} g_2\)</span>ï¼‰ï¼Œæ»¡è¶³è¿™ä¸ªæ¡ä»¶æ—¶æˆ‘ä»¬ç§° <span class="math inline">\(A \rightarrowtail B\)</span> æ˜¯å•åŒæ€çš„ã€‚</p><h3 id="æ»¡åŒæ€epimorphismepic">æ»¡åŒæ€ï¼ˆEpimorphismï¼ˆEpicï¼‰ï¼‰</h3><p>æ»¡åŒæ€åœ¨èŒƒç•´è®ºä¸Šçš„æ¦‚å¿µå‡ ä¹ç­‰åŒäºé›†åˆè®ºï¼ˆæˆ–é›†åˆèŒƒç•´ <span class="math inline">\(C_{Set}\)</span>ï¼‰çš„æ»¡å°„å‡½æ•°ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¸å¦¨ä¹Ÿç»™å‡º <span class="math inline">\(f : A \to B\)</span> ä»¥åŠ <span class="math inline">\(g_x : B \to C\)</span>ï¼Œå¯¹äºæ€å°„ <span class="math inline">\(g_1\)</span>, <span class="math inline">\(g_2\)</span>ï¼Œè‹¥å®ƒä»¬å‡ä¸ <span class="math inline">\(f\)</span> ç»“åˆï¼Œå³ <span class="math inline">\(g_1 \circ f\)</span> ä¸ <span class="math inline">\(g_2 \circ f\)</span> éšå«äº† <span class="math inline">\(g_1 = g_2\)</span> ï¼ˆå› ä¸ºæˆ‘ä»¬å¯ä»¥å³æ¶ˆé™¤ï¼ˆRight cancellableï¼‰ <span class="math inline">\(f\)</span>ï¼Œåƒè¿™æ ·ï¼š<span class="math inline">\(g_1 \require{cancel} \cancel{\circ f} = g_2 \cancel{\circ f}\)</span>ï¼‰ï¼Œæ‰€ä»¥ <span class="math inline">\(A \twoheadrightarrow B\)</span> æ˜¯æ»¡åŒæ€çš„ã€‚</p><h3 id="åŒæ„isomorphism">åŒæ„ï¼ˆIsomorphismï¼‰</h3><p>åŒæ„çš„çš†æŒ‡åœ¨èŒƒç•´åœ¨æ€å°„ä¹‹é—´ä¿æŒäº†ä¸å˜çš„ç»“æ„ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ä¸€æ ·çš„ç»“æ„ï¼Œå‡è®¾æˆ‘ä»¬æœ‰æ€å°„ <span class="math inline">\(f : A \to B\)</span>ï¼Œè‹¥è¿™ä¸ªæ€å°„æ˜¯åŒæ„å…³ç³»ï¼Œé‚£ä¹ˆå®ƒè‚¯å®šä¿ç•™äº†å¯é€†ä»¥åŠå¯¹ç§°æ€§ï¼Œæ‰€ä»¥æœ‰ <span class="math inline">\(g : B \to A\)</span>ã€‚è€Œå› æ¯ä¸ªå¯¹è±¡æœ¬èº«éƒ½å­˜åœ¨å•ä½å…ƒï¼Œä¾‹å¦‚æ¯æ¬¡å½“ <span class="math inline">\(g \circ f\)</span> ç»•å›æ¥çš„æ—¶å€™å…¶å®ä¹Ÿå°±ç­‰åŒäº <span class="math inline">\(id_A\)</span>ï¼Œå› æ­¤ä¿æœ‰å¦‚ä¸‹æ€§è´¨ï¼š<span class="math inline">\(g \circ f = id_A\)</span> ä»¥åŠ <span class="math inline">\(f \circ g = id_B\)</span>ã€‚</p><p>è€Œåœ¨ Haskell ä¸­æˆ‘ä»¬èƒ½å¾ˆç®€å•çš„å®šä¹‰ä¸€ä¸ªç±»å‹è¡¨ç¤ºåŒæ„å…³ç³»ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type ISO a b = (a -&gt; b, b -&gt; a)</span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>æœ¬ç¯‡ç•¥ç•¥ä»‹ç»äº†ä¸€äº›ç®€å•çš„åŸºç¡€å‡½æ•°ä¸åŒæ€çš„å…³ç³»ï¼Œæ‰€ä»¥å½“ç„¶å…³ç³»æ˜¯ä¸æ­¢è¿™ä¹ˆä¸€ç‚¹çš„ï¼Œåç»­ä¼šæ…¢æ…¢æåŠåˆ°ã€‚è€Œäº†è§£æ¸…æ¥šè¿™äº›å…³ç³»ä¹‹ååœ¨å†™ä»£ç æ—¶ä¹Ÿæœ‰åŠ©äºçœ‹æ¸…æ¥šå‡½æ•°èƒŒåçš„ç»†èŠ‚ä¸ä½œç”¨ï¼Œä½¿é€»è¾‘æ¡ç†æ›´ä¸ºæ¸…æ™°ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;è¦è¯´åˆ°å‡½æ•°ä¸ç±»å‹ï¼Œåªè¦æ˜¯ä¸ªå†™å¸¦æœ‰ç±»å‹ç³»ç»Ÿçš„ç¼–ç¨‹è¯­è¨€ï¼Œéƒ½åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œå› ä¸ºæˆ‘ä»¬å¤©å¤©éƒ½ä¼šæ¥è§¦åˆ°ã€‚ä½†æ˜¯å¯¹äºåœ¨èŒƒç•´è®ºä¸Šï¼Œæˆ–æ›´å¹¿ä¹‰åœ°æˆ‘ä»¬æŒ‡åœ¨æ•°å­¦ä¸Šçš„å‡½æ•°ï¼Œä»¥åŠç±»å‹çš„æ¦‚å¿µï¼ˆå› ä¸ºæ•°å­¦ä¸Šç±»å‹ç›¸ç­‰äºåªæ˜¯é›†åˆï¼Œä¸‹é¢ä¼šæåŠï¼‰ï¼Œä»–ä»¬åˆæˆ–è®¸åˆæœ‰ä¸ä¸€æ ·çš„é¢è²Œå±•ç°åœ¨
      
    
    </summary>
    
    
      <category term="èŒƒç•´è®º" scheme="https://a9032676.github.io/tags/%E8%8C%83%E7%95%B4%E8%AE%BA/"/>
    
      <category term="å‡½æ•°å¼ç¼–ç¨‹" scheme="https://a9032676.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ª Haskeller çš„èŒƒç•´è®ºå…¥å‘ç¬”è®° ç¬¬ä¸€ç« : å¤åˆçš„æœ¬è´¨</title>
    <link href="https://a9032676.github.io/2019/07/19/Category-Theory-1/"/>
    <id>https://a9032676.github.io/2019/07/19/Category-Theory-1/</id>
    <published>2019-07-19T11:13:32.000Z</published>
    <updated>2021-03-02T06:07:02.400Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨å…¥å‘æ¥è§¦ Haskell ä¸€æ®µæ—¶é—´åï¼Œç¢°åˆ°å¾ˆå¤šç±»ä¼¼ <code>Functor</code> <code>Applicative</code> <code>Monad</code> ç­‰ç­‰è¿™äº›è¯¸å¦‚æ­¤ç±»çš„ "é­”æ³•"ï¼Œè™½ç„¶æœ‰æ—¶å€™ç”¨æ˜¯ä¼šç”¨äº†ï¼Œåˆ©ç”¨å„ç§è‡ªå®šä¹‰çš„ Monad instance ä¹Ÿå®é™…ä¼˜åŒ–äº† FP ï¼ˆFunctional Programmingï¼‰ å·¥ç¨‹ä¸Šçš„ä»£ç ï¼Œä½†æ˜¯å›å¤´ä¸€çœ‹ Monadï¼ˆå•å­ï¼‰è¿™ä¸ªç¥å¥‡çš„è¯ï¼Œä»”ç»†æƒ³æƒ³åˆå¹¶ä¸è¿™ä¹ˆç®€å•èƒ½å¤Ÿè§£é‡Šï¼Œä¸€æŸ¥å‘ç°å…¶ä¸­åˆç‰µæ¶‰å‡º <code>Monoidï¼ˆä¹ˆåŠç¾¤ï¼‰</code> <code>Semigroupï¼ˆåŠç¾¤ï¼‰</code> ç­‰ç­‰è¿™äº›ç¾¤è®ºä»¥è‡³äºèŒƒç•´è®ºä¸Šçš„æ¦‚å¿µå‡ºæ¥ã€‚äºæ˜¯ä¹ä¸ºäº†èƒ½å¤Ÿå½»åº•å¼„æ¸…æ¥šè¿™ä¸€å¤§å †ä¸œè¥¿ä»¥åŠæ»¡è¶³å¥½å¥‡å¿ƒï¼ˆé¡ºä¾¿è®°å½•ä¸‹å­¦ä¹ çš„è¿‡ç¨‹ï¼‰ï¼Œç‰¹æ„å¼€äº†æœ¬ç¯‡ä½œä¸ºå­¦ä¹ ç¬”è®°ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿè®°å½•è¿™ä¸ªå…¥å‘ çŒ«è®º ï¼ˆCategory Theoryï¼‰ åˆ°å…¥åœŸçš„å¿ƒè·¯å†ç¨‹ï¼ˆç¬‘ã€‚</p><h2 id="æ¦‚å¿µconcept">æ¦‚å¿µï¼ˆConceptï¼‰</h2><blockquote><p>ç ”ç©¶èŒƒç•´å°±æ˜¯è¯•å›¾ä»¥â€œå…¬ç†åŒ–â€çš„æ–¹æ³•æŠ“ä½åœ¨å„ç§ç›¸å…³è¿çš„â€œæ•°å­¦ç»“æ„â€ä¸­çš„å…±åŒç‰¹æ€§ï¼Œå¹¶ä»¥ç»“æ„é—´çš„â€œç»“æ„ä¿æŒå‡½æ•°â€å°†è¿™äº›ç»“æ„ç›¸å…³èµ·æ¥ã€‚å› æ­¤ï¼Œå¯¹èŒƒç•´è®ºç³»ç»ŸåŒ–çš„ç ”ç©¶å°†å…è®¸ä»»ä½•ä¸€ä¸ªæ­¤ç±»æ•°å­¦ç»“æ„çš„æ™®éç»“è®ºç”±èŒƒç•´çš„å…¬ç†ä¸­è¯å‡ºã€‚</p></blockquote><p>èŒƒç•´è®ºè¿™é—¨å­¦é—®ï¼Œè™½ç„¶åˆ†ç±»ä¸Šæ˜¯å±äºæ•°å­¦çš„åŸºç¡€å†…å®¹ï¼Œä½†ä¸ªäººï¼ˆä»¥ä½œä¸º Haskeller çš„è§’åº¦ï¼‰åå€’è§‰å¾—åƒæ˜¯ä¸€é—¨ "æ•°å­¦ä¸Šçš„æŠ½è±¡è¯­è¨€"ã€‚å°±å¦‚åŒä¸Šé¢å¼•æ–‡æåŠï¼šå®ƒè´Ÿè´£å¯¹æ•°å­¦ç»“æ„ä¸­çš„å…±åŒç‰¹æ€§ï¼ŒåŠ ä»¥å…¬ç†åŒ–çš„å½¢å¼æŠŠè¿™ä¸€ä¸ªä¸ªçš„æ•°å­¦ç»“æ„è¿æ¥èµ·æ¥ã€‚ä¸¾ä¸ªä¾‹å­ï¼šå°±å¦‚åŒæ•°å­¦ä¸Šæœ€ç®€å•çš„åŠ å‡ä¹˜é™¤è¿™äº› "äºŒå…ƒè¿ç®—"ï¼Œå‡èƒ½è¢«è§†ä¸ºæ˜¯ä¸€ç§è¿æ¥ä¸¤ä¸ªæ•°å­¦ç»“æ„ä¹‹é—´çš„ä¸€ä¸ªå…¬ç†åŒ–çš„è¿æ¥ï¼Œå› æ­¤æ‰è¢«ç§°ä¸º "äºŒå…ƒè¿ç®—"ã€‚</p><h2 id="å¯¹è±¡ä¸æ€å°„object-and-morphism">å¯¹è±¡ä¸æ€å°„ï¼ˆObject and Morphismï¼‰</h2><p>é€šä¿—åœ°è®²ï¼Œä¸€ä¸ªæœ€ç®€å•çš„èŒƒç•´ç»“æ„å¯ä»¥ç”±ä¸€ä¸ª <code>å¯¹è±¡ï¼ˆObjectï¼‰</code> ä¸ <code>æ€å°„ï¼ˆMorphismï¼‰</code> å¤åˆè€Œæˆçš„ï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼ˆä¾‹å¦‚ä¸€ä¸ªè‡ªç„¶æ•°æˆ–æ˜¯ä¸ªè‹±æ–‡å­—æ¯ç­‰ç­‰ï¼‰ï¼Œè€Œæ€å°„å°±ç›¸ç­‰äºå¯¹è±¡å˜æ¢çš„è¿‡ç¨‹ï¼Œç„¶åæŠŠä¸€ä¸ªä¸ªå¯¹è±¡ä¹‹é—´åƒæ˜¯åŠ ä¸Šäº†ä¸€ä¸ªä¸ªç®­å¤´ï¼ˆArrowï¼‰ä¸€æ ·å°†å®ƒä»¬é€ä¸€è¿æ¥èµ·æ¥ï¼Œé¦–å…ˆç”±å¯¹è±¡ <span class="math inline">\(a\)</span> æ€å°„åˆ°å¯¹è±¡ <span class="math inline">\(b\)</span> ï¼Œæœ€ç»ˆç”±å¯¹è±¡ <span class="math inline">\(b\)</span> å†æ€å°„åˆ°å¯¹è±¡ <span class="math inline">\(c\)</span>ï¼Œæ­£å¦‚è¿™æ ·ï¼š<span class="math display">\[ a \to b \to c \]</span> ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°ä¼¼ä¹å°±åªæ˜¯åŠ ä¸Šäº†ç®­å¤´ä½œä¸ºå¯¹è±¡ä¹‹é—´çš„è¿æ¥ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå¯¹è±¡ï¼Œä¸¤æ¬¡æ€å°„çš„èŒƒç•´äº†ã€‚</p><h2 id="æ€å°„å¤åˆcomposition">æ€å°„å¤åˆï¼ˆCompositionï¼‰</h2><p>ç°åœ¨æˆ‘ä»¬è¦æåŠåˆ°å¦ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼š<code>å¤åˆï¼ˆCompositionï¼‰</code>ã€‚ä¸Šé¢å¯¹è±¡ä¸æ€å°„çš„å°ç« èŠ‚å·²ç»ä¸¾å‡ºäº†ä¸€ä¸ªç®€å•çš„èŒƒç•´ä¾‹å­ï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥ä¸ºä¸Šé¢çš„æ€å°„ç»™å‘½åä¸€ä¸‹ï¼Œä¾‹å¦‚æ”¹æˆè¿™æ ·ï¼š<span class="math display">\[ a \xrightarrow[f]{} b \xrightarrow[g]{} c \]</span> äºæ˜¯ä¹ç°åœ¨ä¼šæ›´åŠ ç›´è§‚åœ°çœ‹åˆ°æ€å°„çš„åå­—äº†ï¼Œæˆ‘ä»¬è®¾å¯¹è±¡ <span class="math inline">\(a\)</span> åˆ° <span class="math inline">\(b\)</span> çš„æ€å°„ç§°ä¸º <span class="math inline">\(f\)</span> ï¼Œè€Œä»å¯¹è±¡ <span class="math inline">\(b\)</span> åˆ° <span class="math inline">\(c\)</span> çš„æ€å°„ä¸º <span class="math inline">\(g\)</span>ï¼Œæœ€ç»ˆç”±äºå¯¹è±¡ <span class="math inline">\(a\)</span> <span class="math inline">\(b\)</span> <span class="math inline">\(c\)</span> ä¼šé€è¿‡æ€å°„å½¢æˆä¸€ä¸ªå…·å¤‡å¯ä¼ é€’æ€§è´¨çš„èŒƒç•´ï¼Œå¯¹è±¡ <span class="math inline">\(a\)</span> æ€å°„åˆ° <span class="math inline">\(c\)</span> çš„æ—¶å€™å°±ä¼šå½¢æˆä¸€ä¸ªæ€å°„çš„å¤åˆï¼ˆComposition of morphismï¼‰ï¼Œå› æ­¤å¯ä»¥æ¼”å˜æˆè¿™æ ·ï¼š<span class="math display">\[ a \xrightarrow[g \circ f]{} c \]</span> æˆ‘ä»¬çœ‹åˆ°ä¸Šé¢ç”± <span class="math inline">\(a\)</span> åˆ° <span class="math inline">\(c\)</span> çš„è¿‡ç¨‹å®é™…å°±æ˜¯æŠŠ æ€å°„ <span class="math inline">\(g\)</span> å’Œ <span class="math inline">\(f\)</span> ç»™å¤åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„å¤åˆæ€å°„ï¼Œç§°ä¹‹ä¸º <span class="math inline">\(g \circ f\)</span>ã€‚</p><h3 id="åœ¨-haskell-ä¸Šçš„å‡½æ•°å¤åˆ">åœ¨ Haskell ä¸Šçš„å‡½æ•°å¤åˆ</h3><p>ä¼—æ‰€å‘¨çŸ¥å¾ˆå¤šå›¾çµå®Œå…¨çš„ç¼–ç¨‹è¯­è¨€ä¸Šï¼Œå‡½æ•°ä¸ä»…ä»…åªèƒ½æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªè¿”å›å€¼ï¼Œè€Œæ˜¯å¯ä»¥åœ¨æ»¡è¶³ä¸‹åˆ—è‡³å°‘ä»»ä¸€æ¡ä»¶ï¼š 1. ä¸€ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºè¾“å…¥ 2. è¾“å‡ºä¸€ä¸ªå‡½æ•°</p><p>çš„æƒ…å†µä¸‹ï¼Œä½œä¸ºä¸€ä¸ªæ™®é€šå‡½æ•°ä½¿ç”¨ï¼Œè€Œè¿™ä¸€æ¦‚å¿µä¹Ÿå°±æ˜¯ä¸ºäººç†ŸçŸ¥çš„ <code>é«˜é˜¶å‡½æ•°ï¼ˆHigher-order functionï¼‰</code>ã€‚é‚£ä¹ˆå½“ç„¶åœ¨ Haskell ä¸­ä¹Ÿä¸ä¾‹å¤–ï¼Œæ¯”æ–¹è¯´æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤æ¡å‡½æ•°ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">trim  :: String -&gt; String</span><br><span class="line">lower :: String -&gt; String</span><br></pre></td></tr></table></figure></p><p>åˆ†åˆ«æ˜¯é¦–å…ˆå¯¹å­—ç¬¦ä¸²æ¸…é™¤ç©ºæ ¼å’Œåç»­çš„æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå…¨å°å†™çš„å‡½æ•°ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ç®€å•åœ°æŠŠå®ƒä»¬å¤åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå¤åˆå‡½æ•°ï¼Œåœ¨ Haskell é‡Œé¢ä»¥ Point-free å½¢å¼å†™å‡ºæ¥çš„ä»£ç å¤§æ¦‚åƒæ˜¯è¿™æ ·ï¼š<code>lower . trim</code>ï¼Œå°±å·²ç»æˆä¸ºäº†ä¸€ä¸ªç®€å•çš„å‡½æ•°å¤åˆäº†ï¼</p><h2 id="å¤åˆçš„ç‰¹æ€§properties-of-composition">å¤åˆçš„ç‰¹æ€§ï¼ˆProperties of Compositionï¼‰</h2><p>å¤åˆï¼ˆCompositionï¼‰æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§ï¼Œåœ¨ä»»ä½•èŒƒç•´å†…éƒ½å¿…é¡»æ»¡è¶³è¿™äº›ç‰¹æ€§ï¼Œæ‰èƒ½è¢«ç§°ä¹‹ä¸ºå¤åˆã€‚</p><h3 id="ç»“åˆå¾‹associative-property">ç»“åˆå¾‹ï¼ˆAssociative Propertyï¼‰</h3><p>å¤åˆæ˜¯å¯ç»“åˆçš„ï¼Œä¹Ÿå°±æ˜¯æŒ‡å‡ºä¸€ä¸ªäºŒå…ƒè¿ç®—ï¼ˆè¿™é‡Œæ˜¯å¤åˆï¼‰åªè¦å®ƒä»¬ç®—å­ï¼ˆæ€å°„ï¼‰çš„ä½ç½®æ²¡æœ‰è¢«æ”¹å˜ï¼Œé‚£å°±ä¸ä¼šå¯¹æ•´ä¸ªå¤åˆè¿‡ç¨‹çš„ç»“æœäº§ç”Ÿå½±å“ï¼Œä¹Ÿå°±æ˜¯å³ä½¿æˆ‘ä»¬ç»™å¤åˆåŠ ä¸Šæ”¹å˜ä¼˜å…ˆçº§çš„è¿ç®—ç¬¦ï¼ˆä¾‹å¦‚æ‹¬å·ï¼‰ï¼Œä¹Ÿå¹¶ä¸ä¼šæ”¹å˜æ•´ä¸ªè¿‡ç¨‹çš„ç»“æœã€‚ç°åœ¨ç»™å‡ºä¸‰ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ <span class="math inline">\(f\)</span>ï¼Œ<span class="math inline">\(g\)</span>ï¼Œ<span class="math inline">\(h\)</span>ã€‚ç„¶åæŠŠå®ƒä»¬å¤åˆåˆ°ä¸€èµ·ï¼š<span class="math display">\[(h \circ g) \circ f = h \circ (g \circ f) = h \circ g \circ f\]</span> æœ€ç»ˆå¯ä»¥çœ‹å‡ºå®ƒä»¬çš„ç»“æœå‡æ˜¯æ’ç­‰çš„ã€‚</p><h3 id="å•ä½å…ƒidentity">å•ä½å…ƒï¼ˆIdentityï¼‰</h3><p>å•ä½å…ƒå°±å¦‚åŒä¸€ä¸ªç‰¹æ®Šçš„å•ä½ï¼ˆUnitï¼‰ï¼Œä»»ä½•å¯¹è±¡ä¸å…¶å¤åˆç»“æœéƒ½ä¼šè¿”å›å¯¹è±¡è‡ªèº«ï¼š<span class="math display">\[ a \xrightarrow[id_a]{} a \]</span> <span class="math display">\[f \circ id_a = id_a \circ f = f \]</span> ä½†è¦åˆ‡è®°ï¼Œä¸Šé¢çš„å•ä½å…ƒ <span class="math inline">\(id_A\)</span> ä¾æ—§æ˜¯ä¸€ç§æ€å°„ï¼Œåªä¸è¿‡å¤åˆåçš„ç»“æœè¿˜æ˜¯è½å…¥äº†ä¸ <span class="math inline">\(f\)</span> åŒä¸€ä¸ªèŒƒç•´å†…ã€‚å°±å¦‚åŒ <span class="math inline">\(2 \times 1\)</span>ä¸€æ ·ï¼ˆ<span class="math inline">\(1\)</span> æ˜¯ä¹˜æ³•å•ä½å…ƒï¼‰ï¼Œå®ƒçš„è¿ç®—ç»“æœæ°¸è¿œéƒ½åªä¼šæ˜¯æ•´æ•°ï¼ˆè¿™é‡Œçš„èŒƒç•´å¯ä»¥æ˜¯æ•´æ•°ä¹˜æ³•ç¾¤ï¼Œä¸”ç¾¤è®ºä¸Šå·²å®šä¹‰äº†å°é—­æ€§ï¼Œæ‰€ä»¥ç»“æœä¸ä¼šæ˜¯å…¶ä»–ä»€ä¹ˆåƒæ˜¯å­—ç¬¦ä¸²ï¼Œå…¶ä»–ç±»å‹çš„è‡ªç„¶æ•°ç­‰ç­‰çš„è¿™ç±»ä¸œè¥¿ï¼‰ï¼Œä¸”æœ€ç»ˆå®ƒè¿ç®—å¾—å‡ºæ¥çš„ç»“æœéƒ½ä¼šæ˜¯ç­‰äº <span class="math inline">\(2\)</span>ï¼Œä¹Ÿå°±æ˜¯ç­‰äºè‡ªèº«ï¼Œå› æ­¤ <span class="math inline">\(1\)</span> ä¾¿ç¬¦åˆäº†ä½œä¸ºä¹˜æ³•å•ä½å…ƒçš„ç‰¹æ€§ã€‚</p><h2 id="å¤åˆçš„å“²å­¦philosophy-of-composition">å¤åˆçš„å“²å­¦ï¼ˆPhilosophy of Compositionï¼‰</h2><p>è¦è®²åˆ°å¤åˆçš„æœ¬è´¨ï¼Œå®ƒä¸ä»…ä»…åªæ˜¯åœ¨ ç‰©ç†å­¦ / æ•°å­¦ é¢†åŸŸä¸‹æŸäº›åˆ†æ”¯çš„æ¦‚å¿µï¼Œæˆ–æ˜¯å‡½æ•°å¼ç¼–ç¨‹é¢†åŸŸå…¬ç†åŒ–æˆ–ç®€åŒ–å®é™…é—®é¢˜çš„ "ä¸œè¥¿"ã€‚ä»è®¡ç®—æœºçš„è§’åº¦å‡ºå‘çš„è¯ï¼Œå®ƒè¡¨ç¤ºæˆä¸€ä¸ªä¸ªçš„è¿‡ç¨‹ï¼Œä¾‹å¦‚è¯´å®é™…ç¼–å†™ Haskell / Java / C++ ç­‰ç­‰è¿™äº› Higher-Level ç¼–ç¨‹è¯­è¨€çš„ä»£ç ï¼Œç»è¿‡ç¼–è¯‘è¿™ä¸ªè¿‡ç¨‹ï¼Œå®é™…ä¸Šçœ‹ä¼¼ä¹Ÿå¾ˆç±»ä¼¼äºæ€å°„è¿™ä¸ªæ¦‚å¿µï¼Œç„¶åæŠŠè¿™äº›ä»£ç  "è‡ªç„¶è½¬æ¢" ä¸ºæœºå™¨è¯»çš„æ‡‚çš„ä¸œè¥¿ï¼Œæœ€ç»ˆå†ç”±æ‰¿è½½æ‰§è¡Œè¯¥è¯­è¨€çš„è™šæ‹Ÿæœºï¼Œæˆ–è€…æ˜¯ Runtime è´Ÿè´£è¿è¡Œï¼Œè¿™ä¸€ç³»åˆ—çš„è¿‡ç¨‹è¿æ¥èµ·æ¥ä¹Ÿå°±å½¢æˆäº†ä¸€ä¸ªå¤åˆï¼Œè€Œè¿™ä¸ªå¤åˆæœ€ç»ˆä»£è¡¨çš„å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„èŒƒç•´ï¼Œç”šè‡³æŸç§ç¨‹åº¦ä¸Šæˆ‘ä»¬å¯ä»¥è¯´æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»é‡åˆ°çš„å„ç§äº‹æƒ…éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªèŒƒç•´ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªé›†åˆã€‚èŒƒç•´æœ¬èº«ä¸ä»…å¯ä»¥è¢«å½“æˆä¸€ä¸ªåˆ†ç±»ï¼Œè€Œä¸”ä»–è¿˜å¯ä»¥æŠŠå¤šä¸ªå°åˆ†ç±»ç»™ "è¿æ¥" èµ·æ¥ï¼Œè§£å†³ä¸€ä¸ªå¾ˆå¤æ‚å¾ˆå›°éš¾çš„äº‹ã€‚åœ¨è®¡ç®—æœºé¢†åŸŸæœ€ä¸ºç›´æ¥çš„ä¾‹å­å°±æ˜¯ç°ä»£ CPU çš„æ¶æ„ï¼Œå…¶é€»è¾‘æˆ–çº¿è·¯å¸ƒå±€å¤æ‚ç¨‹åº¦æ˜¾ç„¶ç›¸å½“çš„é«˜ï¼Œä½†è¿˜æ˜¯åˆ†å‡ºäº† ALUï¼ŒCUï¼Œå¯„å­˜å™¨ï¼Œå„ç§æ€»çº¿ ç­‰ç­‰çš„è¿™äº›æ¦‚å¿µï¼Œç„¶åæŠŠå®ƒä»¬å¤åˆåœ¨ä¸€èµ·è¿è¡Œã€‚å…¶æ¬¡ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ—¥å¸¸ç¼–å†™ä»£ç æ—¶ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·åŒ–ç®€å½’çº³æˆä¸€ä¸ªä¸ªèŒƒç•´çš„æ¦‚å¿µï¼Œé‚£ä¹ˆç°åœ¨çš„ç¨‹åºå‘˜å¯èƒ½æ¯æ—¶æ¯åˆ»éƒ½åªèƒ½ç”¨äºŒè¿›åˆ¶å»ç¼–å†™ç¨‹åºäº†ï¼Œå¯¼è‡´ç¼–å†™ä¸€ä¸ªç¨‹åºçš„é—¨æ§›ä¸çŸ¥é“é«˜äº†å¤šå°‘å¤šå°‘ï¼Œè®¡ç®—æœºé¢†åŸŸçš„å‘å±•ä¹Ÿå°±ååˆ†å±€é™äº†ã€‚</p><h2 id="æ€»ç»“conclusion">æ€»ç»“ï¼ˆConclusionï¼‰</h2><p>ä»¥ä¸Šä¾¿æ˜¯æœ¬ç« èŠ‚çš„å†…å®¹äº†ï¼Œæœ¬ç¯‡ä½œä¸ºç¬¬ä¸€èŠ‚å¯èƒ½ä¼šè¾ƒå°‘è®²è¿°å®è´¨åœ¨èŒƒç•´è®ºä¸Šçš„å†…å®¹ï¼Œè€Œæ¦‚å¿µè¾ƒå¤šä¹Ÿæ˜¯ä¸ºäº†å¸®åŠ©è‡ªå·±å’Œè¯»è€…èƒ½å¤Ÿç†è§£åŠå­¦ä¹ åˆ°èŒƒç•´è®ºä¸Šçš„æ¦‚å¿µï¼Œä½œä¸ºæ—¥åæ·±å…¥èŒƒç•´è®ºçš„ä¸€ä¸ªå«è„šçŸ³ã€‚</p><h2 id="å¤–éƒ¨é“¾æ¥outside-links">å¤–éƒ¨é“¾æ¥ï¼ˆOutside Linksï¼‰</h2><p>æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒæˆ–å¼•ç”¨è‡³ä¸‹åˆ—ç½‘é¡µï¼Œä¹Ÿå¯ä¾›ä½œä¸ºé¢å¤–çš„å»¶ä¼¸èµ„æºå¸®åŠ©é˜…è¯»ï¼š</p><ul><li><a href="https://zh.wikipedia.org/wiki/%E8%8C%83%E7%95%B4%E8%AE%BA" target="_blank" rel="noopener">èŒƒç•´è®º - Wikipedia</a></li><li><a href="https://bartoszmilewski.com/2014/11/04/category-the-essence-of-composition/" target="_blank" rel="noopener">Category: The Essence of Composition - Bartosz Milewski</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨å…¥å‘æ¥è§¦ Haskell ä¸€æ®µæ—¶é—´åï¼Œç¢°åˆ°å¾ˆå¤šç±»ä¼¼ &lt;code&gt;Functor&lt;/code&gt; &lt;code&gt;Applicative&lt;/code&gt; &lt;code&gt;Monad&lt;/code&gt; ç­‰ç­‰è¿™äº›è¯¸å¦‚æ­¤ç±»çš„ &quot;é­”æ³•&quot;ï¼Œè™½ç„¶æœ‰æ—¶å€™ç”¨æ˜¯ä¼šç”¨äº†ï¼Œåˆ©ç”¨å„ç§è‡ªå®šä¹‰çš„ Monad inst
      
    
    </summary>
    
    
      <category term="èŒƒç•´è®º" scheme="https://a9032676.github.io/tags/%E8%8C%83%E7%95%B4%E8%AE%BA/"/>
    
      <category term="å‡½æ•°å¼ç¼–ç¨‹" scheme="https://a9032676.github.io/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Codewars: Haskell Five Fundamental Monads</title>
    <link href="https://a9032676.github.io/2019/06/24/Codewars-Five-Fundamental-Monads/"/>
    <id>https://a9032676.github.io/2019/06/24/Codewars-Five-Fundamental-Monads/</id>
    <published>2019-06-24T11:32:13.000Z</published>
    <updated>2019-06-25T13:24:24.478Z</updated>
    
    <content type="html"><![CDATA[<p>This kata corresponds to <a href="https://www.codewars.com/kata/547202bdf7587835d9000c46" target="_blank" rel="noopener">Five-Fundamental-Monads</a> in Codewars Difficulty: 4 kyu Tags: <code>FUNDAMENTALS</code> <code>MONADS</code> <code>DATA STRUCTURES</code> <code>FUNCTIONAL PROGRAMMING</code></p><h2 id="questions">Questions</h2><p>In this kata we will implement five of the most fundamental monads.</p><p>Newcomers to Haskell find monads to be one of the most intimidating concepts but on a basic level - they are not too difficult to understand.</p><p>A datatype forms a monad if it is possible to complete the following definitions such that the monad laws (described below) hold. There's nothing more to it! For a more intuitive understanding then there are a plethora of tutorials which use (sometimes wild) analogies to explain this concept. <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class Monad m where</span><br><span class="line">    return :: a -&gt; m a</span><br><span class="line">    (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b</span><br></pre></td></tr></table></figure></p><p>Monad laws <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">return x &gt;&gt;= f = f x</span><br><span class="line">m &gt;&gt;= return = m</span><br><span class="line">(m &gt;&gt;= f) &gt;&gt;= g = m &gt;&gt;= (\x -&gt; f x &gt;&gt;= g)</span><br></pre></td></tr></table></figure></p><p>It turns out that many different types of computation can be encapsulated by monads. For example the Maybe monad encapsulates a computation which can fail and State a computation with mutable state.</p><p>The five we will implement here are <code>Identity</code>, <code>Maybe</code>, <code>State</code>, <code>Writer</code> and <code>Reader</code>.</p><p>Hint: https://www.haskell.org/haskellwiki/Monad_tutorials_timeline</p><p>Note: Please feel free to contribute!</p><h2 id="sources-code">Sources Code</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&#123;-# LANGUAGE NoImplicitPrelude #-&#125;</span><br><span class="line">module Monads where</span><br><span class="line"></span><br><span class="line">import Prelude hiding (Monad, Identity, Maybe(..), State, Reader, Writer)</span><br><span class="line">import Data.Monoid</span><br><span class="line"></span><br><span class="line">class Monad m where</span><br><span class="line">  return :: a -&gt; m a</span><br><span class="line">  (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b</span><br><span class="line"></span><br><span class="line">data Identity a = Identity a</span><br><span class="line">  deriving (Show, Eq)</span><br><span class="line"></span><br><span class="line">data Maybe a = Nothing | Just a</span><br><span class="line">  deriving (Show, Eq)</span><br><span class="line"></span><br><span class="line">data State s a = State &#123;runState :: s -&gt; (a, s)&#125;</span><br><span class="line"></span><br><span class="line">data Reader s a = Reader &#123;runReader :: s -&gt; a &#125;</span><br><span class="line"></span><br><span class="line">data Writer w a = Writer &#123;runWriter :: (w, a)&#125;</span><br><span class="line"></span><br><span class="line">instance Monad Identity where</span><br><span class="line">  return = undefined</span><br><span class="line">  (Identity v) &gt;&gt;= f = undefined</span><br><span class="line"></span><br><span class="line">instance Monad Maybe where</span><br><span class="line">  return = undefined</span><br><span class="line">  Nothing &gt;&gt;= f = undefined</span><br><span class="line">  (Just v) &gt;&gt;= f = undefined</span><br><span class="line"></span><br><span class="line">instance Monad (State s) where</span><br><span class="line">  return = undefined</span><br><span class="line">  (State g) &gt;&gt;= f = undefined</span><br><span class="line"></span><br><span class="line">instance Monad (Reader s) where</span><br><span class="line">  return = undefined</span><br><span class="line">  (Reader g) &gt;&gt;= f = undefined</span><br><span class="line"></span><br><span class="line">instance Monoid w =&gt; Monad (Writer w) where</span><br><span class="line">  return = undefined</span><br><span class="line">  (Writer (s, v)) &gt;&gt;= f = undefined</span><br></pre></td></tr></table></figure><h2 id="how-to-solve">How to solve</h2><h3 id="identity-monad">Identity Monad</h3><p>Above all, we need to implement the Identity monad instance at first, according to the law of identity in Category Theory: which means for every object <span class="math inline">\(x\)</span>, there exists a morphism <span class="math inline">\(id_x : x \mapsto x\)</span> called the identity morphism for <span class="math inline">\(x\)</span>, such that for every morphism <span class="math inline">\(f : a \mapsto x\)</span> and every morphism <span class="math inline">\(g : x \mapsto b\)</span>, we have <span class="math inline">\(id_x \circ f = f\)</span> and <span class="math inline">\(g \circ id_x = g\)</span>. Straightforwardly we can call this as a morphism (or function in a programming language) which always return itself, and for every morphism combine with any identity must be equals to morphism itself anyway.</p><p>By looking at Monad typeclass defination: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Applicative m =&gt; Monad (m :: * -&gt; *) where</span><br><span class="line">  (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b</span><br><span class="line">  (&gt;&gt;) :: m a -&gt; m b -&gt; m b</span><br><span class="line">  return :: a -&gt; m a</span><br><span class="line">  fail :: String -&gt; m a</span><br><span class="line">  &#123;-# MINIMAL (&gt;&gt;=) #-&#125;</span><br><span class="line">      -- Defined in â€˜GHC.Baseâ€™</span><br></pre></td></tr></table></figure></p><p>So, in Haskell we can implement identity instance like this: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">instance Monad Identity where</span><br><span class="line">  return = Identity</span><br><span class="line">  (Identity v) &gt;&gt;= f = f v</span><br></pre></td></tr></table></figure></p><p><code>return</code> function was return a Identity which accepted a parameter <code>a</code> implicitly, and as explicitly can be write like this: <code>return a = Identity a</code></p><p><code>&gt;&gt;=</code> is a monad-binding operator function, means that <code>(Identity v)</code> was bound on function <code>f</code>, by looking at type definition of this function, which accept the parameter <code>m a</code>, <code>(a -&gt; m b)</code> and return the monad <code>m b</code> finally. So now let's turn back to this instance, <code>(Identity v)</code> is the first parameter <code>m a</code> also <code>f</code> represents to <code>(a -&gt; m b)</code>, after the <code>(Identity v)</code> is done the pattern-matching, by take the parameter <code>v</code> out and put it into <code>f</code> and finally return the monad <code>m b</code>, that's it what we need!</p><h3 id="maybe-monad">Maybe Monad</h3><p>After done the identity monad, we are learned about how to construct the simple monad in Haskell, but just the only identity? Not enough! So now I'll start to talk about the next most useful monad in Haskell, the <code>Maybe Monad</code>.</p><p>In this monad, defined two data types: <code>Nothing</code> and <code>Just a</code>, which <code>Nothing</code> does not accept any type parameter but <code>Just a</code> will accept a type parameter <code>a</code> here. So when we hold something just like an integer 1, they we can put it into <code>Just 1</code>, but when holding nothing, then we didn't need to put anything into <code>Just a</code>, so we use <code>Nothing</code> to alternative that.</p><p>So let's implement <code>return</code> function on <code>Maybe Monad</code> first, it seems like the identity monad, but still have some differences. In this case, we need to specify the <code>Nothing</code> and <code>Just</code>, just take a look at the type definition of <code>return</code> function, it's must provide a parameter <code>a</code>, then we can be wrapping it into <code>Just a</code> to becomes <code>return = Just</code> in instance.</p><p>Second, after completed <code>return</code> function, to finish the <code>&gt;&gt;=</code> function, it's also closed to the identity instance, but we know when we put a <code>Nothing</code> into <code>f</code>, there must always return <code>Nothing</code>, otherwise return the result moand from <code>f</code>, so here could be using pattern-matching to partition these two case.</p><p>Finally the <code>Maybe Monad</code> likes: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">instance Monad Maybe where</span><br><span class="line">  return = Just</span><br><span class="line">  Nothing &gt;&gt;= f = Nothing</span><br><span class="line">  (Just v) &gt;&gt;= f = f v</span><br></pre></td></tr></table></figure></p><h3 id="state-monad">State Monad</h3><h3 id="reader-monad">Reader Monad</h3><h3 id="writer-monad">Writer Monad</h3><h2 id="conclusion">Conclusion</h2><p>Great thanks to Henry for fixing my noob English grammar problem!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;This kata corresponds to &lt;a href=&quot;https://www.codewars.com/kata/547202bdf7587835d9000c46&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Five-Fundamental
      
    
    </summary>
    
    
      <category term="Haskell" scheme="https://a9032676.github.io/tags/haskell/"/>
    
      <category term="Monad" scheme="https://a9032676.github.io/tags/monad/"/>
    
      <category term="Data Structures" scheme="https://a9032676.github.io/tags/data-structures/"/>
    
  </entry>
  
  <entry>
    <title>è®°å½•ä¸€æ¬¡åœ¨ Linux ä¸‹å¢åŠ åˆ†åŒºå¤§å°çš„è¿‡ç¨‹</title>
    <link href="https://a9032676.github.io/2018/12/04/Linux-partition-sizes-modify/"/>
    <id>https://a9032676.github.io/2018/12/04/Linux-partition-sizes-modify/</id>
    <published>2018-12-04T01:23:54.000Z</published>
    <updated>2019-07-22T09:42:36.844Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å› ä¸ºè¦å¼€å‘ä¸€ä¸ª Android é¡¹ç›®ï¼Œå› æ­¤éœ€è¦åœ¨ç³»ç»Ÿä¸Šå®‰è£… AndroidStudioï¼Œå®‰è£…é€”ä¸­å´æç¤ºæˆ‘ <code>java.io.IOException: No space left on device</code>ï¼Œç«‹åˆ»å°±æ„è¯†åˆ°åˆ†åŒºç©ºé—´ä¸è¶³äº†ï¼Œå› æ­¤è¿›è¡Œäº†è¯¥æ¬¡æ‰©å®¹ã€‚è€Œæˆ‘æœ¬èº«æ˜¯åŒç³»ç»Ÿï¼ˆUbuntu 18.04 ä½œä¸ºæ—¥å¸¸å¼€å‘ä½¿ç”¨ï¼Œè€Œ Windows 10 ä½œä¸ºæ¸¸æˆå¨±ä¹ç”¨ï¼‰ï¼Œå› æ­¤æˆ‘è¦å¯¹ Ubuntu ä¸‹çš„åˆ†åŒºè¿›è¡Œæ‰©å®¹ã€‚</p><h2 id="å¦‚ä½•æ‰©å®¹">å¦‚ä½•æ‰©å®¹</h2><ol type="1"><li>ä½¿ç”¨ GUI å·¥å…·ï¼šGParted ï¼ˆæœ¬ç¯‡æ–‡ç« ä¸è¿›è¡Œé˜è¿°ï¼‰</li><li>åˆ©ç”¨ fdisk / parted / lvm ç­‰æŒ‡ä»¤è¿›è¡Œæ‰©å®¹</li></ol><h2 id="æå‰å‡†å¤‡">æå‰å‡†å¤‡</h2><ol type="1"><li>å¤‡ä»½é‡è¦æ•°æ®ï¼Œå¾ˆå…³é”®ï¼ï¼ï¼</li><li>å› ä¸ºæ¶‰åŠåˆ° <code>umount</code> å¸è½½åˆ†åŒºæ“ä½œï¼Œè¯·åˆ¶ä½œå¥½ LiveCDï¼ˆå¯¹åº” Linux ç‰ˆæœ¬çš„ USB å¯åŠ¨ç›˜ï¼‰</li><li>é‡åˆ°å…¶ä»–é—®é¢˜è¯·ä¸»åŠ¨æŸ¥é˜…ç›¸å…³èµ„æ–™</li></ol><h2 id="æ‰¾å‡ºç©ºé—´ä¸è¶³çš„åˆ†åŒº">æ‰¾å‡ºç©ºé—´ä¸è¶³çš„åˆ†åŒº</h2><p>é¦–å…ˆä½¿ç”¨ <code>df -h | grep "dev/sda"</code> æŒ‡ä»¤æŸ¥çœ‹ <code>/dev/sda</code> ä»¥ä¸‹å„ä¸ªåˆ†åŒºå ç”¨æ¯” <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> a9032676@90-Ubuntu î‚° ~ î‚° df -h | grep &quot;sda&quot;</span><br><span class="line">/dev/sda10       22G   21G   96M 100% /</span><br><span class="line">/dev/sda8       1.9G  467M  1.3G  27% /media/a9032676/b2b692f8-bdcf-46c1-9998-503b0970f5b3</span><br><span class="line">/dev/sda9        19G  2.8G   15G  16% /media/a9032676/9b5cdc3a-f296-490a-b329-6ae23acee7de</span><br><span class="line">/dev/sda7       4.7G   20M  4.4G   1% /media/a9032676/1bbfb6fa-f919-4460-86f9-5ced5a900ec8</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥å¾—å‡ºæŒ‚è½½äº <code>/</code> çš„æ ¹åˆ†åŒº <code>/dev/sda10</code> ç©ºé—´ä¸¥é‡ä¸è¶³ï¼Œå‰©ä¸‹ 96MBã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨ <code>sudo fdisk -l /dev/sda</code> æŒ‡ä»¤æŸ¥è¯¢ <code>/dev/sda</code> ä¸‹å„åˆ†åŒºå¤§å°åŠæ€»å’Œã€‚ <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> a9032676@90-Ubuntu î‚° ~ î‚° sudo fdisk -l /dev/sda</span><br><span class="line">Disk /dev/sda: 232.9 GiB, 250059350016 bytes, 488397168 sectors</span><br><span class="line">/dev/sda1  *         2048   1126399   1124352   549M  7 HPFS/NTFS/exFAT</span><br><span class="line">/dev/sda2         1126400 383537151 382410752 182.4G  7 HPFS/NTFS/exFAT</span><br><span class="line">/dev/sda3       383539198 488396799 104857602    50G  5 Extended</span><br><span class="line">/dev/sda5       383539200 383928319    389120   190M 83 Linux</span><br><span class="line">/dev/sda6       383930368 387928063   3997696   1.9G 82 Linux swap / Solaris</span><br><span class="line">/dev/sda7       387930112 397928447   9998336   4.8G 83 Linux</span><br><span class="line">/dev/sda8       397930496 401928191   3997696   1.9G 83 Linux</span><br><span class="line">/dev/sda9       401930240 441927679  39997440  19.1G 83 Linux</span><br><span class="line">/dev/sda10      441929728 488396799  46467072  22.2G 83 Linux</span><br><span class="line"> a9032676@90-Ubuntu î‚° ~ î‚°</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°è¿™ä¸ªç›˜å¤§å°æ€»å’Œæ˜¯ 232.9Gï¼Œè€Œç”±äºåŒç³»ç»Ÿçš„ç¼˜æ•…ï¼Œ <code>/dev/sda1</code> ä¸ <code>/dev/sda2</code> è¿™ä¸¤ä¸ªåˆ†åŒºæ˜¯ Windows 10 çš„ï¼Œå› æ­¤æ˜¯ NTFS æ–‡ä»¶ç³»ç»Ÿã€‚<code>/dev/sda5</code> ä¸º <code>grub</code> é¢„ç•™åˆ†åŒºï¼Œè€Œæ‰©å±•åˆ†åŒº <code>/dev/sda3</code> åˆ™ä½œä¸ºæˆ‘ Ubuntu ç³»ç»Ÿæ‰€æœ‰æ–‡ä»¶çš„ä¸»åˆ†åŒºï¼Œå¯ä»¥çœ‹è§æ‰‡åŒºä» <code>383539198</code> æ¨ªè·¨åˆ° <code>488396799</code>ï¼Œé€”ä¸­åŒ…å«äº† <code>sda5</code> åˆ° <code>sda10</code> è¿™å‡ ä¸ªåˆ†åŒºï¼Œè€Œä»–ä»¬éƒ½æ˜¯ ext4 æ–‡ä»¶ç³»ç»Ÿçš„é€»è¾‘åˆ†åŒºï¼ŒåŠ èµ·æ¥åˆšåˆšå¥½ 50Gã€‚</p><h2 id="æŸ¥è¯¢åˆ†åŒºæŒ‚è½½æƒ…å†µ">æŸ¥è¯¢åˆ†åŒºæŒ‚è½½æƒ…å†µ</h2><p>ç¡®å®šäº†æ˜¯ <code>/dev/sda10</code> åˆ†åŒºç©ºé—´ä¸è¶³åï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>mount -l | grep "/dev/sda"</code> æŒ‡ä»¤æŸ¥çœ‹åˆ†åŒºå®é™…æŒ‚è½½æƒ…å†µã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> a9032676@90-Ubuntu î‚° ~ î‚° sudo mount -l | grep &quot;/dev/sda&quot;</span><br><span class="line">/dev/sda10 on / type ext4 (rw,relatime,errors=remount-ro,data=ordered)</span><br><span class="line">/dev/sda8 on /media/a9032676/b2b692f8-bdcf-46c1-9998-503b0970f5b3 type ext4 (rw,nosuid,nodev,relatime,data=ordered,uhelper=udisks2)</span><br><span class="line">/dev/sda9 on /media/a9032676/9b5cdc3a-f296-490a-b329-6ae23acee7de type ext4 (rw,nosuid,nodev,relatime,data=ordered,uhelper=udisks2)</span><br><span class="line">/dev/sda7 on /media/a9032676/1bbfb6fa-f919-4460-86f9-5ced5a900ec8 type ext4 (rw,nosuid,nodev,relatime,data=ordered,uhelper=udisks2)</span><br></pre></td></tr></table></figure><p>ä»ä»¥ä¸Šæƒ…å†µæ€»æ‹¬å‡ºï¼šè¿™å°ç”µè„‘ä¸¤ä¸ªç³»ç»Ÿéƒ½æ˜¯å®‰è£…åœ¨äº†åŒä¸€ä¸ªç›˜ä¸Šé¢ï¼ˆå› ä¸ºæ˜¯ SSDï¼‰ï¼Œåˆè®¡å¯ç”¨å¤§å°æ˜¯ 232.9Gï¼Œè€Œåˆ†ç»™ Ubuntu çš„æ€»å…±æœ‰ 50Gï¼ŒWindows åˆ™å ç”¨äº† 182.4Gï¼ˆæ’‡é™¤ç³»ç»Ÿä¿ç•™çš„ 549Mï¼‰ã€‚ä½†ç°åœ¨ Ubuntu æŒ‚è½½åœ¨æ ¹ç›®å½•çš„åˆ†åŒº <code>/dev/sda10</code> å·²ç»æ‰€å‰©æ— å‡ ï¼Œå› æ­¤æˆ‘æ‰“ç®—çš„æ˜¯ä» Windows å¤„ <code>/dev/sda2</code> é‡Šæ”¾ 30G çš„ç©ºé—´ä¸º <code>/dev/sda10</code> å¢åŠ å®¹é‡ã€‚</p><h2 id="å¼€å§‹è°ƒæ•´">å¼€å§‹è°ƒæ•´</h2><ol type="1"><li><p>é‡å¯ç”µè„‘ï¼Œå°†ç³»ç»Ÿæ›´æ¢æˆ Windows 10ã€‚</p></li><li><p>åœ¨ã€ç£ç›˜ç®¡ç†ã€‘å¤„å‹ç¼© NTFS å·/åˆ†åŒºï¼Œé‡Šæ”¾å·²åˆ†é…ç©ºé—´ç»™äºˆ Ubuntu ä½¿ç”¨ï¼Œè¿™é‡Œæˆ‘å…±è®¡åœ¨ <code>/dev/sda2</code> å¤„å‹ç¼©å¹¶è…¾å‡ºäº†å…±è®¡ 30G çš„æœªåˆ†é…ç©ºé—´ã€‚ï¼ˆæœ¬æ­¥éª¤ä¸å¤šä½œé˜è¿°ï¼Œå…·ä½“å¯å‚è€ƒï¼š<a href="https://support.microsoft.com/zh-cn/help/944248" target="_blank" rel="noopener">å¦‚ä½•åœ¨ Windows ä¸­å¯¹ç¡¬ç›˜è¿›è¡Œåˆ†åŒº</a>ï¼‰</p></li><li><p>å› ä¸ºé€”ä¸­æ¶‰åŠæ ¹åˆ†åŒºå‰åç§»åŠ¨ï¼Œå› æ­¤å¿…é¡»è¦è®©æœ¬èº«å¤„äº busyï¼ˆå¿™ç¢Œï¼‰ çŠ¶æ€çš„æ ¹åˆ†åŒºå…ˆ <code>unmount</code> ï¼ˆå¸è½½åˆ†åŒºï¼‰ï¼Œå¦åˆ™ä¼šä¸€ç›´é”å®šç€ï¼Œæ— æ³•ç§»åŠ¨ã€‚åˆ¶ä½œå¯¹åº” Ubuntu ç‰ˆæœ¬çš„ LiveCDï¼ˆUSBå¯åŠ¨ç›˜ï¼‰ã€‚</p></li><li><p>é‡å¯ç”µè„‘å¹¶æ’å…¥åˆšåˆšåˆ¶ä½œå¥½çš„ USBï¼Œåˆ‡æ¢ç³»ç»Ÿåˆ° USB æ­è½½çš„ Ubuntu ç³»ç»Ÿä¸Šã€‚</p></li><li><p>è¿›å…¥ç³»ç»Ÿåã€‚äºå‘½ä»¤è¡Œå†…æ‰‹åŠ¨è¾“å…¥ <code>sudo umount /dev/sda10</code>ï¼ŒæŠŠæˆ‘ä»¬çš„ç›®æ ‡åˆ†åŒºå¸è½½æ‰ï¼ŒåŒæ—¶éœ€è¦å°†æ‰©å±•åˆ†åŒºå†…çš„ Swap Spaceï¼ˆäº¤æ¢ç©ºé—´ï¼‰å…³é—­æ‰ï¼š<code>sudo swapoff -a</code>ã€‚</p></li><li><p>ç„¶åä½¿ç”¨ <code>sudo fdisk /dev/sda</code> è¿›å…¥ fdisk å‘½ä»¤äº¤äº’ç•Œé¢ä»¥è°ƒæ•´åˆ†åŒºï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> a9032676@90-Ubuntu î‚° ~ î‚° sudo fdisk /dev/sda</span><br><span class="line">[sudo] password for a9032676: </span><br><span class="line"></span><br><span class="line">Welcome to fdisk (util-linux 2.31.1).</span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">Be careful before using the write command.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Command (m for help):</span><br></pre></td></tr></table></figure></p></li><li><p>ç„¶åæˆ‘ä»¬ä½¿ç”¨ <code>p</code> æŒ‡ä»¤æŸ¥è¯¢åˆ†åŒºæƒ…å†µï¼Œè™½ç„¶ä¸Šé¢å·²ç»æŸ¥è¯¢è¿‡ï¼Œä½†ä¸ºäº†å®‰å…¨èµ·è§è¿˜æ˜¯å…ˆç¡®è®¤ä¸€éã€‚</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Command (m for help): p</span><br><span class="line">Disk /dev/sda: 232.9 GiB, 250059350016 bytes, 488397168 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel type: dos</span><br><span class="line">Disk identifier: 0xdefb6f09</span><br><span class="line"></span><br><span class="line">Device     Boot     Start       End   Sectors   Size Id Type</span><br><span class="line">/dev/sda1  *         2048   1126399   1124352   549M  7 HPFS/NTFS/exFAT</span><br><span class="line">/dev/sda2         1126400 320622591 319496192 152.4G  7 HPFS/NTFS/exFAT</span><br><span class="line">/dev/sda3       383539198 488396799 104857602    50G  5 Extended</span><br><span class="line">/dev/sda5       383539200 383928319    389120   190M 83 Linux</span><br><span class="line">/dev/sda6       383930368 387928063   3997696   1.9G 82 Linux swap / Solaris</span><br><span class="line">/dev/sda7       387930112 397928447   9998336   4.8G 83 Linux</span><br><span class="line">/dev/sda8       397930496 401928191   3997696   1.9G 83 Linux</span><br><span class="line">/dev/sda9       401930240 441927679  39997440  19.1G 83 Linux</span><br><span class="line">/dev/sda10      441929728 488396799  46467072  22.2G 83 Linux</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åœ¨ <code>/dev/sda2</code> çš„æ‰‡å°¾ <code>320622591</code> ä¸ <code>/dev/sda3</code> çš„æ‰‡å¤´ <code>383539198</code> ä¹‹é—´å·®äº† <code>62916607</code> ä¸ª Blocksï¼Œåˆšå¥½ 30Gï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨ Windows ä¸Šè…¾å‡ºæ¥çš„ç©ºé—´ã€‚</p><ol start="8" type="1"><li>æ¥ä¸‹æ¥è¿™ä¸€æ­¥å¾ˆå…³é”®ï¼Œç”±äºåœ¨æˆ‘ä»¬ä¸Šé¢çš„åˆ†åŒºé‡Œé¢ï¼Œæ²¡åˆ†é…ç©ºé—´æ˜¯å¤„äºæ‰©å±•åˆ†åŒº <code>/dev/sda3</code> ä»¥åŠ <code>/dev/sda10</code> çš„å‰é¢ï¼ˆå·¦ä¾§ï¼‰ï¼Œè€Œæˆ‘ä»¬éœ€è¦å…ˆå°†å…¶ç§»åŠ¨åˆ°é è¿‘æˆ‘ä»¬çš„ <code>/dev/sda10</code> åˆ†åŒºå³ä¾§ï¼ˆä¹Ÿå°±æ˜¯æŠŠ free space ç§»åŠ¨åˆ°æ•´ä¸ªç›˜æœ€åé¢ï¼‰æ–¹å¯ä¸ <code>/dev/sda10</code> é€»è¾‘åˆ†åŒºè¿›è¡Œåˆå¹¶ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç”¨åˆ° <code>dd</code> è¿™æ¡æŒ‡ä»¤å»æ“ä½œåˆ†åŒºç§»åŠ¨ï¼š</li></ol><p>å¾…è¡¥å……</p><ol start="9" type="1"><li>ä½†ç”±äºæˆ‘ä»¬è¿™é‡Œçš„ä¾‹å­ <code>/dev/sda10</code> æœ¬èº«å·²ç»å¤„äºæ•´ä¸ªç›˜çš„æœ€åæ–¹ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨ fdisk çš„ <code>d</code> ä¸ <code>n</code> æŒ‡ä»¤ç›´æ¥åˆå¹¶å·²ç»ç§»åŠ¨åˆ° <code>/dev/sda10</code> å·¦ä¾§æ—çš„ free spaceï¼Œè€Œçœå»äº†æœ€åçš„ä» <code>/dev/sda10</code> å·¦ä¾§ç§»åŠ¨åˆ°å…¶çš„å³ä¾§ã€‚</li></ol><p>å¾…è¡¥å……</p><ol start="10" type="1"><li>åœ¨ä¸€è½®æ“ä½œå®Œæˆä¹‹åï¼Œå†è¾“å…¥ <code>p</code> æŸ¥è¯¢åˆ†åŒºè¡¨ç©¶ç«Ÿæ˜¯å¦æœ‰è¯¯ï¼Œå†ä¸‰ç¡®è®¤åè¾“å…¥ <code>w</code> ä¿å­˜å˜æ›´å¹¶é€€å‡ºã€‚</li></ol><p>å¾…è¡¥å……</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘å› ä¸ºè¦å¼€å‘ä¸€ä¸ª Android é¡¹ç›®ï¼Œå› æ­¤éœ€è¦åœ¨ç³»ç»Ÿä¸Šå®‰è£… AndroidStudioï¼Œå®‰è£…é€”ä¸­å´æç¤ºæˆ‘ &lt;code&gt;java.io.IOException: No space left on device&lt;/code&gt;ï¼Œç«‹åˆ»å°±æ„è¯†åˆ°åˆ†åŒºç©ºé—´ä¸è¶³äº†ï¼Œå› æ­¤è¿›è¡Œäº†è¯¥æ¬¡æ‰©å®¹ã€‚
      
    
    </summary>
    
    
      <category term="ç¡¬ç›˜åˆ†åŒº" scheme="https://a9032676.github.io/tags/%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA/"/>
    
      <category term="Linux" scheme="https://a9032676.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>è®© Lambda ç‰¹æ€§ä½¿ä½ çš„ Kotlin ä»£ç æ›´åŠ ä¼˜é›…</title>
    <link href="https://a9032676.github.io/2018/11/22/Lambda-make-code-more-elegant-on-Kotlin/"/>
    <id>https://a9032676.github.io/2018/11/22/Lambda-make-code-more-elegant-on-Kotlin/</id>
    <published>2018-11-21T17:20:36.000Z</published>
    <updated>2019-07-22T09:43:19.555Z</updated>
    
    <content type="html"><![CDATA[<p>ç›¸ä¿¡è¿‘å¹´æ¥ï¼Œä¹Ÿè®¸æœ‰è¿™ä¹ˆä¸€æ‰¹äººä¼šè®¤ä¸º Java è¯­æ³•è¿‡äºä¿å®ˆåŠä¼ ç»Ÿï¼Œä»£ç å†™èµ·æ¥å°±æ˜¾å¾—æœ‰ç‚¹è‡ƒè‚¿äº†ï¼Œä¸ç›´è§‚ä¹Ÿä¸æ–¹ä¾¿ï¼Œè€Œç›¸å¯¹äº Java è€Œè¨€ï¼ŒKotlin è™½ç„¶ä¸ Java åŒå± JVM å¹³å°è¡ç”Ÿå‡ºæ¥çš„è®¡ç®—æœºè¯­è¨€ï¼ŒKotlin çš„è¯­æ³•å´æ¯”èµ· Java æ¥è®²æœ‰æ›´å¤§çš„è¯­æ³•è‡ªç”±åº¦ï¼ˆè¿™é‡Œä»…ä»è¯­æ³•è§’åº¦åˆ†æï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¾—ä»¥å¾ˆå¥½åœ°å®ç°æŸäº›çœ‹èµ·æ¥æ›´ç®€æ´æ›´æ–¹ä¾¿çš„å†™æ³•ï¼Œå°±å¦‚åŒæˆ‘ä»¬ä»Šå¤©è¦è®²çš„ä¸»é¢˜ï¼šåœ¨ Kotlin ä¸Šè®©ä½ çš„ä»£ç æ›´åŠ ä¼˜é›…ã€‚</p><h2 id="å¼€å‘ç¯å¢ƒ">å¼€å‘ç¯å¢ƒ</h2><p>Systemï¼šUbuntu 18.04 IDEï¼šIntelliJ IDEA 2018.2.5 JDK versionï¼š1.8.0_181ï¼ˆJava 8ï¼‰ Kotlin versionï¼š1.3.10ï¼ˆKotlin 1.3ï¼‰</p><h2 id="dsl-æ˜¯ä»€ä¹ˆ">DSL æ˜¯ä»€ä¹ˆï¼Ÿ</h2><h3 id="æ¦‚å¿µ">æ¦‚å¿µ</h3><p>é˜…è¯»æœ¬ç¯‡æ–‡ç« è¦æ±‚è¯»è€…åº”æ¸…æ™°åœ°è®¤è¯† DSL çš„æ¦‚å¿µï¼Œä»¥åŠ Kotlin Lambda çš„æ€æƒ³ã€‚ å…³äº DSL å¯å‚è€ƒæˆ‘æ‹©å†™çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š</p><h3 id="å¯¹äº-kotlin-è€Œè¨€dsl-çš„æ€ç»´ç©¶ç«Ÿå¯ä»¥å¯¹ä»£ç æœ‰ä»€ä¹ˆå®é™…å¸®åŠ©">å¯¹äº Kotlin è€Œè¨€ï¼ŒDSL çš„æ€ç»´ç©¶ç«Ÿå¯ä»¥å¯¹ä»£ç æœ‰ä»€ä¹ˆå®é™…å¸®åŠ©ï¼Ÿ</h3><p>å¦‚æœä½ å·²ç»é˜…è¯»è¿‡ä¸Šé¢çš„æ–‡ç« ï¼Œåº”è¯¥èƒ½å¤Ÿæ˜ç™½åˆ° DSL åº”åœ¨ç‰¹å®šé¢†åŸŸå‘æŒ¥ä½œç”¨çš„é‡è¦æ€§ï¼Œè€Œåœ¨ Kotlin ä¸Šä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœä½ æ˜¯ä½¿ç”¨ <code>IntelliJ IDEA</code> ä½œä¸ºä½ çš„ IDEï¼Œé‚£ä¹ˆåœ¨ä½ å­¦ä¹  Kotlin çš„æ—¶å€™è‚¯å®šä¼šä½¿ç”¨åˆ°å†…ç½®çš„ <code>Java to Kotlin converterï¼ˆJ2KCï¼‰</code>ï¼Œä¹Ÿå°±æ˜¯æŠŠå¤åˆ¶åçš„ Java çš„ä»£ç ç²˜è´´åˆ° <code>.kt</code> æ–‡ä»¶åè‡ªåŠ¨è½¬æ¢æˆ Kotlin ä»£ç ï¼Œå¦‚ä¸‹é¢ JavaFX åˆ›å»ºå¸ƒå±€çš„ç¤ºä¾‹ï¼š</p><p>åŸæœ¬çš„ Java ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public void create() &#123;</span><br><span class="line">    Label label = new Label(&quot;This is label&quot;);</span><br><span class="line">    label.setStyle(&quot;-fx-font-weight: bold;&quot;);</span><br><span class="line">    label.setTextFill(Color.web(&quot;0069B1&quot;));</span><br><span class="line"></span><br><span class="line">    Rectangle rectangle = new Rectangle(46.0, 18.0);</span><br><span class="line">    rectangle.setArcHeight(10.0);</span><br><span class="line">    rectangle.setArcWidth(10.0);</span><br><span class="line">    rectangle.setFill(Color.web(&quot;#CCEEFF&quot;));</span><br><span class="line">    rectangle.setPadding(new Insets(2.0, 3.0, 2.0, 3.0));</span><br><span class="line"></span><br><span class="line">    StackPane stack = new StackPane();</span><br><span class="line">    stack.setHgap(10);</span><br><span class="line">    stack.setVgap(10);</span><br><span class="line">    stack.children.addAll(rectangle, label);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€è¿‡ <code>J2KC</code> ä¹‹åè‡ªåŠ¨è½¬æ¢çš„ Kotlin ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">fun create() &#123;</span><br><span class="line">    val label = Label(&quot;This is label&quot;)</span><br><span class="line">    label.style(&quot;-fx-font-weight: bold;&quot;)</span><br><span class="line">    label.textFill(Color.web(&quot;0069B1&quot;))</span><br><span class="line"></span><br><span class="line">    val rectangle = Rectangle(46.0, 18.0)</span><br><span class="line">    rectangle.arcHeight(10.0)</span><br><span class="line">    rectangle.arcWidth(10.0)</span><br><span class="line">    rectangle.fill(Color.web(&quot;#CCEEFF&quot;))</span><br><span class="line">    rectangle.padding(Insets(2.0, 3.0, 2.0, 3.0))</span><br><span class="line"></span><br><span class="line">    val stack = StackPane()</span><br><span class="line">    stack.hgap(10)</span><br><span class="line">    stack.vgap(10)</span><br><span class="line">    stack.children.addAll(rectangle, label)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥å›é¡¾ä¸‹ä¸Šé¢ä»£ç çš„è½¬åŒ–è¿‡ï¼Œé¦–å…ˆ <code>J2KC</code> åˆ†åˆ«è‡ªåŠ¨å°†å‡½æ•°æ ‡ç­¾ä» <code>public void create()</code> ç®€åŒ–æˆäº† <code>fun create()</code>ï¼Œè€Œå› ä¸ºåœ¨ Java é‡Œè¿”å›å€¼ä¸º <code>void</code> è€Œåœ¨ Kotlin é‡Œçš„åç½®ç±»å‹å£°æ˜ <code>fun create(): Unit</code> å¯ä»¥ç›´æ¥è¢«ç®€åŒ–æ‰ã€‚é™¤æ­¤ä»¥å¤–è¿˜æœ‰åŒ…å«å¯¹å±€éƒ¨å˜é‡ç±»å‹å£°æ˜ç›´æ¥ç®€åŒ–æˆ <code>var</code> <code>val</code> ä»¥åŠåœ¨åˆ›å»ºæ–°å®ä¾‹æ—¶æŠŠ <code>new</code> å…³é”®è¯ç›´æ¥å»é™¤ã€‚å½“ç„¶ <code>J2KC</code> è¿˜æœ‰å¾ˆèªæ˜çš„ä¸€ç‚¹ï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿè¯†åˆ«å‡ºä»¥ <code>get</code> <code>set</code> ä¸ºå¼€å¤´çš„å‡½æ•°åï¼Œç›´æ¥å°†å…¶ç®€åŒ–æˆåƒæ˜¯å¯¹ä¸€ä¸ªå­—æ®µè¿›è¡Œèµ‹å€¼ä¸€æ ·ï¼Œè€Œä¸”ä¹Ÿå°†ä»¥ <code>;</code> ä¸ºè¡Œç»“å°¾çš„ç¬¦å·ä¹Ÿå»æ‰äº†ï¼Œçœ‹èµ·æ¥å·²ç»ç›¸å½“ä¸é”™äº†ã€‚</p><h3 id="ç¾ä¸­ä¸è¶³">ç¾ä¸­ä¸è¶³</h3><p>è½¬æ¢è¿‡ç¨‹è™½ç„¶ç®€å•ï¼Œä½†ä¹Ÿè¶³å¤Ÿç²—æš´ï¼Œæˆ‘ä»¬å†æ¥è§‚å¯Ÿä¸€ä¸‹è½¬æ¢åçš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">val stack = StackPane()</span><br><span class="line">stack.hgap(10)</span><br><span class="line">stack.vgap(10)</span><br><span class="line">stack.children.addAll(rectangle, label)</span><br></pre></td></tr></table></figure><p><code>stack.xxx</code> åƒè¿™æ ·çš„æ“ä½œå®åœ¨å¤ªç¹çï¼Œæ¯è®¾ç½®ä¸€ä¸ªå€¼éƒ½å¾—äº‹å…ˆè¾“å…¥ <code>stack.</code>ï¼Œè€Œä¸”çœ‹ä¸Šå»ä»£ç ä¹Ÿä¼šæ˜¾å¾—ç‰¹åˆ«å¯†é›†ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿè¿™éƒ¨åˆ†å°±æ˜¯æ¥ä¸‹æ¥ä¾¿æ˜¯æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜äº†ã€‚</p><h2 id="å¦‚ä½•ä¼˜åŒ–">å¦‚ä½•ä¼˜åŒ–</h2><h3 id="å–„ç”¨-apply-ä¸-also-å‡½æ•°">å–„ç”¨ apply() ä¸ also() å‡½æ•°</h3><p>åƒæ˜¯ä¸Šé¢è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é€è¿‡ Kotlin ä¸Šä¸€ä¸ªå« <code>apply()</code> çš„å‡½æ•°è§£å†³ï¼è¿™ä¸ªå‡½æ•°ä½äº Kotlin æ ‡å‡†åº“å†…çš„ <code>Standard.kt</code> æ–‡ä»¶é‡Œï¼Œä¸‹é¢æˆ‘ç›´æ¥æŠŠè¿™ä¸€æ®µæºç è´´ä¸Šæ¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Calls the specified function [block] with `this` value as its receiver and returns `this` value.</span><br><span class="line"> */</span><br><span class="line">@kotlin.internal.InlineOnly</span><br><span class="line">public inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T &#123;</span><br><span class="line">    contract &#123;</span><br><span class="line">        callsInPlace(block, InvocationKind.EXACTLY_ONCE)</span><br><span class="line">    &#125;</span><br><span class="line">    block()</span><br><span class="line">    return this</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æºç åˆ†æ">æºç åˆ†æ</h4><p>å¯¹äºä½•ä¸ºæ‰©å±•å‡½æ•°ä¸æ³›å‹æœ¬ç¯‡å¹¶ä¸å¤šä½œé˜è¿°ï¼Œå…·ä½“å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š <a href="https://kotlinlang.org/docs/reference/extensions.html" target="_blank" rel="noopener">Kotlin - Extensions</a> <a href="https://kotlinlang.org/docs/reference/generics.html" target="_blank" rel="noopener">Kotlin - Generics</a></p><p>è¿™ä¸ªå‡½æ•°å¾ˆç®€å•ï¼Œæˆ‘ä»¬é¦–å…ˆå…ˆçœ‹å‡½æ•°æ ‡ç­¾ï¼š<code>public inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T</code>ï¼Œæ„æ€å¤§æ¦‚å°±æ˜¯ä¸€ä¸ªå¸¦æœ‰å‹å‚ T <a href="https://kotlinlang.org/docs/reference/inline-functions.html" target="_blank" rel="noopener">å†…è”å‡½æ•°</a>ï¼Œå¹¶ä»¥è¿™ä¸ªå‹å‚ä½œä¸ºæ‰©å±•å‡½æ•° <code>apply</code> çš„ç›®æ ‡ï¼Œå¹¶ä¸”æ¥å—ä¸€ä¸ª <code>T.() -&gt; Unit</code> çš„ Lambda ç±»å‹ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œæœ€ç»ˆè¿”å›å‹å‚å®é™…å€¼ Tã€‚å¯ä»¥çœ‹åˆ°å…¶å®æœ€æ ¸å¿ƒçš„éƒ¨åˆ†å…¶å®æ˜¯ <code>T.() -&gt; Unit</code>ï¼Œä¹Ÿå°±æ˜¯æ¥å—ä¸€ä¸ªæ— å‚æ•°æ— è¿”å›å€¼çš„ Lambdaï¼Œå…¶ä½œç”¨å°±ç›¸å½“äºæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè€Œè¿™ä¸ª Lambda ä¹Ÿæ˜¯åŸºäºå‹å‚ T æ‰©å±•å‡ºæ¥çš„å‡½æ•°ã€‚å› æ­¤æˆ‘ä»¬ä¼ å…¥å›è°ƒå‡½æ•°çš„æ—¶å€™å°±å¯ä»¥åƒè¿™ä¹ˆå†™ï¼š<code>example.apply {}</code>ï¼Œåœ¨ <code>{}</code> ä¹‹å†…çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬å›è°ƒå‡½æ•°éœ€è¦æ‰§è¡Œçš„ä»£ç äº†ã€‚</p><h4 id="ä¾‹å­">ä¾‹å­</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">val example = Example()</span><br><span class="line"></span><br><span class="line">example.apply &#123;</span><br><span class="line"></span><br><span class="line">    // è¿™é‡Œçš„ `this` å®é™…ä¸ŠæŒ‡å‘çš„æ˜¯ `example` è¿™ä¸ªå®ä¾‹</span><br><span class="line">    this</span><br><span class="line"></span><br><span class="line">    // è°ƒç”¨ä¸€æ¡è¢«å®šä¹‰åœ¨ `Example` ç±»ä¸‹çš„å‡½æ•°å®é™…ä¸Šå¯ä»¥ä»</span><br><span class="line">    this.test()</span><br><span class="line">    // ç®€åŒ–æˆè¿™æ ·ï¼Œè€Œç±»ä¸‹æ–¹çš„å­—æ®µåˆ™ä¹Ÿæ˜¯ç›¸åŒåšæ³•</span><br><span class="line">    test()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®é™…ä½¿ç”¨">å®é™…ä½¿ç”¨</h4><p>ç„¶åæˆ‘ä»¬ä½¿ç”¨åœ¨ä¹‹å‰æåˆ°çš„ JavaFX ä¾‹å­ä¸Šï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">fun create() &#123;</span><br><span class="line">    val label = Label(&quot;This is label&quot;).apply &#123;</span><br><span class="line">        style(&quot;-fx-font-weight: bold;&quot;)</span><br><span class="line">        textFill(Color.web(&quot;0069B1&quot;))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    val rectangle = Rectangle(46.0, 18.0).apply &#123;</span><br><span class="line">        arcHeight(10.0)</span><br><span class="line">        arcWidth(10.0)</span><br><span class="line">        fill(Color.web(&quot;#CCEEFF&quot;))</span><br><span class="line">        padding(Insets(2.0, 3.0, 2.0, 3.0))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    val stack = StackPane().apply &#123;</span><br><span class="line">        hgap(10)</span><br><span class="line">        vgap(10)</span><br><span class="line">        children.addAll(rectangle, label)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ„Ÿè§‰ä¸å¤Ÿï¼Ÿæˆ‘ä»¬è¿˜å¯ä»¥æ”¹æˆè¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">fun create() &#123;</span><br><span class="line">    val label = </span><br><span class="line">    val rectangle = </span><br><span class="line">    val stack = StackPane().apply &#123;</span><br><span class="line">        hgap(10)</span><br><span class="line">        vgap(10)</span><br><span class="line">        children.addAll(</span><br><span class="line">            Label(&quot;This is label&quot;).apply &#123;</span><br><span class="line">            style(&quot;-fx-font-weight: bold;&quot;)</span><br><span class="line">            textFill(Color.web(&quot;0069B1&quot;))</span><br><span class="line">        &#125;,</span><br><span class="line">        Rectangle(46.0, 18.0).apply &#123;</span><br><span class="line">            arcHeight(10.0)</span><br><span class="line">            arcWidth(10.0)</span><br><span class="line">            fill(Color.web(&quot;#CCEEFF&quot;))</span><br><span class="line">            padding(Insets(2.0, 3.0, 2.0, 3.0))</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç›¸ä¿¡è¿‘å¹´æ¥ï¼Œä¹Ÿè®¸æœ‰è¿™ä¹ˆä¸€æ‰¹äººä¼šè®¤ä¸º Java è¯­æ³•è¿‡äºä¿å®ˆåŠä¼ ç»Ÿï¼Œä»£ç å†™èµ·æ¥å°±æ˜¾å¾—æœ‰ç‚¹è‡ƒè‚¿äº†ï¼Œä¸ç›´è§‚ä¹Ÿä¸æ–¹ä¾¿ï¼Œè€Œç›¸å¯¹äº Java è€Œè¨€ï¼ŒKotlin è™½ç„¶ä¸ Java åŒå± JVM å¹³å°è¡ç”Ÿå‡ºæ¥çš„è®¡ç®—æœºè¯­è¨€ï¼ŒKotlin çš„è¯­æ³•å´æ¯”èµ· Java æ¥è®²æœ‰æ›´å¤§çš„è¯­æ³•è‡ªç”±åº¦ï¼ˆè¿™é‡Œ
      
    
    </summary>
    
    
      <category term="DSL" scheme="https://a9032676.github.io/tags/dsl/"/>
    
      <category term="ä»£ç è®¾è®¡" scheme="https://a9032676.github.io/tags/%E4%BB%A3%E7%A0%81%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="Kotlin" scheme="https://a9032676.github.io/tags/kotlin/"/>
    
      <category term="Lambda" scheme="https://a9032676.github.io/tags/lambda/"/>
    
  </entry>
  
  <entry>
    <title>DSLï¼šè§£é‡Šä¸è®¾è®¡ç›®çš„</title>
    <link href="https://a9032676.github.io/2018/11/21/DSL-explain-and-goals/"/>
    <id>https://a9032676.github.io/2018/11/21/DSL-explain-and-goals/</id>
    <published>2018-11-21T14:29:41.000Z</published>
    <updated>2019-07-22T09:41:28.162Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ç›´ä»¥æ¥ï¼Œå¯¹äº DSL è¿™ä¸ªè¯å¤§å®¶åº”è¯¥æ˜¯æ—¢ç†Ÿæ‚‰è€Œåˆé™Œç”Ÿï¼Œç†Ÿæ‚‰çš„æ˜¯å®ƒå†™èµ·æ¥åƒå•¥æ ·ï¼Œé™Œç”Ÿçš„æ˜¯ä»–çš„æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œè€Œä»Šå¤©ä½œä¸ºç¬¬ä¸€ç¯‡åœ¨åšå®¢å‘å¸ƒçš„æ–‡ç« å°±æƒ³æ¥æ¢è®¨ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p><h2 id="dsl-çš„æœ¬è´¨ä¸è§£é‡Š">DSL çš„æœ¬è´¨ä¸è§£é‡Š</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ Wiki æ˜¯æ€ä¹ˆè§£é‡Š DSL çš„ï¼š &gt; A domain-specific language (DSL) is a computer language specialized to a particular application domain. This is in contrast to a general-purpose language (GPL), which is broadly applicable across domains ï¼ˆåŸæ–‡å‡ºå¤„ï¼š<a href="https://en.wikipedia.org/wiki/Domain-specific_language" target="_blank" rel="noopener">Wiki: Domain-Specific Language</a>ï¼‰</p><p>è€ŒæŠŠä¸Šé¢æ‹©è¦ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šDSL (é¢†åŸŸç‰¹å®šè¯­è¨€) æ˜¯ä¸“æ³¨äºæŸä¸ªåº”ç”¨ç¨‹åºé¢†åŸŸçš„è®¡ç®—æœºè¯­è¨€ï¼Œè€Œå¯¹æ¯”èµ· GPL ï¼ˆé€šç”¨ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œä¾‹å¦‚ Java / C / Python...ï¼‰ï¼ŒDSL èƒ½å¤Ÿåœ¨ç‰¹å®šçš„åº”ç”¨é¢†åŸŸä¸­å…·æœ‰æ›´å¤§çš„æ‹“å±•æ€§åŠå…¶å»¶ä¼¸æ€§ã€‚çœ‹åˆ°è¿™é‡Œå¯èƒ½è¿˜æœ‰éƒ¨åˆ†äººä¸æ˜ç™½è¿™åˆ°åº•æ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Œå…¶å®ç®€å•æ¥è¯´ DSL å°±æ˜¯ä¸ºè§£å†³ç‰¹å®šé¢†åŸŸçš„äº‹æƒ…è€Œç”Ÿçš„ï¼Œå¦‚æœæ›¾ç»ä½œä¸º Java ç¨‹åºå‘˜ï¼Œä½ å¯èƒ½ä¼šç»å¸¸ä½¿ç”¨ Maven è·Ÿ Gradle è¿™ä¸¤æ¬¾åŒ…ç®¡ç†å™¨å»ç®¡ç†ä½ çš„ä¾èµ–/åº“ï¼Œè€Œé€è¿‡å¯¹æ¯”ä¸¤è€…è¯­æ³•ä¸Šæ›´æ˜¯å¤§ç›¸å¾„åº­ï¼Œä¾‹å¦‚ Maven é‡‡ç”¨çš„æ˜¯ XML è¯­æ³•çš„æ ‡è®°è¯­è¨€ï¼Œå› æ­¤æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹åœ¨ Maven å¼•ç”¨ä¾èµ–éƒ¨åˆ†æ˜¯æ€ä¹ˆå†™çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;group&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;project&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>è€Œ Gradle åˆ™æ˜¯åƒè¿™æ ·:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    compile group: &quot;group&quot;, name: &quot;project&quot;, version: 1.0.0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°çœ‹åˆ°çš„ä¸¤ç§åŒ…ç®¡ç†æ¡†æ¶è¯­æ³•å·®åˆ«éƒ½å¾ˆå¤§ï¼Œè€Œ Gradle å¯¹æ¯”èµ· Maven è€Œè¨€åˆ™è¦æ›´ä¸ºç®€æ´ï¼Œè€Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæœ€ä¸»è¦çš„å…¶å®å°±æ˜¯è¿™ä¸¤è€…å„è‡ªé‡‡ç”¨äº†ä¸åŒç§ç±»çš„è¯­æ³•ï¼ŒMaven é‡‡ç”¨çš„æ˜¯åŸºäº GPL çš„æ ‡è®°è¯­è¨€ï¼š <a href="https://en.wikipedia.org/wiki/General-purpose_markup_language" target="_blank" rel="noopener">GPML (General-purpose markup languages)</a>ï¼Œè€Œ <code>GPML</code> è¿˜åŒ…å«äº† <code>XML</code> <code>YAML</code> <code>GML</code> ç­‰ç­‰ã€‚é™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨ Maven é‡Œæ’å…¥æœ‰å…³æ„å»ºæ—¶æ‰§è¡Œçš„ä»£ç æ®µï¼ˆæˆ–æ˜¯Taskï¼‰æ˜¯éå¸¸å›°éš¾çš„ï¼Œå…¶ XML è¯­æ³•çš„ç”šè‡³éƒ½å¤§å¤§æŸç¼šäº†ä»£ç ç¼–å†™ï¼Œä¾‹å¦‚ <code>if</code> <code>switch</code> è¿™ä¸€ç±»æµç¨‹æ§åˆ¶çš„è¯­æ³•åœ¨ XML ä¸Šå®ç°å°±æ˜¾å¾—éå¸¸å›°éš¾æˆ–æ ¹æœ¬æ— æ³•å®ç°ã€‚ç”±æ­¤å¯è§ï¼Œå…¶å® Maven è™½ç„¶ç”¨äº† XMLï¼Œä½†å…¶æœ¬èº«æ˜¯åŸºäº GPML çš„ï¼Œå¯¹äºè§£å†³ç‰¹å®šèŒƒç•´çš„é—®é¢˜å°±æ˜¾å¾—ç‰¹åˆ«çš„ç¹çäº†ã€‚</p><p>è€Œ Gradle å‘¢ï¼Ÿé™¤äº†ç»§æ‰¿è‡ª Groovy çš„è¯­æ³•å¤–ï¼Œå…¶æœ¬èº«è¿˜å…·æœ‰ä¸€ä¸ªç‰¹æ€§ï¼šä¸ºè§£å†³ Javaï¼ŒKotlinï¼ŒScala ç­‰åŒ…é—®é¢˜ç®¡ç†è€Œæ¨å‡ºçš„ä¸€ç§ç‹¬ç«‹æ¡†æ¶ï¼Œä¹Ÿå°±ä¸‰åŸºäº DSL è®¾è®¡æ€æƒ³å‡ºæ¥çš„äº§ç‰©ï¼Œè€Œç›¸è¾ƒäº Mavenï¼ŒGradle å…¶æœ¬èº«å°±æ˜¯ä¸ºäº†è§£å†³ç‰¹å®šé¢†åŸŸçš„é—®é¢˜è€Œç”Ÿçš„ï¼Œå…¶æœ¬èº«è¯­æ³•ä¸Šå¯¼å…¥åŒ…æ›´ç®€æ´ï¼Œè€Œä¸”å¯ä»¥æ¯” Maven æ›´æ–¹ä¾¿è§£å†³æ’å…¥æ„å»ºæœŸçš„ä»£ç æ®µï¼Œè§£å†³äº† Maven ä¸€ç›´ä»¥æ¥éš¾ä»¥å®ç°çš„åœ°æ–¹ã€‚</p><h2 id="dsl-çš„è®¾è®¡ç›®æ ‡">DSL çš„è®¾è®¡ç›®æ ‡</h2><p>DSL çš„è®¾è®¡ç†åº”ååˆ†è°¨æ…ï¼Œåœ¨è½¯ä»¶å·¥ç¨‹ä¸Šï¼ŒDSL æ€»æ˜¯è´Ÿè´£è§£å†³é¢†åŸŸç›¸å…³é—®é¢˜åŠåº”ç”¨äºç‰¹å®šé¢†åŸŸã€‚ä¸€ä¸ªè‰¯å¥½çš„ DSL è¯­æ³•è®¾è®¡å¯ä»¥æœ‰åŠ©äºåœ¨ç‰¹å®šé¢†åŸŸæ›´æ–¹ä¾¿åœ°ä½¿ç”¨ï¼Œä»¥è‡³äºæå‡å¼€å‘æ•ˆç‡ã€‚</p><p>ä»¥ä¸‹ç»™å‡ºåœ¨ Wiki ç»™å‡ºçš„ä¸‰ä¸ªè®¾è®¡é‡ç‚¹çš„å®šä¹‰ï¼Œè€Œä¸”å‡æ˜¯æœ‰åˆ«äº GPL çš„ï¼š</p><blockquote><p>domain-specific languages are less comprehensive. domain-specific languages are much more expressive in their domain. domain-specific languages should exhibit minimal redundancy.</p></blockquote><ul><li>DSL ç›¸è¾ƒäº GPL è€Œè¨€èŒƒç”¨æ€§è¦ä½ï¼Œå› ä¸ºéœ€è¦ä¸“æ³¨äºå•ä¸ªç‰¹å®šé¢†åŸŸ</li><li>DSL ç†åº”åœ¨ç‰¹å®šé¢†åŸŸä¸Šæ¯”åŸºäº GPL å‘æŒ¥çš„ä½œç”¨æ›´å¤§æ›´å¹¿</li><li>DSL åº”è¯¥è¦å°½å¯èƒ½åœ°å°†ï¼ˆè¯­æ³•è®¾è®¡ï¼‰å†—ä½™éƒ¨åˆ†æœ€å°åŒ–ï¼Œæ›´ä¸ºç®€å•</li></ul><h2 id="æ€»ç»“">æ€»ç»“</h2><p>æ€»æ‹¬è€Œè¨€ï¼Œè™½ç„¶ GPL å‡ºæ¥çš„äº§ç‰©å¯ä»¥å¹¿æ³›åœ°åº”ç”¨åœ¨ä¸åŒé¢†åŸŸä¸Šï¼Œä¾‹å¦‚åºåˆ—åŒ–ï¼Œä¸Šè¿°çš„ Maven åŒ…ç®¡ç†ç­‰ï¼Œæœ‰äº›æ—¶å€™è¿™ç±»è¯­è¨€åœ¨è§£å†³æŸäº›é¢†åŸŸä¸Šçš„ç‰¹å®šé—®é¢˜å°±å¾ˆå›°éš¾ã€‚è€Œ DSL åˆ™å¯ä»¥è§£å†³æŸäº›ç‰¹å®šé¢†åŸŸçš„é—®é¢˜ï¼Œè€Œä¸”æå‡ºè¯¥é¢†åŸŸåº”ç”¨æ›´ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼Œå°±å¦‚åŒä¸Šè¿°çš„ Gradleï¼ŒSQL ç­‰ã€‚</p><h2 id="å»¶ä¼¸é˜…è¯»">å»¶ä¼¸é˜…è¯»</h2><ul><li><a href="https://en.wikipedia.org/wiki/Domain-specific_language" target="_blank" rel="noopener">Domain-specific language - Wikipedia</a></li><li><a href="https://stackoverflow.com/questions/809574/what-is-domain-specific-language-anybody-using-it-and-in-what-way" target="_blank" rel="noopener">What is domain specific language? Anybody using it? And in what way? - StackOverflow</a></li><li><a href="https://www.jetbrains.com/mps/concepts/domain-specific-languages/" target="_blank" rel="noopener">Domain-Specific Languages - Jetbrains</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸€ç›´ä»¥æ¥ï¼Œå¯¹äº DSL è¿™ä¸ªè¯å¤§å®¶åº”è¯¥æ˜¯æ—¢ç†Ÿæ‚‰è€Œåˆé™Œç”Ÿï¼Œç†Ÿæ‚‰çš„æ˜¯å®ƒå†™èµ·æ¥åƒå•¥æ ·ï¼Œé™Œç”Ÿçš„æ˜¯ä»–çš„æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œè€Œä»Šå¤©ä½œä¸ºç¬¬ä¸€ç¯‡åœ¨åšå®¢å‘å¸ƒçš„æ–‡ç« å°±æƒ³æ¥æ¢è®¨ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;dsl-çš„æœ¬è´¨ä¸è§£é‡Š&quot;&gt;DSL çš„æœ¬è´¨ä¸è§£é‡Š&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ Wi
      
    
    </summary>
    
    
      <category term="DSL" scheme="https://a9032676.github.io/tags/dsl/"/>
    
      <category term="ä»£ç è®¾è®¡" scheme="https://a9032676.github.io/tags/%E4%BB%A3%E7%A0%81%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
</feed>
