{"meta":{"title":"9032676's Blog","subtitle":"ä¸ºæ¢ç´¢è€Œç”Ÿ","description":null,"author":9032676,"url":"https://a9032676.github.io"},"pages":[{"title":"å…³äºæˆ‘","date":"2018-11-21T20:18:45.000Z","updated":"2021-04-11T15:06:10.618Z","comments":true,"path":"about-me/index.html","permalink":"https://a9032676.github.io/about-me/index.html","excerpt":"","text":"æ›¾åœ¨å›½å†… Minecraft åœˆå­æ··è¿¹å¤šå¹´ï¼Œæ›¾ç»å‚ä¸è¿‡ä¼—å¤šæœåŠ¡å™¨å»ºè®¾ï¼Œæ’ä»¶ä»¥åŠ Mod ç­‰å¼€å‘ç»´æŠ¤ç­‰å·¥ä½œï¼ŒæœŸé—´æ›´è®¤è¯†äº†ä¸€ä¼—å¼€å‘/ç”Ÿæ´»ä¸Šçš„å¥½å‹ï¼Œå¸®åŠ©æå‡æˆ‘æ—¥åçš„å¼€å‘æ°´å¹³ï¼Œè§†é‡ã€‚åŒæ—¶ä¹Ÿæ”¶è·äº†æˆå°±æ„Ÿï¼Œè®©æˆ‘é‡æ–°å±•æœ›æœªæ¥ã€‚åœ¨æ­¤æ„Ÿè°¢æ›¾ç»å¸®åŠ©è¿‡æˆ‘ï¼Œæ”¯æŒè¿‡æˆ‘çš„ä¸€ä¼—å¥½å‹ï¼ @card{ å…´è¶£çˆ±å¥½ éŸ³æ¸¸æ–¹é¢ï¼šOsu! Cytusã€‚æ‰“ç²‰é¥¼å¤§æ¦‚æœ‰ä¸ªæ¥è¿‘ä¸¤å¹´äº†ï¼Œé€”ä¸­è¿˜è·‘å»é­”æ”¹äº†ä¸‹ Osuï¼Œè€Œ Cytus åˆ™æ˜¯è¿‘æœŸæ‰å¼€å§‹æ‰“ å¤ªç©ºç§‘å¹»é¢˜æï¼šSpace Engineers EVE Stellaris Warframe ç­–ç•¥/ç”Ÿå­˜/å¤§ç”Ÿäº§ï¼šMinecraft Space Engineers Factorio é—®æˆ‘ä¸ºä»€ä¹ˆæ²¡æœ‰FPSæ¸¸æˆï¼Ÿå› ä¸ºæˆ‘æ˜¯FPSé¬¼(cai)æ‰(bi)å¥½å§ æ­»ä¹Ÿè¦é’»ç ”ä¸€äº›æœ‰å…´è¶£çš„é—®é¢˜ åº·å¥½åº·çš„ç•ª/åº·å¥½åº·çš„è®°å½•ç‰‡ å¿ å®è½¦ä¸‡å¨ï¼Œè™½ç„¶å¹¶éåŸè‘— STG ç©å®¶ï¼Œä½†è¢«å…¶äºŒæ¬¡åˆ›ä½œä½œå“é­…åŠ›æ·±æ·±æŠ˜æœï¼Œå¹³æ—¶çˆ±å¥½å¬ä¸œæ–¹éŸ³ä¹ å–œå¥½çš„ç¤¾å›¢/å”±è§æœ‰ä¾‹å¦‚ï¼šå‡‹å¶æ£•ï¼Œã‚ã‚‰ã¿ã½ã£ã·ï¼Œå¹½é–‰ã‚µãƒ†ãƒ©ã‚¤ãƒˆ ç­‰ å’•å’•å’•ï¼Ÿ } @column-3{ @card{ ä¸»è¦ä½¿ç”¨ç¼–ç¨‹è¯­è¨€ Haskell Agda Kotlin Java C# TypeScript Arend (æœªæ¥) Idris (æœªæ¥) } @card{ èµç¾IDE / Text Editor Intellij IDEA MPS Emacs Vim / NeoVim VSCode } @card{ æ—¥åç ”ç©¶é¢†åŸŸ Multi-threading programming and parallel Category Theory Homotopy Type Theory Programming Language Theory (PLT) OpenGL and Linear algebra } } @column-2{ @card{ èŒè¡” / èŒåŠ¡ å‰ YourCraft æœåŠ¡å™¨æŠ€æœ¯ç»„é•¿ è´Ÿè´£æ—¥å¸¸å¼€å‘åŠåå°è¿ç»´å·¥ä½œ Cthuwork å¼€å‘ç»„æˆå‘˜ è´Ÿè´£ç»´æŠ¤æœåŠ¡å™¨æ—¥å¸¸ç¨³å®š Minecraft æ’ä»¶ç™¾ç§‘æˆå‘˜ è´¡çŒ®è„‘æ´ï¼Ÿ BakaXL Dev æˆå‘˜ è´Ÿè´£æ‘¸é±¼ } @card{ è”ç³»æ–¹å¼ QQ / TIM: 499723944 å¸¸ç”¨ Discord: @9032676#2654 Telegram: 9032676 Steam: 9032676 Email: 9032676@gmail.com } }"},{"title":"categories","date":"2021-02-27T02:51:13.000Z","updated":"2021-02-27T02:52:00.081Z","comments":false,"path":"categories/index.html","permalink":"https://a9032676.github.io/categories/index.html","excerpt":"","text":""},{"title":"åº·å¤§ä½¬ä»¬","date":"2018-11-21T20:18:45.000Z","updated":"2021-04-11T15:04:51.142Z","comments":true,"path":"friends/index.html","permalink":"https://a9032676.github.io/friends/index.html","excerpt":"","text":"@card{ TTèŒçš„èŒèŒå“’å°å±‹ å®…é­‚Killçš„ç©ºé—´ ustc-zzzz's blog è¯è½çš„åšå®¢ LK çš„åšå®¢ MCdarc çš„åšå®¢ ç³ç³çš„åšå®¢ KBlack's blog }"},{"title":"tags","date":"2021-02-27T02:51:04.000Z","updated":"2021-02-27T02:51:44.305Z","comments":false,"path":"tags/index.html","permalink":"https://a9032676.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Yoneda Lemma çš„è¯æ˜","slug":"Yoneda-Lemma","date":"2021-01-21T16:29:00.000Z","updated":"2021-03-02T06:05:13.550Z","comments":true,"path":"2021/01/22/Yoneda-Lemma/","link":"","permalink":"https://a9032676.github.io/2021/01/22/Yoneda-Lemma/","excerpt":"","text":"é˜…è¯»é¡»çŸ¥ æœ¬ç¯‡æ–‡ç« é¢å‘äººç¾¤æ˜¯æ¥è§¦è¿‡ Category theory (èŒƒç•´è®º) ä»¥åŠ å‡½æ•°å¼ç¼–ç¨‹ï¼Œä½†æœªæ›¾æ¥è§¦è¿‡ Yoneda Lemma (ç±³ç”°å¼•ç†) çš„è¯»è€…é£Ÿç”¨ã€‚ é€šç¯‡å¯¹äºèŒƒç•´è®ºå†…çš„ä¸“æœ‰åè¯ä¸€å¾‹é‡‡ç”¨äº†è‹±æ–‡è¯æ±‡çš„å½¢å¼è¡¨è¾¾ï¼Œä»¥é˜²ä¸­æ–‡ç¿»è¯‘å„ç±»å‹æ–‡ç« ä¸ç»Ÿä¸€ï¼Œå¯èƒ½å­˜åœ¨è¯¯å¯¼æ€§ã€‚ æ–‡ç« ä¸­å¯èƒ½ä¼šå­˜åœ¨ä¸€äº› Agda æˆ– Haskell è¯­è¨€çš„ä»£ç ã€‚æ²¡æœ‰ç›¸å…³çŸ¥è¯†ä¸è¦ç´§ï¼Œè¿™åªæ˜¯ç»™äºˆç›¸å…³é¢†åŸŸçš„æœ‹å‹ä¸€ä¸ªç›´è§‰ï¼Œç”¨ä»¥è¾…åŠ©è¯´æ˜çš„ã€‚ è¿™æ˜¯æˆ‘åœ¨çŸ¥ä¹å‘å¸ƒçš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œå¦‚å¯¹æ–‡ç« æœ¬èº«æŠ±æœ‰ä»»ä½•ç–‘é—®æˆ–æ˜¯çº é”™æ¬¢è¿æå‡ºï¼Œåœ¨æ­¤æ„Ÿè°¢å„ä½ï¼ å‰è¨€ Yoneda Lemma (ç±³ç”°å¼•ç†) æ˜¯èŒƒç•´è®ºé‡Œé¢ä¸€ä¸ªæœ‰å…³å‡½å­çš„æ€å°„å®è´¨ä¸Šå¯è¢«æ˜ å°„è‡³å›ºå®šå¯¹è±¡ä¸Šçš„é‡è¦ç»“è®ºï¼Œä½¿æˆ‘ä»¬å¾—ä»¥é€è¿‡è¯¥å¼•ç†å»æ¨å¯¼å‡ºæ›´å¤šçš„å®šç†å‡ºæ¥ï¼Œæˆ–è€…é€è¿‡è¯¥å¼•ç†è§‚å¯ŸæŸäº›ç»“æ„ä¸Šçš„å¾®å¦™è”ç³»ï¼Œè€Œå¯¹åº”åˆ°è®¡ç®—æœºç¼–ç¨‹ä¸Šäº¦å¯æ“¦å‡ºç«èŠ±ï¼Œæ¯”å¦‚ Yoneda-embedding ä¸ CPS å˜æ¢ çš„å…³ç³»ç­‰ç­‰ã€‚å½“ç„¶ï¼Œæœ¬ç¯‡æ–‡ç« ä¸»è¦ç›®çš„çš†æŒ‡åœ¨äºå¼•å¯¼è¯»è€…ä¸€æ­¥æ­¥åœ°æ¨å¯¼å‡º Yoneda Lemmaï¼Œä»¥åŠç»™äºˆç›¸åº”çš„ç›´è§‰ã€‚ ç”±äº Yoneda Lemma æ¶‰åŠåˆ°ä¸€äº›èŒƒç•´è®ºä¸Šçš„å‰ç½®çŸ¥è¯†ï¼Œå› æ­¤åœ¨ä»‹ç» Yoneda Lemma ä¹‹å‰ï¼Œé¦–å…ˆä» hom-set å¼€å§‹è®²èµ·ã€‚ Hom-set (Hom-é›†åˆ) å°±å‡½æ•°è€Œè¨€ï¼Œæ¯”æ–¹è¯´ä» \\(\\Bbb{Z}\\) åˆ° \\(\\Bbb{Z}\\) ä¹‹é—´çš„æ˜ å°„å­˜åœ¨çš„å¯èƒ½ä¸æ­¢æœ‰ä»…ä»…ä¸€æ¡å‡½æ•°ï¼Œå®ƒå¯èƒ½è¿˜å­˜åœ¨ç€å¾ˆå¤šä¸åŒçš„å‡½æ•°ï¼Œè¯¸å¦‚ \\(f,\\ g,\\ h, ... : \\Bbb{Z} \\to \\Bbb{Z}\\) ç­‰ç­‰ã€‚è€Œç”±è¿™ä¸€æŸå‡½æ•°æ‰€ç»„æˆçš„é›†åˆï¼Œåœ¨èŒƒç•´è®ºä¸­åˆ™è¢«ç§°ä¹‹ä¸º hom-setï¼Œå³ç”± morphism(s) æ‰€ç»„æˆçš„é›†åˆã€‚ ç”±é›†åˆä½œä¸º object æ‰€ç»„æˆçš„ category åˆ™è¢«ç§°ä¹‹ä¸º category of sets (é›†åˆèŒƒç•´)ï¼Œå®ƒä»¬ä¹‹é—´çš„ morphism(s) å³æ˜¯ hom-set(s)ï¼Œå› æ­¤ä¹Ÿå¯è¢«ç§°ä¸º locally small category (å±€éƒ¨å°èŒƒç•´)ã€‚ å®šä¹‰ ç»™å®š object \\(x,\\ y\\) äº locally small category \\(C\\) å†…ï¼Œhom-set åˆ™æ˜¯æ‰€æœ‰ä» object \\(x\\) åˆ° \\(y\\) çš„ morphisms æ‰€å½¢æˆçš„æœé›†ï¼Œè®°ä¸º \\(Hom_C(x,\\ y)\\) ï¼ˆè¿™é‡Œçš„ \\(C\\) ä¸º category çš„åå­—ï¼Œæˆ–æ˜¯ \\(C(x,\\ y)\\)ï¼Œå¹¶ä¸”å¯çœç•¥åœ°è®°ä¸º \\(Hom(x,\\ y)\\)ï¼‰ã€‚ ä¾‹å­ è®¾æœ‰ category \\(C\\)ï¼Œå¹¶ä¸”æœ‰ï¼š 1. Objectsï¼š\\(a,\\ b \\in obj(C)\\) 2. Morphismsï¼š\\(f : a \\to b\\)ï¼Œ\\(g : a \\to b\\)ï¼Œ\\(h : a \\to b\\) \\[ \\xymatrix{ a \\ar@{-&gt;}[r]|-{f} \\ar@/^1pc/@{-&gt;}[r]|-{g} \\ar@/_1pc/@{-&gt;}[r]|-{h} &amp; b } \\] é‚£ä¹ˆå¯¹äºæ‰€æœ‰ä» object \\(a\\) åˆ° \\(b\\) çš„ morphismsï¼Œåˆ™è®°ä¸º \\(Hom_C(a,\\ b)\\)ï¼Œå› æ­¤ \\(f,\\ g,\\ h \\in Hom_C(a,\\ b)\\) ã€‚ Hom-functor (Hom-å‡½å­) ç”±äº Yoneda Lemma æ¶‰åŠåˆ° hom-functor çš„æ¦‚å¿µï¼Œå› æ­¤ hom-set è‚¯å®šæ˜¯ä¸è¶³å¤Ÿè¡¨è¾¾ Yoneda Lemma å«ä¹‰çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº‹å…ˆå®šä¹‰ä¸€ä¸‹ä½•ä¸º hom-functorã€‚è€Œ hom-functor å…±åˆ†ä¸ºä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ covariantï¼Œcontravariant ä»¥åŠ mixed-variant hom-functorã€‚ Covariant Hom-functor (åå˜ Hom-å‡½å­) æˆ‘ä»¬éƒ½çŸ¥é“åœ¨ object ä¹‹é—´çš„ morphism(s) æ‰€ç»„æˆçš„é›†åˆæ˜¯ hom-setã€‚è€Œå¯¹äº hom-functor è€Œè¨€ï¼Œé€šä¿—çš„è¯´å³æ˜¯æŠŠ object ä»åŸæ¥çš„ category ä¸­æ˜ å°„ä¸º hom-setï¼Œå¹¶ä¸”æŠŠ morphisms æ˜ å°„ä¸º hom-sets ä¹‹é—´çš„ morphismsï¼Œè¿›è€Œå»ºç«‹ (covariant) hom-functor çš„æ¦‚å¿µã€‚ é‚£ä¹ˆè¯¥å¦‚ä½•æ„é€ å‡ºè¿™ä¸€æ¦‚å¿µï¼Ÿå¯¹äºè¿™ä¸€ç–‘é—®ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå‡è®¾æœ‰ locally small category \\(C\\) ä»¥åŠä¸€äº› objectï¼Œä¾‹å¦‚ \\(X, A, B \\in obj(C)\\)ï¼Œç„¶å å¯¹äºæ‰€æœ‰ \\(X\\) å°†ä½œä¸º fixed objectï¼Œå¹¶ä¸”åˆ†åˆ«æœ‰ \\(X\\) åˆ° \\(A\\) ä»¥åŠ \\(X\\) åˆ° \\(B\\) çš„ hom-setsã€‚é‚£ä¹ˆ (covariant) hom-functor çš„æ ·å­æ˜¯è¿™æ ·çš„ï¼š \\[ \\xymatrix{ X \\ar@/_/@{-&gt;}[r] \\ar@{-&gt;}[rd] \\ar@/^/@{-&gt;}[r] \\ar@/_/@{-&gt;}[rd] \\ar@/^/@{-&gt;}[rd] \\ar@{-&gt;}[r] &amp; A \\ar@/^/@{-&gt;}[rrr]^{Covariant\\ hom-functor} &amp; &amp; &amp; Hom(X,\\ A) \\\\ &amp; B \\ar@/^/@{-&gt;}[rrr]^{Covariant\\ hom-functor} &amp; &amp; &amp; Hom(X,\\ B) } \\] ä»ä¸Šå›¾å¯è§ï¼Œå½“æŠŠ \\(X\\) ç»™å›ºå®šä½åï¼Œobject \\(A\\) å°†ä¼šæ˜ å°„ä¸ºä¸€ä¸ª \\(Hom(X,\\ A)\\)ï¼Œ\\(B\\) åˆ™è¢«æ˜ å°„ä¸º \\(Hom(X,\\ B)\\)ï¼Œæ‰€ä»¥è¯´åªè¦æŠŠå…¶ä¸­ä¸€è¾¹ç»™å›ºå®šä½äº† (è¿™é‡Œå›ºå®šäº† hom-set çš„å·¦ä¾§ï¼Œè€Œå³ä¾§å¯å˜çš„ä½ç½®æ˜¯åå˜ä½ï¼Œå› æ­¤ç§°ä¸º covariant hom-functor)ï¼Œå¯¹äºä»»ä½•å¯å˜çš„ object (è¿™é‡Œåˆ™æŒ‡ \\(A\\) æˆ– \\(B\\))ï¼Œä¾¿å¯é€è¿‡ (covariant) hom-functor è¢«æ˜ å°„æˆ hom-set äº†ã€‚ å½“ç„¶ï¼Œé™¤äº† object ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è®¾æƒ³ morphisms çš„æƒ…å†µã€‚ ç°åœ¨è®¾ \\(A\\) å’Œ \\(B\\) ä¹‹é—´å­˜åœ¨ morphism \\(f\\)ï¼Œé‚£ä¹ˆå¯¹äº morphisms è€Œè¨€ï¼Œè¢«æ˜ å°„è‡³ \\(Set\\) ä¹‹åä¾¿æ˜¯è¿™æ ·ï¼š \\[ \\xymatrix{ X \\ar@/_/@{-&gt;}[r] \\ar@{-&gt;}[rd] \\ar@/^/@{-&gt;}[r] \\ar@/_/@{-&gt;}[rd] \\ar@/^/@{-&gt;}[rd] \\ar@{-&gt;}[r] &amp; A \\ar@/^/@{-&gt;}[rrr]^{Covariant\\ hom-functor} \\ar@{-&gt;}[d]^{f} &amp; &amp; &amp; Hom(X,\\ A) \\ar@{-&gt;}[d]^{Hom(X,\\ f)} \\\\ &amp; B \\ar@/^/@{-&gt;}[rrr]^{Covariant\\ hom-functor} &amp; &amp; &amp; Hom(X,\\ B) } \\] å³ morphism \\(f\\) å°†è¢«æ˜ å°„æˆ \\(Hom(X,\\ f)\\) (è¿™é‡Œå¯ä»¥ç†è§£ä¸º \\(Hom(id_X,\\ f)\\))ã€‚ é‚£ä¹ˆä¾¿å¯æ€»ç»“å‡ºè§„å¾‹ï¼Œæƒ³è¦å®šä¹‰å‡º hom-functor çš„æ¦‚å¿µï¼Œå¿…é¡»è¦çŸ¥é“åˆ°åº• objects æ˜¯åº”è¯¥æ€æ ·è¢«æ˜ å°„çš„ï¼Œmorphisms äº¦åº”æ€ä¹ˆè¢«æ˜ å°„çš„ï¼Œå¹¶ä¸”è¯æ˜å…¶æ»¡è¶³ functor lawsï¼Œæœ€ç»ˆä¾¿å¯å®šä¹‰å‡º covariant hom-functor äº†ã€‚ å®šä¹‰ è®¾æœ‰ locally small category \\(C\\)ï¼Œå›ºå®š \\(C\\) ä¸‹çš„ object \\(X\\) ä¸º fixed objectï¼Œæœ‰ï¼š 1. Objectsï¼š\\(A, B \\in obj(C)\\)ï¼Œ\\(Hom(X,\\ A)\\)ï¼Œ\\(Hom(X,\\ B) \\in obj(Set)\\) 2. Morphismsï¼š\\(f : A \\to B, g : X \\to A \\in mor(C)\\)ï¼Œ\\(Hom(X,\\ f) \\in mor(Set)\\) åˆ™ \\(Hom(X, -) : C \\to Set\\) (æˆ– \\(h_X\\)) è¢«ç§°ä¸º covariant hom-functorï¼Œå¹¶æœ‰å¦‚ä¸‹å›¾è¡¨ï¼š \\[ \\xymatrix{ X \\ar@{-&gt;}[r]^{g} \\ar@{-&gt;}[rd]_{f \\circ g} &amp; A \\ar@{-&gt;}[d]^{f} \\ar@/^/@{-&gt;}[rr]|-{Hom(X,-)} &amp; &amp; Hom(X, A) \\ar@{-&gt;}[d]_{Hom(X, f)} &amp; g \\ar@{|-&gt;}[d] \\\\ &amp; B \\ar@/^/@{-&gt;}[rr]|-{Hom(X,-)} &amp; &amp; Hom(X, B) &amp; f \\circ g } \\] è€Œ covariant hom-functor ç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š \\(obj(C) \\to obj(Set)\\)ï¼š\\(\\forall A \\in obj(C)ï¼Œæœ‰ A \\mapsto Hom(X,\\ A)\\) \\(mor(C) \\to mor(Set)\\)ï¼š\\(\\forall f \\in A \\to B\\)ï¼Œ\\(g : Hom(X,\\ A)\\)ï¼Œæœ‰ \\(g \\mapsto f \\circ g\\) Covariant hom-functor æœ¬èº«ç»“æ„æ˜¯ \\(F : C \\to Set\\)ï¼Œå› æ­¤ä¹Ÿå¯è¢«ç§°ä¸º representable functor (å¯è¡¨å‡½å­) ã€‚ è¯æ˜ Identity lawsï¼š\\(Hom(X, id_A) = id_A\\) Composition lawsï¼š\\(Hom(X,\\ g \\circ f) = Hom(X,\\ g) \\circ Hom(X,\\ f)\\) ç”±æ­¤å¯è§ covariant hom-functor æ»¡è¶³ functor lawsï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ª functorã€‚ Contravariant Hom-functor (é€†å˜ Hom-å‡½å­) è€Œ contravariant hom-functorï¼Œåªéœ€æŠŠ covariant hom-functor ä¸­ domain (é€†å˜ä½ç½®) æˆ– codomain (åå˜ä½ç½®) å…¶ä¸­ä»»æ„ä¸€ä¸ª category æ”¹ä¸º opposite categoryï¼Œè¿™é‡Œæˆ‘ä»¬é‡‡ç”¨æ”¹å˜é€†å˜ä½ç½®çš„ categoryï¼Œå³æœ‰ï¼š \\[ \\xymatrix{ X &amp; A \\ar@/^/@{-&gt;}[l] \\ar@/^/@{-&gt;}[rrr]^{Contravariant\\ hom-functor} \\ar@/_/@{-&gt;}[l] \\ar@{-&gt;}[l] &amp; &amp; &amp; Hom(A,\\ X) \\ar@{-&gt;}[d]^{Hom(f,\\ X)} \\\\ &amp; B \\ar@{-&gt;}[lu] \\ar@/^/@{-&gt;}[rrr]^{Contravariant\\ hom-functor} \\ar@/^/@{-&gt;}[lu] \\ar@/_/@{-&gt;}[lu] \\ar@{-&gt;}[u]_{f} &amp; &amp; &amp; Hom(B,\\ X) } \\] å®šä¹‰ è®¾æœ‰ locally small category \\(C^{op}\\)ï¼Œå›ºå®š \\(C\\) ä¸‹çš„ object \\(X\\) ä¸º fixed objectï¼Œå¹¶ä¸”æœ‰ï¼š 1. Objectsï¼š\\(A, B \\in Obj(C^{op})\\)ï¼Œ\\(Hom(A,\\ X), Hom(B,\\ X) \\in obj(Set)\\) 2. Morphismsï¼š\\(f : B \\to A, g : A \\to X \\in mor(C)\\)ï¼Œ\\(Hom(f,\\ X) \\in mor(Set)\\) åˆ™ \\(Hom(-, X) : C \\to Set\\) (æˆ– \\(h^X\\)) è¢«ç§°ä¸º contravariant hom-functorï¼Œå¹¶æœ‰å¦‚ä¸‹å›¾è¡¨ï¼š \\[ \\xymatrix{ X &amp; A \\ar@{-&gt;}[l]_{g} \\ar@/^/@{-&gt;}[rr]^{Hom(-,\\ X)} &amp; &amp; Hom(A,\\ X) \\ar@{-&gt;}[d]^{Hom(f,\\ X)} &amp; g \\ar@{|-&gt;}[d] \\\\ &amp; B \\ar@{-&gt;}[lu]^{f \\circ g} \\ar@/^/@{-&gt;}[rr]^{Hom(-,\\ X)} \\ar@{-&gt;}[u]_{f} &amp; &amp; Hom(B,\\ X) &amp; f \\circ g } \\] è€Œ contravariant hom-functor ç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š \\(obj(C^{op}) \\to obj(Set)\\)ï¼š\\(\\forall A \\in obj(C^{op})\\)ï¼Œæœ‰ \\(A \\mapsto Hom(A,\\ X)\\) \\(mor(C^{op}) \\to mor(Set)\\)ï¼š\\(\\forall f \\in B \\to A\\)ï¼Œ\\(g : Hom(A,\\ X)\\)ï¼Œæœ‰ \\(g \\mapsto f \\circ g\\) Contravariant hom-functor æœ¬èº«ç»“æ„æ˜¯ \\(F : C^{op} \\to Set\\)ï¼Œäºæ‹“æ‰‘é‡Œæœ‰å¦å¤–ä¸€ä¸ªåå­—ï¼Œç§°ä¹‹ä¸º presheaf (é¢„å±‚) ã€‚ è¯æ˜ Identity lawsï¼š\\(Hom(id_A, X) = id_A\\) Composition lawsï¼š\\(Hom(g \\circ f,\\ X) = Hom(g,\\ X) \\circ Hom(f,\\ X)\\) ç”±æ­¤å¯è§ contravariant hom-functor æ»¡è¶³ functor lawsï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ª functorã€‚ Mixed-variant Hom-functor (åŒå˜ Hom-å‡½å­) Mixed-variant hom-functor ç›¸è¾ƒäºä¸Šè¿°çš„ covariant åŠ contravariant hom-functorï¼Œæœ€å¤§çš„åŒºåˆ«æ˜¯å®ƒèƒ½åŒæ—¶æ¥å—ä¸¤ä¸ªå˜å…ƒï¼Œå³ \\(Hom(-, -) : C^{op} \\times C \\to Set\\)ï¼Œå› æ­¤è¢«ç§°ä¸º mixed-variant hom-functorï¼Œè¯¥ functor æ˜¯ä¸€ä¸ª \\(Id_C\\) çš„ profunctorï¼Œäº¦å¯è¢«è§†ä¸ºæ˜¯ä¸€ä¸ª bifunctor çš„ç»“æ„ã€‚ å®šä¹‰ è®¾æœ‰ locally small category \\(C\\) å¹¶ä¸”æœ‰ \\(C\\) çš„ opposite category \\(C^{op}\\) Objectsï¼š\\(A, A&#39; \\in Obj(C^{op})\\)ï¼Œ\\(B, B&#39; \\in Obj(C)\\) Morphismsï¼š\\(f : A&#39; \\to A\\)ï¼Œ\\(h : B \\to B&#39;\\) Functorsï¼š\\(Hom(-, X) : C^{op} \\to Set\\)ï¼Œ\\(Hom(X, -) : C \\to Set\\) é‚£ä¹ˆå³æœ‰å›¾ï¼š \\[ \\xymatrix{ A \\ar@{-&gt;}[rr]^{Hom(-,X)} &amp; &amp; Hom(A,\\ B) \\ar@{-&gt;}[rd]^{Hom(f,\\ h)} &amp; \\\\ A&#39; \\ar@{-&gt;}[u]^{f} \\ar@{-&gt;}[rrr]^{Hom(-,X)} &amp; &amp; &amp; Hom(A&#39;,\\ B&#39;) \\\\ &amp; &amp; &amp; \\\\ &amp; &amp; B \\ar@{-&gt;}[r]_{h} \\ar@{-&gt;}[uuu]|-{Hom(X,-)} &amp; B&#39; \\ar@{-&gt;}[uu]|-{Hom(X,-)} } \\] è€Œç”±äº \\(Hom(X, -)\\) ä»¥åŠ \\(Hom(-, X)\\) äºŒè€…çš†æ˜¯ä»æŸä¸ª category ä¸­ morphism è‡³ \\(Set\\)ï¼Œå› æ­¤è¯¥å¤„å¯æ„æˆä¸€ product category (ä¹˜ç§¯èŒƒç•´)ï¼Œå³ \\(C^{op} \\times C\\)ï¼Œæ‰€ä»¥æœ‰ functor \\(Hom(-, -) : C^{op} \\times C \\to Set\\)ï¼š \\[ \\xymatrix{ &amp; &amp; Hom(A,\\ B) \\ar@{-&gt;}[rd]|-{Hom(f,\\ h)} &amp; \\\\ A \\ar@{-&gt;}[r] &amp; (A,\\ B) \\ar@{-&gt;}[rd]|-{(f,\\ h)} \\ar@{-&gt;}[ru]|-{Hom(-,\\ -)} &amp; &amp; Hom(A&#39;, \\ B&#39;) \\\\ A&#39; \\ar@{-&gt;}[u]^{f} \\ar@{-&gt;}[rr] &amp; &amp; (A&#39;,\\ B&#39;) \\ar@{-&gt;}[ru]|-{Hom(-,\\ -)} &amp; \\\\ &amp; B \\ar@{-&gt;}[r]_{h} \\ar@{-&gt;}[uu] &amp; B&#39; \\ar@{-&gt;}[u] &amp; } \\] è€Œå¯¹äº \\(Set\\) ä¸­ \\(Hom(f,\\ h) : Hom(A,\\ B) \\to Hom(A&#39;,\\ B&#39;)\\)ï¼Œå‡è®¾å›ºå®šä»»æ„ä¸€è¾¹çš„å˜å…ƒä¸º \\(id\\)ï¼Œé‚£ä¹ˆ morphisms åˆ™ä¸ºï¼š\\(Hom(id_A,\\ h) : Hom(A, B) \\to Hom(A, B&#39;)\\)ï¼Œ\\(Hom(f,\\ id_B) : Hom(A,\\ B) \\to Hom(A&#39;,\\ B)\\)ï¼Œ\\(Hom(id_{A&#39;},\\ h) : Hom(A&#39;, B) \\to Hom(A&#39;, B&#39;)\\)ï¼Œ\\(Hom(f,\\ id_{B&#39;}) : Hom(A,\\ B&#39;) \\to Hom(A&#39;,\\ B&#39;)\\)ï¼Œæ‰€ä»¥ä¼šæœ‰å›¾ï¼š \\[ \\xymatrix{ Hom(A,\\ B) \\ar@{-&gt;}[rr]^{Hom(A,\\ h)} \\ar@{-&gt;}[dd]_{Hom(f,\\ B)} &amp; &amp; Hom(A,\\ B&#39;) \\ar@{-&gt;}[dd]^{Hom(f,\\ B&#39;)} \\\\ &amp; &amp; \\\\ Hom(A&#39;,\\ B) \\ar@{-&gt;}[rr]_{Hom(A&#39;,\\ h)} &amp; &amp; Hom(A&#39;,\\ B&#39;) } \\] ä¸ºäº†è¯æ˜è¯¥å›¾å¯äº¤æ¢ï¼Œç°åœ¨å‡è®¾æœ‰ \\(g \\in Hom(A,\\ B)\\)ï¼Œé‚£ä¹ˆæœ‰ï¼š \\[ \\xymatrix{ Hom(A,\\ B) \\ar@{-&gt;}[rrr]^{Hom(A,\\ h)} \\ar@{-&gt;}[ddd]_{Hom(f,\\ B)} &amp; &amp; &amp; Hom(A,\\ B&#39;) \\ar@{-&gt;}[ddd]^{Hom(f,\\ B&#39;)} \\\\ &amp; g \\ar@{|-&gt;}[r] \\ar@{|-&gt;}[d] &amp; h \\circ g \\ar@{|-&gt;}[d] &amp; \\\\ &amp; g \\circ f \\ar@{|-&gt;}[r] &amp; h \\circ g \\circ f &amp; \\\\ Hom(A&#39;,\\ B) \\ar@{-&gt;}[rrr]_{Hom(A&#39;,\\ h)} &amp; &amp; &amp; Hom(A&#39;,\\ B&#39;) } \\] æœ€ç»ˆå¾—å‡ºç»“è®ºï¼š\\(g \\mapsto h \\circ g \\circ f : Hom(A,\\ B) \\to Hom(A&#39;,\\ B&#39;)\\)ï¼Œå› æ­¤è¯¥å›¾å¯äº¤æ¢ã€‚ Yoneda Lemma åœ¨æŠŠä¸Šè¿°çš„ hom-setï¼Œhom-functor ç­‰æ¦‚å¿µå®šä¹‰å®Œæ¯•åï¼Œç°åœ¨æˆ‘ä»¬ç»ˆäºå¯ä»¥å¼€å§‹æ¥è°ˆè°ˆä½•ä¸º Yoneda Lemma äº†ï¼Œé¦–å…ˆæˆ‘ä»¬ä»å®ƒçš„å®šä¹‰å¼€å§‹ã€‚ å®šä¹‰ è®¾ \\(C\\) ä¸ºä»»æ„çš„ locally small category ä»¥åŠæœ‰ category \\(Set\\) å›ºå®šæŸä¸ª object \\(X \\in Obj(C)\\) Functorsï¼š\\(Hom(X, -) : C \\to Set\\)ï¼Œä¸€ä¸ªä»»æ„çš„ functor \\(F : C \\to Set\\) è€Œ Yoneda Lemma æ‰€æè¿°çš„å³è®¾æœ‰ä»»ä¸€çš„å¯¹äº \\(Hom(X, -)\\) ä¸ \\(F\\) ä¹‹é—´çš„ natural transformation (è‡ªç„¶å˜æ¢) \\(\\alpha\\)ï¼Œå®ƒä¸ \\(x \\in F(X)\\) å³å¯è§†ä¸ºæ˜¯ isomorphic çš„ã€‚æ¢å¥è¯è¯´å³å¯¹äºé›†åˆ \\(F(X)\\)ï¼Œå®ƒå¿…å®šèƒ½å¤Ÿä¸€å¯¹ä¸€åœ°æŠŠ objects ä» \\(F(X)\\) bijection è‡³ \\(Hom(Hom(X, -),\\ F)\\) é›†åˆä¸Šçš„ functorã€‚ ç±³ç”°å¼•ç†çš„å½¢å¼åŒ–å®šä¹‰å¦‚ä¸‹ï¼š \\[ [C,\\ Set](Hom(X, -),\\ F) \\cong F(X) \\] å…¶ä¸­ \\([C,\\ Set]\\) æ˜¯ä¸€ functor category (å‡½å­èŒƒç•´)ï¼Œobject ä¸º functorï¼Œmorphisms åˆ™ä¸º natural transformationsã€‚ æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¹Ÿèƒ½æŠŠ functor category æ›¿æ¢æˆ \\(Set\\)ï¼Œå…¶å«ä¹‰æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤æœ‰ï¼š \\[ Hom(Hom(X, -),\\ F) \\cong F(X) \\] é€è¿‡äº¤æ¢å›¾è§‚å¯Ÿç±³ç”°å¼•ç†çš„ç»“æ„ ç”±äºæ–‡å­—å™è¿°å¾€å¾€ä¸æ˜¯å¾ˆç›´è§‚ï¼Œå› æ­¤è®©æˆ‘ä»¬ä»äº¤æ¢å›¾çš„è§’åº¦æ¥è§‚å¯Ÿä¸€ä¸‹ç±³ç”°å¼•ç†ï¼š é¦–å…ˆå®šä¹‰ \\(A, B \\in Obj(C)\\)ï¼Œä¸”æœ‰æ€å°„ \\(f : A \\to B\\)ï¼Œä»¥åŠä¸€ä¸ªä»»æ„çš„ object \\(X\\)ï¼Œå› æ­¤å¯¹äº category \\(C\\)ï¼Œæˆ‘ä»¬æœ‰ï¼š \\[ \\xymatrix{ X \\ar@{--&gt;}[r]^{-} \\ar@{--&gt;}[rd]_{f \\circ -} &amp; A \\ar@{-&gt;}[d]^{f} \\\\ &amp; B } \\] å› æ­¤å¯¹äºä»»æ„ \\(X\\)ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å‡º morphism \\(- : X \\to A\\) ä»¥åŠ \\(f \\circ - : X \\to B\\)ã€‚ è€Œåè€ƒè™‘åˆ°æœ‰ functor \\(Hom(X,\\ -) : C \\to Set\\) å’Œ \\(F : C \\to Set\\)ï¼Œä»¥åŠæœ‰ä¸€è‡ªç„¶å˜æ¢ \\(\\alpha : Hom(X, -) \\to F\\)ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾—å‡ºå¦‚ä¸‹å›¾ï¼š \\[ \\xymatrix{ X \\ar@{--&gt;}[r]^{-} \\ar@{--&gt;}[rd]_{f \\circ -} &amp; A \\ar@{-&gt;}[d]^{f} \\ar@/^/@{-&gt;}[rrdd]|-{Hom(X,-)} \\ar@/^/@{-&gt;}[rrrrdd]|-{F} &amp; &amp; &amp; &amp; \\\\ &amp; B \\ar@/^/@{-&gt;}[rrddd]|-{Hom(X,-)} \\ar@/^/@{-&gt;}[rrrrddd]|-{F} &amp; &amp; &amp; &amp; \\\\ &amp; &amp; &amp; Hom(X,\\ A) \\ar@{-&gt;}[dd]^{Hom(X,\\ f)} \\ar@{-&gt;}[rr]^{\\alpha_A} &amp; &amp; F(A) \\ar@{-&gt;}[dd]^{F\\ f} \\\\ &amp; &amp; &amp; &amp; &amp; \\\\ &amp; &amp; &amp; Hom(X,\\ B) \\ar@{-&gt;}[rr]_{\\alpha_B} &amp; &amp; F(B) } \\] æ‰€ä»¥åœ¨ category \\(Set\\) ä¸­ï¼Œæœ‰ Objectsï¼š\\(Hom(X,\\ A), Hom(X,\\ B), F(A), F(B)\\) ä½œä¸º Morphisms çš„ Functorsï¼š\\(Hom(X,\\ f) : Hom(X,\\ A) \\to Hom(X,\\ B)\\)ï¼Œ\\(F\\ f : F(A) \\to F(B)\\) ä½œä¸º Morphisms çš„ Natural transformationsï¼š\\(\\alpha_A : Hom(X,\\ A) \\to F(A)\\)ï¼Œ\\(\\alpha_B : Hom(X,\\ B) \\to F(B)\\)ã€‚ å¯¹äº category \\(Set\\)ï¼Œç”±äº \\((F\\ f) \\circ \\alpha_A = \\alpha_B \\circ Hom(X,\\ f)\\)ï¼Œå› æ­¤è¯¥å›¾å¯äº¤æ¢ã€‚ è¯æ˜ ä¸ºäº†è¯æ˜ç±³ç”°å¼•ç†ï¼Œå¯ä»¥å–å‡º \\(Hom(X,\\ A)\\) ä¸­çš„ identity morphism \\(id_X\\) ä½œä¸ºå®ä¾‹ï¼Œå³ \\(Hom(X,\\ X)\\)ï¼Œæ‰€ä»¥ä¸Šå›¾å°†æ›´å˜ä¸ºï¼š \\[ \\xymatrix{ X \\ar@{--&gt;}[r]^{id} \\ar@{--&gt;}[rd] &amp; X \\ar@{-&gt;}[d]^{f} \\ar@/^/@{-&gt;}[rrdd]|-{Hom(X,-)} \\ar@/^1pc/@{-&gt;}[rrrrrdd]|-{F} &amp; &amp; &amp; &amp; &amp; \\\\ &amp; B \\ar@/^/@{-&gt;}[rrdddd]|-{Hom(X,-)} \\ar@/^1pc/@{-&gt;}[rrrrrdddd]|-{F} &amp; &amp; &amp; &amp; &amp; \\\\ &amp; &amp; &amp; Hom(X,\\ X) \\ar@{-&gt;}[ddd]^{Hom(X,\\ f)} \\ar@{-&gt;}[rrr]^{\\alpha_X} &amp; &amp; &amp; F(X) \\ar@{-&gt;}[ddd]^{F\\ f} \\\\ &amp; &amp; &amp; &amp; id_X \\ar@{-&gt;}[r] \\ar@{-&gt;}[d] &amp; u \\ar@{-&gt;}[d] &amp; \\\\ &amp; &amp; &amp; &amp; f \\ar@{-&gt;}[r] &amp; \\alpha_B\\ f = (F\\ f)\\ u &amp; \\\\ &amp; &amp; &amp; Hom(X,\\ B) \\ar@{-&gt;}[rrr]_{\\alpha_B} &amp; &amp; &amp; F(B) } \\] å…¶ä¸­åŒ…å«äº† \\(id_X \\in Hom(X,\\ X)\\)ï¼Œ\\(u \\in F(X)\\)ï¼Œ\\(f \\in Hom(X,\\ B)\\) ä»¥åŠ \\(\\alpha_B\\ f \\in F(B)\\)ã€‚ è€Œç°åœ¨æˆ‘ä»¬è¦åšçš„ä»…ä»…æ˜¯è¯å‡ºè¯¥å›¾ä¸­æ‰€æœ‰çš„ natural transformation \\(\\alpha\\) ä¸ functor \\(F\\) ä¹‹é—´æ˜¯ isomorphic çš„ï¼Œå› æ­¤éœ€è¦è¯æ˜å‡º \\(toYoneda : \\forall X \\in C. (\\forall \\varphi \\in C. Hom(X,\\ \\varphi) \\to F(\\varphi)) \\to F(X)\\) ä»¥åŠ \\(fromYoneda : \\forall X \\in C. F(X) \\to (\\forall \\varphi \\in C. Hom(X,\\ \\varphi) \\to F(\\varphi))\\) è¿™ä¸¤æ¡è·¯æ˜¯è¡Œå¾—é€šçš„ï¼Œæ‰€ä»¥æœ€ç»ˆå¾—å‡ºè¯æ˜ï¼š è®¾ \\(\\alpha_\\varphi : \\forall \\varphi. Hom(X,\\ \\varphi) \\to F(\\varphi)\\)ï¼š \\(toYoneda\\)ï¼š\\(id : Hom(\\varphi,\\ \\varphi)\\)ï¼Œæœ‰ \\(\\alpha_\\varphi\\ id = u\\) \\(fromYoneda\\)ï¼š\\(u : F(\\varphi)\\)ï¼Œæœ‰ \\(\\alpha_\\varphi\\ f = (F\\ f)\\ u\\) è‡³æ­¤è¯æ¯•ã€‚ äº Agda ä¸­çš„è¡¨è¾¾ 123456789101112131415toYoneda : (C : Category o m) &#123;X : Obj C&#125; &#123;F : Functor C (ğ’®â„¯ğ“‰ m)&#125; â†’ [ C , ğ’®â„¯ğ“‰ m ]âŸ¨ Hom C [ X ,â”€] , F âŸ© â†’ Fâ‚’ F XtoYoneda record &#123; id = id &#125; record &#123; Î· = Î· &#125; = Î· idfromYoneda : &#123;C : Category o m&#125; &#123;X : Obj C&#125; (F : Functor C (ğ’®â„¯ğ“‰ m)) â†’ Fâ‚’ F X â†’ [ C , ğ’®â„¯ğ“‰ m ]âŸ¨ Hom C [ X ,â”€] , F âŸ©fromYoneda record &#123; Fâ‚˜ = Fâ‚˜ &#125; u = record &#123; Î· = Î» f â†’ (Fâ‚˜ f) u &#125; æ³¨ï¼šè¯¥éƒ¨åˆ†åªå†™å‡ºäº†æœ€ç»ˆçš„è¯æ˜æ­¥éª¤ï¼Œéœ€è¦æŸ¥çœ‹è¯¦å°½çš„å‰ç½®å®šä¹‰åŠæºç å¯ç§»æ­¥è‡³ è¿™é‡Œã€‚ äº Haskell ä¸­è¡¨è¾¾ 12345toYoneda :: (forall a. (x -&gt; a) -&gt; f a) -&gt; f xtoYoneda alpha = alpha idfromYoneda :: f x -&gt; (forall a. (x -&gt; a) -&gt; f a)fromYoneda u f = fmap f u æ³¨ï¼šè¯¥è¯æ˜è¢«ç›´æ¥ç¿»è¯‘ä¸º Haskell ä¸­ category theory çš„è¯­ä¹‰ï¼Œæ‰€ä»¥ä¸ agda ä¸­æŠŠæ‰€æœ‰åœ¨è¯æ˜è¿‡ç¨‹ä¸­æ‰€ä½¿ç”¨çš„ concept å…¨éƒ¨æ„é€ å‡ºæ¥æ˜¯æœ‰æ‰€åŒºåˆ«çš„ã€‚ ç»“è¯­ è‡³æ­¤ï¼ŒYoneda lemma è¯æ˜ç¯‡æ­£å¼å®Œæ¯•ï¼Œè€Œæ¥ä¸‹æ¥ç¬”è€…å°†ä¼šæ’°å†™ä¸¤ç¯‡åç»­çš„æ–‡ç« ï¼Œé‡ç‚¹è®¨è®º Yoneda embedding (ç±³ç”°åµŒå…¥) ä¸ Continuation passing style (CPS å˜æ¢) çš„å…³ç³»ï¼Œä»¥åŠ co-Yoneda lemma çš„è¯æ˜ã€‚åœ¨æ­¤æ„Ÿè°¢å„ä½ç»†å¿ƒé˜…è§ˆï¼ å¤–éƒ¨é“¾æ¥ æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒæˆ–å¼•ç”¨è‡³ä¸‹åˆ—ç½‘é¡µï¼Œä¹Ÿå¯ä¾›ä½œä¸ºé¢å¤–çš„å»¶ä¼¸èµ„æºå¸®åŠ©é˜…è¯»ï¼š Yoneda lemma - nLab The Yoneda Lemma - Bartosz Milewski Category Theory II 4.1: Representable Functors Category Theory II 4.2: The Yoneda Lemma","categories":[],"tags":[{"name":"èŒƒç•´è®º","slug":"èŒƒç•´è®º","permalink":"https://a9032676.github.io/tags/èŒƒç•´è®º/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://a9032676.github.io/tags/å‡½æ•°å¼ç¼–ç¨‹/"}]},{"title":"Dotty Scala ä¸Šçš„ä¾èµ–ç±»å‹","slug":"Scala-Depedent-Types","date":"2020-11-03T01:24:00.000Z","updated":"2020-11-03T02:11:54.222Z","comments":true,"path":"2020/11/03/Scala-Depedent-Types/","link":"","permalink":"https://a9032676.github.io/2020/11/03/Scala-Depedent-Types/","excerpt":"","text":"ç®€ä»‹ æœ€è¿‘ç”±äºæ­£åœ¨ç ”ç©¶ç›´è§‰ç±»å‹è®ºä»¥åŠåŒä¼¦ç±»å‹è®º, å› æ­¤ç‰¹æ„æŒ‘é€‰äº† Scala çš„ Dotty ç¼–è¯‘å™¨ä½œä¸ºç ”ç©¶å¯¹è±¡, è€Œç”±äº Dotty æ‰€è®¾è®¡çš„ä¾èµ–ç±»å‹ç›¸è¾ƒäº Coq, Agda, Idris ä¹‹ç±»çš„è¯­è¨€æ¥è®²ååˆ†ä¸ç›´è§‚, å¯¼è‡´å†™å‡ºä¸€äº›å¸¦æœ‰å¤§é‡ä¾èµ–ç±»å‹çš„å‡½æ•°åˆ™æ˜¾å¾—è¾ƒä¸ºç»•å£, å› æ­¤æœ¬ç¯‡æ–‡ç« ä¸»è¦ç›®çš„æ˜¯æ‰¾å‡ºä¸€å¥—é€šç”¨çš„ç¼–ç æ–¹å¼, äº¦å³æ‰¾å¯»å‡º Scala ä¸ ç›´è§‰ç±»å‹è®º ä¹‹é—´çš„å¯¹åº”å…³ç³». åœ¨ Dotty ä¸­, Scala æ˜¯å¦‚ä½•ç¼–ç ä¾èµ–ç±»å‹çš„ï¼Ÿ é¦–å…ˆè®©æˆ‘ä»¬ä»æœ€ç®€å•çš„ä¾‹å­å¼€å§‹, å‡è®¾æœ‰ä¸€ä¾èµ–å‡½æ•°ç±»å‹ \\(depfun\\): \\[ depfun : \\underset{(A : U)}{\\Pi} \\underset{(C : A \\to U)}{\\Pi} \\underset{(x : A)}{\\Pi} C(x) \\] ä¸”å…¶è¡¨è¾¾å¼ä¸º: \\[ depfun_{A, C}(x) = x \\] ç„¶åç°åœ¨æˆ‘ä»¬èƒ½äº Scala ä¸­å†™å‡ºè¿™ä¹ˆä¸€æ®µä»£ç : 123trait C &#123; type A; val x : A &#125;type PiType = (c : C) =&gt; c.Aval depfun : PiType = c =&gt; c.x äºè¿™æ®µä»£ç é‡Œ, ä½¿ç”¨äº† trait, type ä»¥åŠ val ä»¥æè¿°ä¾èµ–å‡½æ•°ç±»å‹ depfunï¼Œ è€Œ val depfun : PiType = c =&gt; c.x çš„ PiType åˆ™ä»£è¡¨ç€ä¸€ä¸ªä¾èµ–å‡½æ•°ç±»å‹ (\\(\\Pi\\)-ç±»å‹), (c : C) =&gt; c.x éƒ¨åˆ†åˆ™ä¸ºä¸€é¡¹ (è¡¨è¾¾å¼). ä¸ºä»€ä¹ˆ Scala ç¼–ç å¤æ‚çš„ä¾èµ–ç±»å‹æ˜¾å¾—å¦‚æ­¤å›°éš¾ï¼Ÿ æ²¡æœ‰å…¨ç±»å¤šæ€çš„ä¾èµ–ç±»å‹ è¯­æ³•è®¾è®¡çš„é—®é¢˜","categories":[],"tags":[{"name":"ç›´è§‰ç±»å‹è®º","slug":"ç›´è§‰ç±»å‹è®º","permalink":"https://a9032676.github.io/tags/ç›´è§‰ç±»å‹è®º/"},{"name":"Dotty","slug":"dotty","permalink":"https://a9032676.github.io/tags/dotty/"},{"name":"Scala","slug":"scala","permalink":"https://a9032676.github.io/tags/scala/"}]},{"title":"å¥‡å¦™çš„ä¾èµ–ç±»å‹ (ä¸Š): å…¨ç±», $\\Pi$-ç±»å‹ ä»¥åŠ ä¹˜ç§¯ç±»å‹","slug":"Dependent-Function-Types","date":"2020-10-27T17:51:00.000Z","updated":"2020-10-31T09:54:25.626Z","comments":true,"path":"2020/10/28/Dependent-Function-Types/","link":"","permalink":"https://a9032676.github.io/2020/10/28/Dependent-Function-Types/","excerpt":"","text":"ç®€ä»‹ äº ç›´è§‰ç±»å‹è®º (Intuitionistic type theory, æˆ– Martin-LÃ¶f's type theory) ä¸­, å®šä¹‰äº†ä¸€äº›äºç»å…¸ç±»å‹è®ºä¸­æ²¡æœ‰çš„é«˜é˜¶ç±»å‹: \\(\\Pi\\)-ç±»å‹ (ä¾èµ–å‡½æ•°ç±»å‹, Dependent function types) ä»¥åŠ \\(\\Sigma\\)-ç±»å‹ (ä¾èµ–ä¹˜ç§¯ç±»å‹, Dependent pair types), è¯¥ç§ç±»å‹ç³»ç»Ÿå¯è¢«å¯¹åº”åˆ° \\(\\lambda\\)ç«‹æ–¹ä½“ ä¸­çš„ \\(\\lambda P\\) ä¸Š. æœ¬ç¯‡ç« å¤§éƒ¨åˆ†å†…å®¹å‡æ¥è‡ªäºå¯¹ Hott Book çš„ç†è§£ä¸ç¿»è¯‘, å†ç¨åŠ æ”¹åŠ¨å¹¶å¼•å…¥ Agda ä½œä¸¾ä¾‹ç”¨é€”. åœ¨æ­¤æ¨èè¯»è€…é…åˆå…¶ä¸­ ç¬¬ä¸€ç«  Foundations çš„ 1.4 ~ 1.7 èŠ‚ è¿›è¡Œé˜…è¯». ç”±äºç¯‡å¹…è¿‡é•¿, æ–‡ç« å°†ä¼šåˆ†ä¸ºä¸Šä¸‹ä¸¤èŠ‚, è€Œæœ¬ç¯‡å°†å…ˆè¡Œä»‹ç» å…¨ç±», \\(\\Pi\\)-ç±»å‹ ä»¥åŠ ä¹˜ç§¯ç±»å‹ çš„æ¦‚å¿µ. å…¨ç±» (Universes) å…¨ç±»å¤šæ€ (Universe polymorphism) äºç»å…¸ç±»å‹è®ºä¸­, ä¸€èˆ¬ä¼šéå½¢å¼åŒ–åœ°ç§° \"\\(A\\) æ˜¯ä¸€ä¸ªç±»å‹\", ä½†ä¸ºäº†æ›´å‡†ç¡®çš„å½¢å¼åŒ–åœ°å®šä¹‰å‡ºè¿™ç§å…³ç³», ä»¥åŠæè¿°ç±»å‹ä¸é¡¹ä¹‹é—´çš„å…³ç³», æˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªå…¨æ–°çš„æ¦‚å¿µ: å…¨ç±» (Universes). å…¨ç±»çš„æ„æ€å°±ç›¸å½“äº \"æ•´ä¸ªå®‡å®™\" ä¸€èˆ¬, å…¶æ˜¯è¿™ä¸ªå®‡å®™ä¸­æ‰€æœ‰ç±»å‹çš„ç±»å‹, ä¸€èˆ¬åœ°ä¼šå†™ä¸º \\(U_\\infty\\). è€Œå½“æˆ‘ä»¬è¯•ç€ä»é›†åˆè®ºå‡ºå‘å»å®šä¹‰å…¨ç±»æ—¶, ç”±äº \\(U_\\infty\\) èƒ½å¤ŸåŒ…å«è‡ªèº«, å³ \\(U_\\infty : U_\\infty\\), ä½†æ­¤å¤„å°†ä¼šå¼•å‘ä¸€ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜, å³é›†åˆè®ºä¸Šè¿™ä¹ˆå®šä¹‰æ˜¯ ä¸å¯é çš„ (Unsound) , è¿™å°†ç›´æ¥å¯¼è‡´ç½—ç´ æ‚–è®º (Russell's paradox) çš„å‡ºç°. ä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿ, æˆ‘ä»¬éœ€è¦ç‹¬ç«‹ä¸”ä¸ä¾èµ–é›†åˆè®ºçš„æƒ…å†µä¸‹é‡æ–°å®šä¹‰å‡ºå…¨ç±»çš„å±‚çº§: \\[ U_0 : U_1 : U_1 :\\ ... \\] ä¸€èˆ¬åœ°æˆ‘ä»¬ä¼šå†™ä¸º \\(U_i\\) (è¿™é‡Œçš„ \\(i\\) ä¸ºå…¨ç±»çš„å±‚çº§), è€Œæ¯ä¸ª \\(U_i\\) éƒ½æ˜¯ \\(U_{i+1}\\) çš„å…ƒç´  (ä¹Ÿå°±æ˜¯ä¸€ä¸ªå¤§å®‡å®™å†…åŒ…å«ç€ä¸€ä¸ªå°å®‡å®™). è€Œæˆ‘ä»¬ç§°è¿™ç§åˆ†å±‚æ˜¯ å¯ç´¯åŠ çš„ (Cumulative), å³å¯¹äºæ‰€æœ‰äº \\(i^{th}\\) å…¨ç±»å†…çš„å…ƒç´ äº¦éƒ½æ˜¯ \\((i + 1)^{st}\\) å†…çš„å…ƒç´ , ä¾‹å¦‚æœ‰ \\(A : U_i\\), å³äº¦æœ‰ \\(A : U_{i+1}\\), è€Œè¿™ç§æ¦‚å¿µå¯è¢«ç§°ä¸º å…¨ç±»å¤šæ€ (Universe polymorphism) . éšå¼å±‚çº§ (Implicit level) è€Œäºå¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹, å¹¶ä¸éœ€è¦æ˜¾å¼åœ°æ ‡è®°å‡ºå…¨ç±»çš„å±‚çº§ \\(i\\), è€Œäº¦å¯å°†å…¶éšè—èµ·æ¥, å› æ­¤å¯ä»¥å†™æˆ \\(U : U\\) (å…¶å«ä¹‰ä¸ \\(U_i : U_{i+1}\\) ç­‰ä»·), è¿™ç§å†™æ³•ç§°ä¹‹ä¸º Typical ambiguity. è¿™ç§å†™æ³•è™½ç„¶è¾ƒä¸ºä¾¿æ·, ä½†è¿˜æ˜¯ä¼šç•¥å¸¦ç‚¹å±é™©æ€§, å› ä¸ºå…¶å°†å…è®¸æˆ‘ä»¬å†™å‡ºçœ‹ä¼¼åˆæ³•çš„, ä½†å®è´¨å¯èƒ½ä¼šè¯±å‘å„ç§è‡ªå¼•ç”¨æ‚–è®ºçš„è¯æ˜. ä¸è¿‡åœ¨è¿™é‡Œå…¶å®ä¹Ÿæ— éœ€å¤ªè¿‡æ‹…å¿ƒ, äº Agda æˆ–è€… Coq è¿™äº›è¯­è¨€ä¸Š, å…¶å…¨ç±»å±‚çº§éƒ½æ˜¯å¯ä»¥è‡ªåŠ¨æ¨å¯¼å¾—å‡ºçš„. å°ç±»å‹ (Small types) ç”±äºå…¨ç±»å¤šæ€çš„å‡ºç°, å…è®¸äº†æˆ‘ä»¬ç¼–å†™å‡ºè¡¨è¾¾èƒ½åŠ›æå¼ºçš„ç±»å‹ç³»ç»Ÿ, é™¤äº†ç±»å‹æœ¬èº«å¤–, ä¸ä»…ä»…å¯ä»¥å®šä¹‰å‡º \"ç±»å‹çš„ç±»å‹\", å³ \\(Kind\\) (ç±»å‹æ„é€ å™¨), è¿˜å¯ä»¥å®šä¹‰å‡ºç±»å‹çš„ç±»å‹çš„ç±»å‹, ç±»å‹çš„ç±»å‹çš„ç±»å‹çš„ç±»å‹, å³ $Type_1 : Type_2 : Type_3 : ... $ ç­‰ç­‰. ç„¶åå‡è®¾ç°åœ¨æœ‰ \\(U\\), è€Œæ‰€æœ‰å½’å±äºè¯¥ \\(U\\) çš„å…ƒç´  (ç±»å‹) å‡å¯è¢«ç§°ä¹‹ä¸º \\(U\\) çš„ å°ç±»å‹ (Small types). ç±»å‹æ— (Families of types) ä¸ºäº†ä½¿ç±»å‹ä¹Ÿèƒ½å¤Ÿè¢«å‚æ•°åŒ–, æŠŠä¸€ä¸ªç±»å‹å½“ä½œå‡½æ•°çœ‹å¾…æ˜¯è¢«å…è®¸çš„. ä¾‹å¦‚è®¾æœ‰ç±»å‹ \\(A\\), ç„¶åæœ‰ä¸€å‡½æ•° \\(B : A \\to U\\), å…¶æ¥å— \\(A\\) ä½œä¸ºå‚æ•°, è¿”å› \\(B\\) è¿™ä¸ªç±»å‹, è€Œé™ªåŸŸä¸Šåˆ™æ˜¯ \\(U\\). è¿™ç§å‡½æ•°æˆ‘ä»¬ä¸€èˆ¬ç§°ä¸º ç±»å‹æ— (æœ‰æ—¶å€™å¯è¢«è§†ä¸ºä¾èµ–ç±»å‹). ä¾‹å¦‚å½“æˆ‘ä»¬æƒ³è¦æ¨¡æ‹Ÿå‡ºæ¨¡æ•°å–æ¨¡æ—¶, å®šä¹‰å‡ºæœ‰é™é›†åˆ \\(\\{ m\\ |\\ m &lt; n \\}\\) æœ‰åˆ©äºä»¥å¾ªç¯ç¾¤çš„å½¢å¼è¿›è¡Œè¿ç®—, è€Œè¯¥é›†åˆåˆ™å¯å®šä¹‰ä¸º Fin : \\(\\Bbb{N} \\to U\\), Fin(\\(n\\)) çš„ \\(n\\) åˆ™è¡¨ç¤ºäº†å…¶é›†åˆçš„è¾¹ç•Œä½ç½®, å¯¹åº”åˆ° Agda ä¸­ Data.Fin.Base çš„å®šä¹‰å¦‚ä¸‹: 123data Fin : â„• â†’ Set where zero : &#123;n : â„•&#125; â†’ Fin (suc n) suc : &#123;n : â„•&#125; (i : Fin n) â†’ Fin (suc n) è€Œæœ€ç›´è§‚çš„ä¸”éå¸¸é‡è¦çš„ä¾‹å­å°±é Constant type è«å±äº†, å…¶å®šä¹‰å¦‚ \\((\\lambda (x : A). B) : A \\to U\\), ç”±äºè¿™ä¸ªç±»å‹æ—æ— è®ºå‚æ•°å¦‚ä½•å˜åŒ–, å…¶æ°¸è¿œè¿”å›çš„éƒ½å°†æ˜¯ \\(B\\), åˆ™å…¶å¯è¢«è§†ä¸ºä¸º \\(B : U\\) . Agda ä¸Šçš„å®šä¹‰ äº Agda ä¸Š, Set ç±»å‹å¯¹åº”çš„å°±æ˜¯å…¨ç±»çš„æ¦‚å¿µ, è€Œ Set \\(\\ell\\) ä¸­çš„ \\(\\ell\\) åˆ™æ˜¯å…¨ç±»çš„å±‚çº§. è€Œå…¨ç±»å±‚çº§äº module Agda.Primitive ä¸­çš„å®šä¹‰å¦‚ä¸‹: 12345678910111213...infixl 6 _âŠ”_postulate Level : Setpostulate lzero : Level lsuc : (â„“ : Level) â†’ Level _âŠ”_ : (â„“â‚ â„“â‚‚ : Level) â†’ Level... è¯¥å±‚çº§çš„å®šä¹‰å®é™…ä¸Šæ˜¯ä¸ªå†…ç½®äº Agda ä¸­çš„è‡ªç„¶æ•°, å¹¶éç›´æ¥ä½¿ç”¨çš„ Data.Nat (\\(\\Bbb{N}\\)) ç±»å‹. \\(\\Pi\\)-ç±»å‹ (\\(\\Pi\\)-Type) \\(\\Pi\\)-ç±»å‹, åˆç§°ä¸º ä¾èµ–å‡½æ•°ç±»å‹ (Dependent function type), æ˜¯ä¾èµ–ç±»å‹çš„ä¸€ç§. å…¶äºé™ªåŸŸçš„ç±»å‹å°†ä¾èµ–äºä¼ å…¥çš„å€¼, å³åˆ°è¾¾åŸŸçš„å€¼è€Œä½œå‡ºæ”¹å˜. è€Œä¹‹æ‰€ä»¥ç§°ä¸º \\(\\Pi\\)-ç±»å‹ æ˜¯å› ä¸ºè¿™ç§ç±»å‹å¯ä»¥è¢«è§†ä¸ºæ˜¯åœ¨ç±»å‹ä¹‹ä¸Šçš„ç¬›å¡å„¿ç§¯. å®šä¹‰ å½¢å¼åŒ–åœ°, å‡è®¾ç°åœ¨æœ‰ç±»å‹ \\(A : U\\) ä»¥åŠç±»å‹æ— \\(B : A \\to U\\), æˆ‘ä»¬ä¾¿èƒ½å¤Ÿæ„é€ ä¸€ä¸ªä¾èµ–å‡½æ•°ç±»å‹ \\(\\Pi_{(x : A)} B(x) : U\\). å½“ç„¶è¿˜æœ‰è®¸å¤šç§ä¸åŒçš„å†™æ³•å¯ä¾›é€‰æ‹©, ä¾‹å¦‚ä»¥ä¸‹è¿™äº›: \\[ \\Pi_{(x : A)} B(x) \\qquad \\underset{(x : A)}{\\Pi} B(x) \\qquad \\Pi (x : A), B(x) \\] è€Œå¯¹åº”åˆ° Agda ä¸­çš„ç±»å‹æ ‡ç­¾åˆ™å¦‚ä¸‹: 1_ : âˆ€ (A : Set) &#123;x : A&#125; &#123;B : A â†’ Set&#125; â†’ B x è€Œåœ¨ä¸€ä¸ªç‰¹æ®Šæƒ…å†µä¸‹, å½“ \\(B\\) æ˜¯ä¸€ä¸ª Constant family æ—¶, å³ \\(B\\) å¹¶æ²¡æœ‰ä¾èµ–äº \\(x : A\\), åˆ™ä¾èµ–å‡½æ•°ç±»å‹å°† \"åå¡Œ\" æˆä¸€æ™®é€šå‡½æ•°: \\[ \\Pi_{(x : A)} B \\equiv (A \\to B) \\] 1_ : âˆ€ (A : Set) &#123;x : A&#125; &#123;B : Set&#125; â†’ B åœ¨ä¸Šé¢ç»™åˆ°çš„ä¾‹å­ä»¥åŠå®šä¹‰ä¸­, ç±»å‹æ ‡ç­¾æœ¬èº«æ˜¯æ²¡æœ‰åå­—çš„ (å³ Agda ä¸­çš„ _), å®é™…ä¸Šæˆ‘ä»¬æ— è®ºäºå½¢å¼åŒ–çš„å®šä¹‰ä¸Š, è¿˜æ˜¯ Agda ä¸­, éƒ½å¯ä»¥ç»™äºˆç›¸åº”çš„åå­—, å¦‚: \\(f : \\Pi_{(x : A)} B(x)\\), å³ \\(f\\) æ˜¯ä¸ºä¸€ä¾èµ–å‡½æ•°çš„åå­—, ä½¿å¾—ä»–ä»¬æ˜¯ æ˜¾å¼å®šä¹‰ (Explicit definitions) çš„. è€Œé™¤äº†ç±»å‹å¤–, ä¸€ä¸ªä¾èµ–å‡½æ•°è‹¥æœå¸¦æœ‰è¯¸å¦‚è¡¨è¾¾å¼ \\(\\Phi : B(x)\\) è€Œæ¶‰åŠåˆ° \\(x : A\\) çš„è¯, å¯è¢«æè¿°ä¸º: \\[ f(x) :\\equiv \\Phi \\qquad å¯¹äº x : A \\] å½“ç„¶äº¦å¯æ›¿ä»£æˆä½¿ç”¨ \\(\\lambda\\)-abstraction çš„å½¢å¼è¿›è¡Œå®šä¹‰: \\[ \\lambda x. \\Phi : \\underset{x : A}{\\Pi} B(x) \\] å…¨ç±»ä¸Šçš„å¤šæ€ å¤šæ€èƒ½å¤Ÿåº”ç”¨äºç»™å®šçš„å…¨ç±»ä¸Š, è¿™æ˜¯åˆä¸€ä¾èµ–å‡½æ•°ç±»å‹è‡³å…³é‡è¦çš„ç‰¹æ€§. ç”¨é€šä¿—çš„è¯æ¥è¯´å³æ˜¯å‡è®¾ç°åœ¨æœ‰ \\(id : \\Pi_{(A : U)} A \\to A\\) è¿™ä¹ˆä¸€ä¸ªä¾èµ–å‡½æ•°ç±»å‹, è€Œæ­¤å¤„åˆ™å¯ä»¥åƒç±»å‹æ—ä¸€èˆ¬, æ¥å—ä¸€ä¸ªç±»å‹ä½œä¸ºå‚æ•°, ç„¶åä½œç”¨äºç±»å‹ \\(A\\) çš„è¡¨è¾¾å¼ä¸Š, å°±å¦‚åŒ \\(id :\\equiv \\lambda (A : U). \\lambda (x : A). x\\) ä¸€æ ·. è€Œå¦ä¸€ä¸ªå¤šæ€å‡½æ•°çš„ä¾‹å­ swap (æˆ– flip) å‡½æ•°, ç›¸ä¿¡å¤§å®¶éƒ½éå¸¸ç†Ÿæ‚‰çš„äº†, æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿä¸€ä¸‹å®ƒæ˜¯æ€ä¹ˆå®šä¹‰çš„: \\[ swap : \\underset{(A : U)}{\\Pi} \\underset{(B : U)}{\\Pi} \\underset{(C : U)}{\\Pi} (A \\to B \\to C) \\to (B \\to A \\to C) \\] ä¸”å…¶è¡¨è¾¾å¼ä¸º: \\[ swap(A, B, C, g) :\\equiv \\lambda b. \\lambda a. g(a)(b) \\] å½“ç„¶åœ°, æˆ‘ä»¬åœ¨è¡¨è¾¾å¼ä¸Šå¹¶æ— éœ€è¦ä½¿ç”¨åˆ° \\(A\\), \\(B\\), \\(C\\) æ—¶, åˆ™å¯ä»¥å°†å…¶éšè—èµ·æ¥, å¦‚: \\[ swap_{A, B, C}(g)(b, a) :\\equiv g(a)(b) \\] ä½†ä¸è¦å¿˜è®°, swap ä»…ä»…è¿˜åªæ˜¯ä¸ªæ™®é€šçš„å¤šæ€å‡½æ•°è€Œå·²ï¼ æˆ‘ä»¬ç°åœ¨éœ€è¦åšçš„æ˜¯å®šä¹‰å‡ºä¸€ä¸ªåŸºäºä¾èµ–å‡½æ•°ç±»å‹çš„å¤šæ€å‡½æ•° swap', ä¾‹å¦‚: \\[ swap&#39; : \\underset{(A : U)}{\\Pi} \\underset{(B : U)}{\\Pi} \\underset{(C : A \\to B \\to U)}{\\Pi} (\\underset{(x : A)}{\\Pi} \\underset{(y : B)}{\\Pi} C(x, y)) \\to (\\underset{(y : B)}{\\Pi} \\underset{(x : A)}{\\Pi} C(x, y)) \\] è€Œå¯¹äºä¸Šé¢çš„ \\(C(x, y)\\), å®é™…ä¸Šç­‰åŒäº \\(C(x)(y)\\), å³ç›¸å½“äºæŸ¯é‡ŒåŒ–. ä¸‹é¢åˆ™ä¸º Agda äº Function.Core ä¸‹çš„å¯¹ç…§ç‰ˆæœ¬: 123flip : âˆ€ &#123;A : Set a&#125; &#123;B : Set b&#125; &#123;C : A â†’ B â†’ Set c&#125; â†’ ((x : A) (y : B) â†’ C x y) â†’ ((y : B) (x : A) â†’ C x y)flip f = Î» y x â†’ f x y å†æ¥ä¸€ä¸ª _âˆ˜_ (Compose) çš„ä¾‹å­: éä¾èµ–ç±»å‹çš„æƒ…å†µä¸‹æ˜¯: \\[ comp : \\underset{(A, B, C : U)}{\\Pi} (B \\to C) \\to (A \\to B) \\to (A \\to C) \\] è€Œä½¿ç”¨äº†ä¾èµ–å‡½æ•°ç±»å‹å®šä¹‰çš„åˆ™æ˜¯: \\[ comp : \\underset{(A, B, C : U)}{\\Pi} \\underset{(B : A \\to U)}{\\Pi} \\underset{(C : \\underset{(x : A)}{\\Pi} B(x) \\to U)}{\\Pi} (\\underset{(x : A)}{\\Pi} \\underset{(y : B(x))}{\\Pi} C(y)) \\to \\underset{(g : \\underset{(x : A)}{\\Pi} B(x))}{\\Pi} (\\underset{(x : A)}{\\Pi} C(g(x))) \\] Agda ä¸Šçš„å®šä¹‰åˆ™æ˜¯: 1234_âˆ˜_ : âˆ€ &#123;A : Set a&#125; &#123;B : A â†’ Set b&#125; &#123;C : &#123;x : A&#125; â†’ B x â†’ Set c&#125; â†’ (âˆ€ &#123;x&#125; (y : B x) â†’ C y) â†’ (g : (x : A) â†’ B x) â†’ ((x : A) â†’ C (g x))f âˆ˜ g = Î» x â†’ f (g x)","categories":[],"tags":[{"name":"ç±»å‹è®º","slug":"ç±»å‹è®º","permalink":"https://a9032676.github.io/tags/ç±»å‹è®º/"},{"name":"ç›´è§‰ç±»å‹è®º","slug":"ç›´è§‰ç±»å‹è®º","permalink":"https://a9032676.github.io/tags/ç›´è§‰ç±»å‹è®º/"},{"name":"Agda","slug":"agda","permalink":"https://a9032676.github.io/tags/agda/"}]},{"title":"Church-Rosser å®šç†è¯æ˜","slug":"Church-Rosser-Theorem","date":"2020-10-10T22:08:00.000Z","updated":"2020-10-12T12:27:42.459Z","comments":true,"path":"2020/10/11/Church-Rosser-Theorem/","link":"","permalink":"https://a9032676.github.io/2020/10/11/Church-Rosser-Theorem/","excerpt":"","text":"ç®€ä»‹ äºç†è®ºè®¡ç®—æœºç§‘å­¦ä¸­, Church-Rosser å®šç† è®²è¿°äº†å½“æˆ‘ä»¬å°è¯•ç»™ä»»æ„ \\(\\lambda\\)-è¡¨è¾¾å¼ çš„å˜ä½“åº”ç”¨ \\(reduction\\) è§„åˆ™æ—¶, ä¸ç®¡æ‰€è§„çº¦æ’åºå¦‚ä½•, ä¹Ÿå®šä¸ä¼šå½±å“åˆ°æœ€ç»ˆçš„è¿è¡Œç»“æœ. è¯¥å®šç†ç”± Alonzo Church ä¸ J. Barkley Rosser äº 1936 å¹´æ—¶è¯æ˜å¾—å‡º, å¹¶ä»¥ä»–ä»¬çš„åç§°æ‰€å‘½å. \\(\\beta\\)-èŒƒå¼ (\\(\\beta\\)-normal form, \\(\\beta\\)-nf) å®šä¹‰ \\(\\beta\\)-redex çš„é¡¹æ˜¯ç±»ä¼¼äº (\\(\\lambda x. M)\\ N\\) è¿™æ ·çš„è¡¨è¾¾å¼, è€Œè¿™ä¸ªä¾‹å­ä¸­ \\(M[x := N]\\) åˆ™æ˜¯å…¶çš„ \\(contractum\\). ä¸€ä¸ª \\(\\lambda\\)-é¡¹ \\(M\\) è¢«ç§°ä¸º \\(\\beta\\)-nf è‹¥å…¶æ²¡æœ‰ \\(\\beta\\)-redex ä½œä¸ºå­è¡¨è¾¾å¼. å¯¹äº \\(\\exists N\\), è‹¥æœ‰é¡¹ \\(M =_{\\beta} N\\) ä¸” \\(N\\) æœ¬èº«å­˜åœ¨ \\(\\beta\\)-nf, åˆ™ \\(M\\) äº¦æœ‰ \\(\\beta\\)-nf. ä¾‹å¦‚ \\((\\lambda x. xx)\\ y\\) æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ª \\(\\beta\\)-nf, ä½†äº \\(\\beta\\)-è§„çº¦ ä¹‹åå­˜åœ¨é¡¹ \\(yy\\), è¿™ä¾¿æ˜¯ä¸€ä¸ª \\(\\beta\\)-nf äº†. å¼•ç† è®¾æœ‰ \\(M, M&#39;, N, L \\in \\Lambda\\). è®¾ \\(M\\) ä¸º \\(\\beta\\)-nf, åˆ™æœ‰ \\(M \\twoheadrightarrow_{\\beta} N \\implies N \\equiv M\\). è‹¥ \\(M \\to_{\\beta} M&#39;\\), åˆ™æœ‰ \\(M[x := N] \\to_{\\beta} M&#39;[x := N]\\) è¯æ˜ ç”±äº \\(M\\) æ˜¯ \\(\\beta\\)-nf, å®šä¸å­˜åœ¨ä»»ä½•çš„ \\(\\beta\\)-redex, æ‰€ä»¥æ°¸è¿œéƒ½ä¸ä¼šæœ‰ \\(M \\to_{\\beta} N\\) çš„æƒ…å†µå‡ºç°. å› æ­¤å³ä½¿æœ‰ \\(M \\twoheadrightarrow_{\\beta} N\\), ä¹ŸåŠ¿å¿…æ˜¯ \\(M \\equiv N\\). ç›´æ¥åº”ç”¨ \\(\\to_{\\beta}\\) çš„è§„åˆ™è¿›è¡Œè§„çº¦äº¦èƒ½å¾—å‡ºåŒæ ·çš„ç»“æœ. Church-Rosser å®šç† å®šä¹‰ è‹¥æœ \\(M \\twoheadrightarrow_{\\beta} N_1, M \\twoheadrightarrow_{\\beta} N_2\\), åˆ™å­˜åœ¨æŸäº› \\(N_3\\) æœ‰ \\(N_1 \\twoheadrightarrow_{\\beta} N_3\\) ä¸” \\(N_2 \\twoheadrightarrow_{\\beta} N_3\\), å¦‚å›¾: \\[ \\xymatrix{ &amp; M \\ar@{-&gt;&gt;}[ld] \\ar@{-&gt;&gt;}[rd] &amp; \\\\ N_1 \\ar@{.&gt;&gt;}[rd] &amp; &amp; N_2 \\ar@{.&gt;&gt;}[ld] \\\\ &amp; N_3 &amp; } \\]","categories":[],"tags":[{"name":"ç±»å‹è®º","slug":"ç±»å‹è®º","permalink":"https://a9032676.github.io/tags/ç±»å‹è®º/"},{"name":"é€»è¾‘","slug":"é€»è¾‘","permalink":"https://a9032676.github.io/tags/é€»è¾‘/"},{"name":"è¯æ˜","slug":"è¯æ˜","permalink":"https://a9032676.github.io/tags/è¯æ˜/"}]},{"title":"MPS ç³»åˆ— ç¬¬ä¸€ç« ï¼šä¸º Java å¢åŠ  do-notation è¯­æ³•","slug":"MPS-do-notation","date":"2020-10-09T03:07:00.000Z","updated":"2020-10-10T22:35:37.531Z","comments":true,"path":"2020/10/09/MPS-do-notation/","link":"","permalink":"https://a9032676.github.io/2020/10/09/MPS-do-notation/","excerpt":"","text":"","categories":[],"tags":[{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://a9032676.github.io/tags/å‡½æ•°å¼ç¼–ç¨‹/"},{"name":"DSL","slug":"dsl","permalink":"https://a9032676.github.io/tags/dsl/"},{"name":"Java","slug":"java","permalink":"https://a9032676.github.io/tags/java/"},{"name":"è¯­ä¹‰å·¥ç¨‹","slug":"è¯­ä¹‰å·¥ç¨‹","permalink":"https://a9032676.github.io/tags/è¯­ä¹‰å·¥ç¨‹/"}]},{"title":"ä¸åŠ¨ç‚¹ç»„åˆå­çš„åŸç†ä¸å®šç†è¯æ˜","slug":"FIxed-Point-Theorem-Proof-And-Derivation","date":"2020-09-26T18:28:00.000Z","updated":"2020-12-02T06:40:56.315Z","comments":true,"path":"2020/09/27/FIxed-Point-Theorem-Proof-And-Derivation/","link":"","permalink":"https://a9032676.github.io/2020/09/27/FIxed-Point-Theorem-Proof-And-Derivation/","excerpt":"","text":"ç®€ä»‹ ä¸åŠ¨ç‚¹ç»„åˆå­ (Fixed-Point Combinator) æ˜¯ä¸€ç§è®¡ç®—å…¶ä»–å‡½æ•° ä¸åŠ¨ç‚¹ (Fixed-Point) çš„é«˜é˜¶å‡½æ•°. æœ‰å‡½æ•° \\(f\\) å…¶è¾“å…¥å€¼ \\(x\\) è‹¥ä¸è¿”å›å€¼ç›¸åŒ (åŒæ ·æ˜¯è¿”å› \\(x\\), å³ \\(f(x) = x\\)), åˆ™ç§°ä¹‹ä¸ºå‡½æ•° \\(f\\) ä¸Šçš„ä¸åŠ¨ç‚¹ä¸º \\(x\\). ä¾‹å¦‚ç°åœ¨æœ‰ \\(f(x) = x ^ 2\\), åˆ™å…¶ä¸åŠ¨ç‚¹æ˜¯ \\(f(0) = 0 ^ 2 \\equiv 0\\) ä»¥åŠ \\(f(1) = 1 ^ 2 \\equiv 1\\). è€Œå¯¹äºé«˜é˜¶å‡½æ•° \\(f\\), å…¶æ‹¥æœ‰ \\(g\\) ä½œä¸ºä¸åŠ¨ç‚¹ä½¿å¾— \\(f(g) = g\\). é€’å½’äº \\(\\lambda\\)-æ¼”ç®— ä¸Šçš„çŸ›ç›¾ ç°åœ¨å‡è®¾æˆ‘ä»¬æœ‰ä¸€é˜¶ä¹˜å‡½æ•° \\(fact\\): \\[ \\begin{aligned} if\\_then\\_else &amp; := \\lambda p. \\lambda a. \\lambda b. p a b \\\\ fact &amp; := \\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (fact\\ (x - 1)))\\ else\\ 1 \\end{aligned} \\] è€Œæˆ‘ä»¬ä»å®šä¹‰ä¸­å¾—çŸ¥ \\(fact\\) äºé€’å½’æ—¶å°†è°ƒç”¨è‡ªèº«, ä¾‹å¦‚: \\[ \\begin{aligned} fact\\ 5 &amp; = (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (fact\\ (x - 1)))\\ else\\ 1)\\ 5 \\\\ &amp; \\to_{\\beta} 5 * (fact\\ 4) \\\\ &amp; \\to_{\\beta} 5 * (4 * (fact\\ 3)) \\\\ &amp; \\to_{\\beta} 5 * (4 * (3 * (fact\\ 2))) \\\\ &amp; \\to_{\\beta} 5 * (4 * (3 * (2 * (fact\\ 1)))) \\\\ &amp; \\to_{\\beta} 5 * (4 * (3 * (2 * 1))) \\\\ &amp; \\twoheadrightarrow_{\\beta} 120 \\end{aligned} \\] ä½†å®é™…åœ¨ \\(\\lambda\\)-æ¼”ç®— ä¸­, æ‰€æœ‰ \\(\\lambda\\)-è¡¨è¾¾å¼ æœ¬è´¨ä¸Šæ˜¯éƒ½åº”è¯¥æ˜¯é—­åˆçš„, å³æ—  è‡ªç”±å˜é‡ (Free Variable, FV) çš„ä»‹å…¥, å› æ­¤åˆç§° åŒ¿åå‡½æ•° (Anonymous function). ä½†ä¸Šè¿°ä¾‹å­ä¸­ \\(fact \\in FV\\), æ­¤å¤„ä¾¿ä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜: è‹¥æœå‚æ•°å¹¶éè¢«ç»‘å®šçš„ (å³ \\(M[\\alpha := fact]\\), M ä¸ºå…·ä½“çš„ \\(\\lambda\\)-è¡¨è¾¾å¼), å³æˆ‘ä»¬æ— æ³•ç›´æ¥é€è¿‡ \\(fact\\ x\\) è°ƒç”¨è‡ªèº«, å³æ— æ³•è¾¾åˆ°é€’å½’çš„æ•ˆæœ. è§£å†³æ–¹æ¡ˆ ä½†æˆ‘ä»¬å¯¹æ­¤çœŸçš„ä¸€ç‚¹åŠæ³•éƒ½æ²¡æœ‰äº†å—ï¼Ÿ ä»”ç»†ç¢ç£¨å…¶å®å¹¶ä¸, æˆ‘ä»¬å¯ä»¥åœ¨è¯¥å‡½æ•°æœ¬èº«å¤šå¢åŠ ä¸€ä¸ªå‚æ•° \\(\\lambda f\\), å¹¶å°†è‡ªèº«ä½œä¸ºå€¼è¢«ä¼ å…¥è‡³ \\(\\lambda f\\) ä¸Š, ä¾‹å¦‚: \\[ \\lambda f. (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (f (x - 1)))\\ else\\ 1) \\] å¹¶ç»™è¯¥å‡½æ•°èµ·ä¸ªåˆ«å \\(fact&#39;\\) \\[ fact&#39; := \\lambda f. (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (f (x - 1)))\\ else\\ 1) \\] ç„¶åè°ƒç”¨: \\[ \\begin{aligned} fact&#39;\\ fact&#39;\\ 5 &amp; = (\\lambda f. (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (f\\ (x - 1)))\\ else\\ 1))\\ fact&#39;\\ 5 \\\\ &amp; \\to_{\\beta} (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (fact&#39;\\ (x - 1)))\\ else\\ 1)\\ 5 \\end{aligned} \\] æ­¤æ—¶æ„å¤–å‘ç”Ÿäº†ï¼ ä»”ç»†è§‚å¯Ÿ \\(fact&#39;\\ (x - 1)\\) çš„ä½ç½®, å®é™…ä¸Š \\(fact&#39;\\) æ¥å—çš„æ˜¯ä¸¤ä¸ªå‚æ•°, åˆ†åˆ«æ˜¯ \\(\\lambda f\\) ä»¥åŠ \\(\\lambda x\\), ä½†äºå‡½æ•°å†…éƒ¨çš„è¿™ä¸ª \\(fact&#39;\\) å´åªä¼ å…¥äº†ä¸€ä¸ª \\((x - 1)\\) çš„å€¼è€Œå¯¼è‡´å‡ºé”™. å› æ­¤æˆ‘ä»¬æŠŠ \\(fact&#39;\\) çš„å®šä¹‰ä¿®æ”¹ä¸º: \\[ fact&#39; := \\lambda f. (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (f\\ f\\ (x - 1)))\\ else\\ 1) \\] ç„¶åå†æ¬¡è°ƒç”¨: \\[ \\begin{aligned} fact&#39;\\ fact&#39;\\ 5 &amp; = (\\lambda f. (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (f\\ f\\ (x - 1)))\\ else\\ 1))\\ fact&#39;\\ 5 \\\\ &amp; \\to_{\\beta} (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (fact&#39;\\ fact&#39;\\ (x - 1)))\\ else\\ 1)\\ 5 \\\\ &amp; \\to_{\\beta} 5 * (fact&#39;\\ fact&#39;\\ 4) \\\\ &amp; \\to_{\\beta} 5 * (4 * (fact&#39;\\ fact&#39;\\ 3)) \\\\ &amp; \\to_{\\beta} 5 * (4 * (3 * (fact&#39;\\ fact&#39;\\ 2))) \\\\ &amp; \\to_{\\beta} 5 * (4 * (3 * (2 * (fact&#39;\\ fact&#39;\\ 1)))) \\\\ &amp; \\to_{\\beta} 5 * (4 * (3 * (2 * 1))) \\\\ &amp; \\twoheadrightarrow_{\\beta} 120 \\end{aligned} \\] ç”±æ­¤å¯è§, è¯¥æ–¹æ³•çš„è¯­ä¹‰ä¸é€’å½’æ˜¯å®Œå…¨ä¸€è‡´çš„, \\(\\lambda\\)-æ¼”ç®— çš„è®¡ç®—èƒ½åŠ›å¹¶æ²¡æœ‰å› æ­¤è€Œè¢«å‰Šå¼±, åè€Œè§åˆ°å…¶å¼ºå¤§çš„ä¸€é¢ï¼ å¼•å‡ºä¸åŠ¨ç‚¹ è™½ç„¶æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å†™å‡ºä¸€ä¸ªæ›¿ä»£é€’å½’çš„è§£å†³æ–¹æ¡ˆ, ä½†è¯¥æ–¹æ¡ˆå¹¶ä¸å¤ªå®Œç¾, äº \\(fact&#39; fact&#39; (x - 1)\\) çš„éƒ¨åˆ†, è¿™é‡Œä¼šå¤šä¼ ä¸€ä¸ªå€¼ \\(fact&#39;\\) ä½œä¸º \\(fact&#39;\\) çš„å‚æ•°, å°±å¥½åƒé‡å¤äº†ä¸¤æ¬¡ä¸€æ ·, é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•è®©è¿™ä¸ª \\(fact&#39;\\) å‡½æ•°åªæ¥å—ä¸€ä¸ªæ•´æ•°å‚æ•° \\(x\\) ä¸”è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœ? ç°åœ¨å½“æˆ‘ä»¬å›æƒ³ä¸€ä¸‹é€’å½’å‡½æ•°çš„å®šä¹‰ \\(fact := \\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (fact\\ (x - 1)))\\ else\\ 1\\), è¿™ä¸æ­£æ­£å°±æ˜¯æ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°å˜›, äºæ˜¯ä¹æˆ‘ä»¬å¯ä»¥è¯•å›¾å°†å…¶å®šä¹‰æ”¹å›å»å†å¯»æ‰¾æ–°åŠæ³•: \\[ fact&#39; = \\lambda f. (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (f\\ (x - 1)))\\ else\\ 1) \\] ç„¶åå†ä¼ å…¥å‚æ•°: \\[ \\begin{aligned} fact&#39;\\ fact\\ 5 &amp; = (\\lambda f. (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (f\\ (x - 1)))\\ else\\ 1))\\ fact\\ 5 \\\\ &amp; \\to_{\\beta} (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (fact\\ (x - 1)))\\ else\\ 1)\\ 5 \\end{aligned} \\] åœ¨ \\(\\beta-reduction\\) ä¹‹åçš„è¿™ä¸€æ­¥, æˆ‘ä»¬ä¼šæƒŠå¥‡çš„å‘ç° å½“ä¸­çš„ \\((\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (fact\\ (x - 1)))\\ else\\ 1)\\) å…¶å®šä¹‰ä¸ \\(fact\\) å®Œå…¨ä¸€è‡´, è€Œå½“å°è¯•åªä¼ å…¥ä¸€ä¸ªå‚æ•° \\(fact\\) è¿›è¡Œ éƒ¨åˆ†æ±‚å€¼ (Partial evaluation) æ—¶, å³: \\[ \\begin{aligned} fact&#39;\\ fact\\ &amp; = (\\lambda f. (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (f\\ (x - 1)))\\ else\\ 1))\\ fact\\ \\\\ &amp; \\to_{\\beta} (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (fact\\ (x - 1)))\\ else\\ 1) \\\\ &amp; = fact \\end{aligned} \\] è¿™é‡Œæˆ‘ä»¬ä¼šå‘ç° \\(fact&#39;\\) äºä¼ å…¥ \\(fact\\) æ—¶, åˆ™ä¼šè¿”å› \\(fact\\), å³ \\(fact\\) ä¸º \\(fact&#39;\\) çš„ä¸åŠ¨ç‚¹ï¼ æ„é€  Y-ç»„åˆå­ æœ€ç»ˆäºçŸ¥é“ä¸åŠ¨ç‚¹çš„æ€§è´¨ä¹‹å, æˆ‘ä»¬å°è¯•å»æ„é€ å‡ºä¸€ä¸ªçœŸæ­£èƒ½ä½¿ç”¨çš„ \\(Y\\)-ç»„åˆå­ å§ï¼ é¦–å…ˆè®¾æœ‰ä¸€é€’å½’å‡½æ•° \\(r\\) : \\[ r = r\\ r\\ r...\\ r \\] ç„¶åç”±äº \\(\\lambda\\)-æ¼”ç®— ä¸­é€’å½’å¼•å‘å‡ºè‡ªç”±å˜é‡çš„é—®é¢˜, ç°åœ¨æŠŠé€’å½’å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥, å› æ­¤å°†å®šä¹‰æ”¹ä¸º: \\[ \\begin{aligned} Y &amp; = \\underbrace{(\\lambda r. r\\ r\\ r\\ ...\\ r)}_{f}\\ f \\\\ &amp; = \\underbrace{(\\lambda r. r\\ r\\ r\\ ...\\ r)}_{f} \\underbrace{(\\lambda r. r\\ r\\ r\\ ...\\ r)}_{f} \\end{aligned} \\] ä½†æ­¤å¤„çš„ \\(r\\) çš„ç¬¬ä¸€ä¸ªå‚æ•°åº”ä¸ºè‡ªèº«, æ­£å¦‚ä¸Šé¢ \\(fact&#39;\\) çš„ä¾‹å­ä¸€æ ·, ä¿®æ­£ä¸º: \\[ Y = \\underbrace{(\\lambda r. (rr)\\ (rr)\\ (rr)\\ ...\\ (rr))}_{f&#39;} \\underbrace{(\\lambda r. (rr)\\ (rr)\\ (rr)\\ ...\\ (rr))}_{f&#39;} \\] è™½ç„¶åˆ°æ­¤æ­¥æ—¶, è¯¥å®šä¹‰å·²ç»èƒ½ç”¨äº†, ä½†å§‹ç»ˆæ¯ä¸€ä¸ª \\(rr\\) éƒ½å°†é‡å¤ä¼ å…¥è€Œä¸å¤Ÿå®Œç¾ (å…·ä½“å‚ç…§ \\(fact&#39;\\) çš„ä¾‹å­), æˆ‘ä»¬å¯å†å°†å…¶åŒ–ç®€ä¸º: \\[ Y = (\\underbrace{(\\lambda r. r\\ r\\ r\\ ...\\ r)}_{f} (xx)) (\\underbrace{(\\lambda r. r\\ r\\ r\\ ...\\ r)}_{f} (xx)) \\] æœ€åæˆ‘ä»¬æŠŠé€’å½’å‡½æ•°çš„éƒ¨åˆ†æ”¹æˆ \\(f\\) å¹¶ä½œä¸ºå‚æ•°ä¼ å…¥, åˆ™å…¶å®šä¹‰æœ€ç»ˆä¸º: \\[ Y := \\lambda f. (\\lambda x. f (xx)) (\\lambda x. f (xx)) \\] å®šä¹‰ å¸¸è§„çš„å½¢å¼åŒ–å®šä¹‰ \\[ \\forall F \\exists X. F X = X \\] å¯¹äºæ‰€æœ‰çš„ \\(F \\in \\Lambda\\), å­˜åœ¨ \\(X \\in \\Lambda\\) ä½¿å¾— \\(F X = X\\). \\[ fix\\ f = f\\ (fix\\ f) \\] å±•å¼€åˆ™ä¸º \\(fix\\ f = f\\ (f\\ (...\\ f\\ (fix\\ f)\\ ...))\\). \\(Y\\)-ç»„åˆå­çš„å®šä¹‰ \\[ Y \\equiv \\lambda f. (\\lambda x. f(xx)) (\\lambda x. f(xx)) \\] è¿™é‡Œçš„ \\(f\\) ä¸ºä»»æ„éœ€è¦è¢«æ‰¾å‡ºä¸€ä¸ªæˆ–å¤šä¸ªä¸åŠ¨ç‚¹çš„å‡½æ•°, è€Œå…¶ä¸­ \\(x\\) å¿…å®šä¸ºä¸€é«˜é˜¶å‡½æ•°. ä¸åŠ¨ç‚¹å®šç† (Fixed Point Theorem) çš„è¯æ˜ é¦–å…ˆåº”ç”¨å®é™…å‡½æ•° \\(F\\) åˆ° \\(Y\\)-ç»„åˆå­ ä¸Š: \\[ Y F \\equiv (\\lambda f. (\\lambda x. f(xx)) (\\lambda x. f(xx)))\\ F = (\\lambda x. F(xx)) (\\lambda x. F(xx)) \\] ç°åœ¨å‡è®¾ \\(W\\) ä¸ \\(X\\) ç»„åˆå­ä»¥è¾…åŠ©è¯æ˜, ä¾‹å¦‚: \\[ W \\equiv \\lambda x. F(xx) \\\\ X \\equiv WW \\] å¼€å§‹è¯æ˜: \\[ X \\equiv WW \\equiv (\\lambda x. F(xx))\\ W = F(WW) \\equiv F X \\] ç„¶åå¯å¾— \\(X \\equiv F X\\), è€Œå› ä¸º: \\[Y F = (\\lambda x. F(xx)) (\\lambda x. F(xx)) \\equiv WW \\equiv X\\] å› æ­¤ \\(X \\equiv Y F\\), æ‰€ä»¥å¯ä»¥æŠŠ \\(X\\) æ›¿æ¢æˆ \\(Y F\\), æœ€ç»ˆå¾—åˆ°: \\[ Y F \\equiv F (Y F) \\] ä»è¯æ˜çš„ç»“è®ºä¸­å¾—çŸ¥ $ Y F = F (Y F) $, \\(F\\) è¿™ä¸ªå‡½æ•°å°†ä¼šä¸æ–­åœ°è‡ªæˆ‘é€’å½’: \\[ Y F \\equiv F (Y F) \\equiv F (F (Y F)) \\equiv (F (F ... F (Y F) ...)) \\] åº”ç”¨ å®é™…ä¾‹å­ é˜¶ä¹˜å‡½æ•° \\[ \\begin{aligned} fact &amp; := \\lambda f\\ x. if\\ (x &gt; 0)\\ then\\ (x * (f\\ (x - 1)))\\ else\\ 1 \\\\ Y\\ fact\\ 5 &amp; = (\\lambda f. (\\lambda x. f\\ (xx)) (\\lambda x. f\\ (xx)))\\ fact\\ 5 \\\\ &amp; \\to_{\\beta} ((\\lambda x. fact\\ (xx)) (\\lambda x. fact\\ (xx)))\\ 5 \\\\ &amp; \\to_{\\beta} (fact\\ ((\\lambda x. fact\\ (xx)) (\\lambda x. fact\\ (xx))))\\ 5 \\\\ &amp; \\to_{\\beta} ((\\lambda f\\ x. if\\ (x &gt; 0)\\ then\\ (x * (f\\ (x - 1)))\\ else\\ 1)\\ ((\\lambda x. fact\\ (xx)) (\\lambda x. fact\\ (xx))))\\ 5 \\\\ &amp; \\to_{\\beta} (\\lambda x. if\\ (x &gt; 0)\\ then\\ (x * (((\\lambda x. fact\\ (xx)) (\\lambda x. fact\\ (xx)))\\ (x - 1)))\\ else\\ 1)\\ 5 \\\\ &amp; \\to_{\\beta} 5 * (((\\lambda x. fact\\ (xx)) (\\lambda x. fact\\ (xx)))\\ 4) \\\\ &amp; \\twoheadrightarrow_{\\beta} 5 * (4 * (((\\lambda x. fact\\ (xx)) (\\lambda x. fact\\ (xx)))\\ 3)) \\\\ &amp; \\twoheadrightarrow_{\\beta} 5 * (4 * (3 * (((\\lambda x. fact\\ (xx)) (\\lambda x. fact\\ (xx)))\\ 2))) \\\\ &amp; \\twoheadrightarrow_{\\beta} 5 * (4 * (3 * (2 * (((\\lambda x. fact\\ (xx)) (\\lambda x. fact\\ (xx)))\\ 1)))) \\\\ &amp; \\twoheadrightarrow_{\\beta} 5 * (4 * (3 * (2 * 1))) \\\\ &amp; \\twoheadrightarrow_{\\beta} 120 \\end{aligned} \\] ç¼–ç¨‹ä¸Šçš„åº”ç”¨ ä¸åŠ¨ç‚¹å‡½æ•° ç”±äºåœ¨å®é™…ç¼–ç¨‹ä¸­, ç»å¤§å¤šæ•°å¸¦é™æ€ç±»å‹çš„è¯­è¨€å‡ä¸æ”¯æŒ é€’å½’ç±»å‹ (Recursive Type), å°±å¦‚ Haskell ç­‰, å› æ­¤å°±æ— æ³•é¿å…äºå‡½æ•°åº”ç”¨äºè‡ªèº«æ—¶æ‰€å¸¦æ¥çš„å‡½æ•°ç±»å‹æ— é™é€’å½’å¼•è‡´åœæœºé—®é¢˜, å› æ­¤äºå®ç° \\(Y\\)-ç»„åˆå­ (ä¸åŠ¨ç‚¹ç»„åˆå­) æ—¶æˆ‘ä»¬å¤šé‡‡ç”¨äº†ç¼–ç¨‹è¯­è¨€æœ¬èº«çš„ç‰¹æ€§, ä¾‹å¦‚ Haskell çš„ \\(fix\\) å‡½æ•°å®šä¹‰å¦‚ä¸‹: 12fix :: (a -&gt; a) -&gt; afix f = let x = f x in x Recursive Scheme é€è¿‡ä¸åŠ¨ç‚¹çš„æ¦‚å¿µå®šä¹‰å‡º Recursive Scheme, æˆ‘ä»¬ä¸ä»…ä»…èƒ½å¤Ÿäºé¡¹ä¸Šå®šä¹‰å‡ºä¸åŠ¨ç‚¹, åŒæ ·åœ°äº¦å¯äºç±»å‹ä¸Šå®šä¹‰å‡ºæ¥, ä¾‹å¦‚é€è¿‡ Free monad, Catamorphism, Anamorphism ç­‰ç­‰çš„æŠ½è±¡ç»“æ„, å¯ä»¥ç«™åœ¨é«˜å¤„ä»¥ä¿¯è§†çš„è§’åº¦å®è§‚åœ°çœ‹å¾…æŸäº›é—®é¢˜, ä¾‹å¦‚åœ¨å¤„ç†æŠ½è±¡è¯­æ³•æ ‘æ—¶, å¯åˆ©ç”¨è¯¥ç§æ–¹å¼æ¶ˆé™¤ æ¨¡æ¿ä»£ç  (boilerplate) ç­‰ç­‰. å¤–éƒ¨é“¾æ¥ æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒæˆ–å¼•ç”¨è‡³ä¸‹åˆ—ç½‘é¡µï¼Œä¹Ÿå¯ä¾›ä½œä¸ºé¢å¤–çš„å»¶ä¼¸èµ„æºå¸®åŠ©é˜…è¯»ï¼š åº·æ‰˜å°”ã€å“¥å¾·å°”ã€å›¾çµâ€”â€”æ°¸æ’çš„é‡‘è‰²å¯¹è§’çº¿ Lambda Calculi With Types - Henk Barendregt Haskell/Fix and recursion Clear, intuitive derivation of the fixed-point combinator (Y combinator)?","categories":[],"tags":[{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://a9032676.github.io/tags/å‡½æ•°å¼ç¼–ç¨‹/"},{"name":"ç±»å‹è®º","slug":"ç±»å‹è®º","permalink":"https://a9032676.github.io/tags/ç±»å‹è®º/"},{"name":"é€»è¾‘","slug":"é€»è¾‘","permalink":"https://a9032676.github.io/tags/é€»è¾‘/"},{"name":"è¯æ˜","slug":"è¯æ˜","permalink":"https://a9032676.github.io/tags/è¯æ˜/"}]},{"title":"Lambda ç«‹æ–¹ä½“ ä¸ ç±»å‹ç³»ç»Ÿ ç®€è®°","slug":"Lambda-Cube-Intro","date":"2020-09-21T07:45:00.000Z","updated":"2020-11-01T05:12:28.365Z","comments":true,"path":"2020/09/21/Lambda-Cube-Intro/","link":"","permalink":"https://a9032676.github.io/2020/09/21/Lambda-Cube-Intro/","excerpt":"","text":"ç®€ä»‹ åœ¨æ•°å­¦ (å°¤å…¶æŒ‡æ•°ç†é€»è¾‘åˆ†æ”¯) ä¸ç±»å‹è®ºçš„ä¸–ç•Œ, Lambda ç«‹æ–¹ä½“ æ˜¯ç”± Henk Barendregt æå‡ºçš„ä¸€ä¸ªæ¡†æ¶, ç”¨ä»¥æ¢ç´¢åŠç ”ç©¶ ç®€å•ç±»å‹ \\(\\lambda\\)-æ¼”ç®— äºä¸åŒç»´åº¦ä¸Šæ‰©å±•å‡ºæ¥å¯¹åº”çš„ ç±»å‹ç³»ç»Ÿ, å…¶ä¹Ÿé˜è¿°äº†å¤„äºä¸åŒç»´åº¦ä¸Šçš„ ç±»å‹ç³»ç»Ÿ ä¸­ ç±»å‹ (Type) ä¸å€¼ (Term) çš„ä¾èµ–å…³ç³» ç©¶ç«Ÿæ˜¯æ€æ ·çš„, ç®€å•æ¥è¯´æˆ‘ä»¬å¯ä»¥ä»¥ä¸‰ç§ä¸åŒæ–¹å‘çš„ç®­å¤´ (ç»´åº¦) å®šä¹‰å‡ºä¸åŒç±»å‹ç³»ç»Ÿä¹‹é—´æ˜¯æ€æ ·æ‰©å±•å¼€æ¥çš„. ä¸‰ç§ä¸åŒçš„ç»´åº¦åˆ†åˆ«ä»£è¡¨çš„å«ä¹‰ Yè½´ (\\(\\uparrow\\)): å€¼ä¾èµ–äºç±»å‹, å¯è¢«å¯¹åº”åˆ° å¤šæ€ (Polymorphism) çš„æ¦‚å¿µ Xè½´ (\\(\\to\\)): ç±»å‹ä¾èµ–äºå€¼, å¯è¢«å¯¹åº”åˆ° ä¾èµ–ç±»å‹ (Dependent types) çš„æ¦‚å¿µ Zè½´ (\\(\\nearrow\\)): ç±»å‹ä¾èµ–äºç±»å‹, å¯è¢«å¯¹åº”åˆ° ç±»å‹æ„é€ å™¨ (Type operators) çš„æ¦‚å¿µ ç±»å‹ç³»ç»Ÿ äº Lambda ç«‹æ–¹ä½“ä¸­, æˆ‘ä»¬ä¼šå®šä¹‰å‡ºä¸åŒå½¢å¼çš„ç±»å‹ç³»ç»Ÿç”¨ä»¥æè¿°å„è‡ªä¸åŒç³»ç»Ÿä¹‹é—´çš„ä½œç”¨ä¸è§„åˆ™, ä¸‹é¢å°†ä¼šç•¥ä¸¾ä¸€äº›ä¾‹å­: (\\(\\lambda\\to\\)) ç®€å•ç±»å‹ Lambda æ¼”ç®— ç®€å•ç±»å‹ Lambda æ¼”ç®—æ˜¯ Lambda ç«‹æ–¹ä½“ä¸­æœ€ä¸ºç®€å•çš„ç±»å‹ç³»ç»Ÿ, å…¶åªèƒ½å¤Ÿé€è¿‡ å€¼ä¾èµ–äºå€¼ (a term depend on a term) çš„æ–¹å¼æ„é€ å‡ºæ¥ ç±»å‹æ¨å¯¼è§„åˆ™ ç®€å•ç±»å‹ Lambda æ¼”ç®— ä½¿ç”¨äº†ä»¥ä¸‹çš„ç±»å‹æ¨å¯¼è§„åˆ™: \\({\\frac { x\\ :\\ \\sigma\\ \\in\\ \\Gamma }{ \\Gamma\\ \\vdash\\ x\\ :\\ \\sigma }}\\)(\\(start\\ rule\\)) å‡è®¾ä¸Šä¸‹æ–‡ (Typing environment) \\(\\Gamma\\) ä¸­å­˜åœ¨ \\(x\\) çš„ç±»å‹ä¸º \\(\\sigma\\), åˆ™å¯æ¨å¯¼å‡º \\(x\\) çš„ç±»å‹ä¸º \\(\\sigma\\) . \\({\\frac { \\Gamma\\ \\vdash\\ M\\ :\\ (\\sigma\\ \\to\\ \\tau)\\quad\\Gamma\\ \\vdash\\ N\\ :\\ \\sigma }{ \\Gamma\\ \\vdash\\ (M\\ N)\\ :\\ \\tau }}\\)(\\(\\to-elimination\\)) ç»™å®šä¸Šä¸‹æ–‡ \\(\\Gamma\\), å…¶èƒ½æ¨å¯¼å‡º \\(M\\) çš„ç±»å‹ä¸º \\(\\sigma \\to \\tau\\) ä¸” \\(N\\) çš„ç±»å‹ä¸º \\(\\sigma\\), åˆ™å¯æ¨å¯¼å‡º \\(M\\ N\\) çš„ç±»å‹ä¸º \\(\\tau\\) . \\({\\frac { \\Gamma\\ ,\\ x\\ :\\ \\sigma\\ \\vdash\\ M\\ :\\ \\tau }{ \\Gamma\\ \\vdash\\ (\\lambda x.\\ M)\\ :\\ (\\sigma\\ \\to\\ \\tau) }}\\)(\\(\\to-introduction\\)) æœ‰ \\(\\Gamma\\) å¹¶ä¸”æœ‰ \\(x\\) çš„ç±»å‹ä¸º \\(\\sigma\\) è¯¥ä¸¤ä¸ªä¸Šä¸‹æ–‡, å‡è®¾ \\(\\Gamma\\) èƒ½å¤Ÿæ¨å¯¼å‡º \\(M\\) çš„ç±»å‹ä¸º \\(\\tau\\), åˆ™äº¦å¯æ¨å¯¼å‡º \\(\\lambda x. M\\) çš„ç±»å‹ä¸º \\(\\sigma \\to \\tau\\) . \\(\\lambda\\to_{Curry}\\) ä¸ \\(\\lambda\\to_{Church}\\) çš„å·®å¼‚ \\(\\lambda\\to_{Curry}\\) ä¸ \\(\\lambda\\to_{Church}\\) è¿™ä¸¤ç§ç³»ç»Ÿå‡èƒ½è¡¨è¾¾ \\(\\lambda\\to\\) çš„å«ä¹‰, è€Œä¸Šè¿°çš„æ¨å¯¼è§„åˆ™æ˜¯ä½¿ç”¨äº† \\(Curry\\) ç‰ˆæœ¬ç¼–å†™çš„, è€Œä¸¤è€…çš„ä¸åŒç‚¹åˆ™åœ¨äº: \\(Curry\\) ç‰ˆæœ¬çš„æ¨å¯¼è§„åˆ™ä¸º: \\(\\vdash_{Curry} (\\lambda x.x) : (\\sigma \\to \\sigma)\\) \\(Church\\) ç‰ˆæœ¬çš„æ¨å¯¼è§„åˆ™ä¸º: \\(\\vdash_{Church} (\\lambda x : \\sigma .x) : (\\sigma \\to \\sigma)\\) å¯è§ä¸€èˆ¬åœ¨ \\(Curry\\) ä¸­çš„ä¸€ä¸ªå€¼ \\(\\lambda x. x\\) å°†ä¼šè¢« \\(Church\\) æ ‡è®°ä¸º \\(: \\sigma\\), å³æ˜¾å¼åœ°æ ‡è®°å‚æ•° \\(x\\) çš„ç±»å‹ä¸º \\(\\sigma\\). ç”±äºæˆ‘ä»¬èƒ½å¤Ÿæ˜¾å¼åœ°æ ‡è®°å€¼ä¸Šå‚æ•°çš„ç±»å‹, å› æ­¤æˆ‘ä»¬å°±èƒ½å¤Ÿæ ¹æ®è¯¥å‚æ•°çš„ç±»å‹ç›´æ¥å†³å®š (Decide) æŸä¸ªå€¼ä¸Šç©¶ç«Ÿæ˜¯ä»€ä¹ˆç±»å‹, è€Œå¯¹äºæŸäº›ä½¿ç”¨ \\(Curry\\) ç³»ç»Ÿå®šä¹‰çš„è§„åˆ™, åœ¨æŸäº›é—®é¢˜ä¸Šä»–ä»¬æ˜¯ä¸å¯å†³å®šçš„ (Undecidable). (\\(\\lambda 2\\)) ç³»ç»Ÿ F ç³»ç»Ÿ F ç›¸è¾ƒäº ç®€å•ç±»å‹ \\(\\lambda\\) æ¼”ç®— åªèƒ½å¤Ÿé€è¿‡ å€¼ä¾èµ–äºå€¼ çš„æ–¹å¼å»æ„é€ å‡ºä¸€ä¸ªæŠ½è±¡ (Abstraction), å…¶ä¹Ÿèƒ½å¤Ÿ ä¾èµ–äºç±»å‹çš„å€¼ (terms to depend on types). ç±»å‹æ¨å¯¼è§„åˆ™ ç³»ç»Ÿ F ä½¿ç”¨çš„æ¨å¯¼è§„åˆ™é™¤äº†åŒ…å« ç®€å•ç±»å‹ \\(\\lambda\\) æ¼”ç®—çš„ \\(start\\ rule\\), \\(\\to-elimination\\) ä»¥åŠ \\(\\to-introduction\\) è§„åˆ™å¤–, é¢å¤–æ–°å¢äº†: \\({\\frac { \\Gamma\\ \\vdash\\ M\\ :\\ (\\forall\\alpha.\\ \\sigma) }{ \\Gamma\\ \\vdash\\ M\\ :\\ (\\sigma[\\alpha\\ :=\\ \\tau]) }}\\), \\(\\tau \\in \\Bbb{T}\\) (\\(\\forall-elimination\\)) ç»™å®šä¸Šä¸‹æ–‡ \\(\\Gamma\\), å…¶èƒ½æ¨å¯¼å‡º å€¼ \\(M\\) æœ‰ç±»å‹ \\(\\forall\\alpha. \\sigma\\), åˆ™äº¦å¯æ¨å¯¼å‡º \\(M\\) çš„ç±»å‹ä¸º \\(\\sigma[\\alpha := \\tau]\\) (åœ¨è¿™é‡Œ \\(\\tau\\) ä¸ºå®é™…çš„ç±»å‹, \\(\\alpha\\) ä¸ºç±»å‹å‚æ•°, ä¹Ÿå°±æ˜¯ ç±»å‹ \\(\\sigma\\) ä¾èµ–äº \\(\\alpha\\) çš„å€¼, å³ \\(\\tau\\)). \\({\\frac { \\Gamma\\ \\vdash\\ M\\ :\\ \\sigma }{ \\Gamma\\ \\vdash\\ (\\Lambda \\alpha. M)\\ :\\ (\\forall\\alpha.\\sigma) }}\\),\\({\\ \\alpha \\notin FV(\\Gamma)}\\) (\\(\\forall-introduction\\)) ç»™å®šä¸Šä¸‹æ–‡ \\(\\Gamma\\) ä¸” \\(\\alpha\\) ä¸æ˜¯ \\(\\Gamma\\) çš„ è‡ªç”±å˜é‡, å…¶èƒ½æ¨å¯¼å‡º \\(M\\) æœ‰ç±»å‹ \\(\\sigma\\), åˆ™è¯¥ä¸Šä¸‹æ–‡äº¦å¯æ¨å¯¼å‡º \\(M\\) æœ‰ç±»å‹ \\(\\forall\\alpha. \\sigma\\) (å€¼ä¸Šçš„ \\(\\Lambda \\alpha\\) å¯æ˜¾å¼æŒ‡å®š \\(\\alpha\\) çš„ç±»å‹). è¿›ä¸€æ­¥çš„æ‰©å±•è§„åˆ™ é™¤äº†ä¸Šè¿°çš„ä¸¤æ¡è§„åˆ™å¤–, ç”±äºç³»ç»Ÿ F, å³ \\(\\lambda 2\\), ä¸ \\(\\lambda\\mu\\) ä»¥åŠ \\(\\lambda P\\) \\((\\lambda\\cap)\\), å‡æ˜¯ç”± \\(\\lambda\\to\\) å»¶ä¼¸å‡ºæ¥çš„, è¿™äº›ç³»ç»Ÿéƒ½èƒ½å¤ŸåŠ å…¥ \\(equality\\ rule\\ (EQ)\\) ä¸ \\(approximation\\ rule\\ (A)\\) ä½œæ¨å¯¼, äº¦èƒ½å¤Ÿç›¸äº’ç»„åˆå‡ºè¯¸å¦‚ \\(\\lambda 2\\mu\\) æˆ– \\(\\lambda\\mu\\cap\\) ç­‰æ›´å¼ºçš„ç³»ç»Ÿ. \\({\\frac { M\\ :\\ \\sigma \\quad M\\ =_{\\beta} \\ N }{ N\\ :\\ \\sigma }}\\)(\\(EQ\\)) è®¾æœ‰å€¼ \\(M : \\sigma\\) ä¸”å·²çŸ¥ \\(M = N\\), åˆ™å¯æ¨å¯¼å‡º \\(N\\) çš„ç±»å‹ä¸º \\(\\sigma\\) . \\({\\frac { \\Gamma\\ \\vdash\\ P\\ :\\ \\sigma\\ for\\ all\\ P\\ \\in\\ A(M) }{ \\Gamma\\ \\vdash\\ M\\ :\\ \\sigma }}\\)(\\(A\\)) \\({\\frac {}{ \\Gamma\\ \\vdash\\ \\bot\\ :\\ \\sigma }}\\)(\\(A\\)) ç¼–ç¨‹ä¸Šçš„ä¾‹å­ è¯¥è§„åˆ™çš„å®šä¹‰æ°æ°å¯¹åº”åˆ°äº†è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­ å¤šæ€åŒ–å‚æ•° (Parametric polymorphism) çš„ç‰¹æ€§, ä¾‹å¦‚äº Haskell ä¸­ id, const, justInt ä»¥åŠ intOrStr çš„å®šä¹‰å®é™…ä¸º: 1234567891011id :: forall a. a -&gt; aid x = xconst :: forall a b. a -&gt; b -&gt; aconst x y = xjustInt :: Maybe IntjustInt = Just 123intOrStr :: Either Int StringintOrStr = Right &quot;foo&quot; æˆ‘ä»¬èƒ½å¤Ÿé€è¿‡ forall a. ä¸ forall a b. ä»¥æ˜¾å¼æ•è·è¿™äº›å‡½æ•°çš„å¤šæ€å‚æ•°. è€Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°ä¾‹å­å¯¹åº”åˆ°æ¨å¯¼çš„è¡¨è¾¾å¼, æ­£å¦‚: \\((\\Lambda a. \\lambda x. x) : (\\forall a. a \\to a) \\vdash_{\\lambda 2} (\\lambda x. x) : ((a \\to a)[a := \\tau])\\) \\((\\Lambda a\\ b. \\lambda x\\ y. x) : (\\forall a\\ b. a \\to b \\to a) \\vdash_{\\lambda 2} (\\lambda x\\ y. x) : ((a \\to b \\to a)[a := \\tau_1, b := \\tau_2])\\) \\((Just\\ 123) : (Maybe\\ Int) \\vdash_{\\lambda 2} (Just\\ 123) : Maybe[\\alpha := Int]\\) \\((Right\\ &quot;foo&quot;) : (Either\\ Int\\ String) \\vdash_{\\lambda 2} (Right\\ &quot;foo&quot;) : Either[\\alpha := Int, \\beta := String]\\) (\\(\\lambda\\underline{\\omega}\\)) ç³»ç»Ÿ \\(\\lambda\\underline{\\omega}\\) ç³»ç»Ÿ \\(\\lambda\\underline{\\omega}\\) ç›¸è¾ƒäº ç®€å•ç±»å‹ \\(\\lambda\\) æ¼”ç®— åªèƒ½å¤Ÿé€è¿‡ å€¼ä¾èµ–äºå€¼ çš„æ–¹å¼ä»¥æ„é€ å‡ºä¸€ä¸ªæŠ½è±¡, å…¶å…è®¸äº† ç±»å‹ä¾èµ–äºç±»å‹ (types to depend on types) çš„æƒ…å†µå‡ºç°. Kind (\\(*\\)) çš„å¼•å…¥ ç”±äº \\(\\lambda\\underline{\\omega}\\) éœ€è¦è¡¨è¾¾å‡ºç±»å‹ä¾èµ–äºç±»å‹çš„æ¦‚å¿µ, æ­£å¦‚ \\(\\alpha \\to \\alpha\\) ä¸€æ ·, \\(\\alpha\\) (å³å‡½æ•°çš„åå˜ä½ç½®) ä¾èµ–äº \\(\\alpha\\) (å‡½æ•°çš„é€†å˜ä½ç½®), å› æ­¤æˆ‘ä»¬éœ€è¦å¼•å…¥ \\(Kind\\), å³ ç±»å‹çš„ç±»å‹ çš„æ¦‚å¿µ. ä¾‹å¦‚æŠŠä¸€ä¸ª \\(Kind\\) çš„è¡¨è¾¾å¼å®šä¹‰ä¸º \\(\\alpha, \\beta \\in \\Bbb{T} \\implies (\\alpha \\to \\beta) : \\Bbb{T}\\), è¿™é‡Œä¸éš¾çœ‹å‡º \\(\\alpha, \\beta, (\\alpha \\to \\beta) \\in \\Bbb{T}\\), å› æ­¤ \\(\\Bbb{T}\\) äº¦å¯è¢«ç§°ä¹‹ä¸ºç±»å‹çš„ç±»å‹, å³ \\(Kind\\), å½¢å¼åŒ–åœ°æ•´å¥è¡¨è¾¾å¼å¯è¢«å®šä¹‰ä¸º \\(\\alpha : *, \\beta : * \\vdash (\\alpha \\to \\beta) : *\\) (ä½¿ç”¨ \\(\\sigma : *\\) å–ä»£äº† \\(\\sigma \\in \\Bbb{T}\\)). Kind é›†åˆ (\\(\\Bbb{K}\\)) ä¸ \\(Kind\\) æ„é€ å™¨ (ç±»å‹æ„é€ å™¨) ç”±äº \\(Kind\\) çš„è¡¨è¾¾å¼, å¦‚ \\(f \\equiv \\lambda\\alpha : *. \\alpha \\to \\alpha\\) ä¸­, \\(f\\) æ—¢ä¸å¤„äºå€¼ä¸Š, äº¦ä¸æ˜¯å±…ç•™åœ¨ç±»å‹ä¸Š, å› æ­¤æˆ‘ä»¬éœ€è¦å®šä¹‰å‡ºä¸€ä¸ªæ–°çš„é›†åˆè´Ÿè´£å­˜å‚¨èµ·è¿™äº› \\(kinds\\) : \\[\\Bbb{K} = *\\ |\\ \\Bbb{K} \\to \\Bbb{K}\\] å³æœ‰ \\(\\Bbb{K} = \\lbrace *, * \\to *, * \\to * \\to *, ... \\rbrace\\). è‹¥æœ \\(\\vdash k : \\Box\\) ä¸” \\(\\vdash F : k\\) (è¿™é‡Œçš„ \\(k : \\Box\\) å®é™…ä¸Šå¯¹åº”äº† \\(k \\in \\Bbb{K}\\)), åˆ™ \\(F\\) è¢«ç§°ä¹‹ä¸º \\(kind\\ k\\) çš„æ„é€ å™¨ (ç±»å‹æ„é€ å™¨). ç±»å‹æ¨å¯¼è§„åˆ™ \\(&lt;&gt; \\vdash * : \\Box\\) (\\(axiom\\)) ç©ºçš„ä¸Šä¸‹æ–‡æ€»èƒ½è¢«æ¨å¯¼å‡º \\(* : \\Box\\) \\({\\frac{ \\Gamma\\ \\vdash\\ A\\ :\\ s }{ \\Gamma,\\ x\\ :\\ A\\ \\vdash\\ x\\ :\\ A }}\\), \\(x \\notin \\Gamma\\) (\\(start\\ rule\\)) \\({\\frac{ \\Gamma\\ \\vdash\\ A\\ :\\ B \\quad \\Gamma\\ \\vdash\\ C\\ :\\ s }{ \\Gamma,\\ x\\ :\\ C\\ \\vdash\\ A\\ :\\ B }}\\), \\(x \\notin \\Gamma\\) (\\(weakening\\ rule\\)) \\({\\frac{ \\Gamma\\ \\vdash\\ A\\ :\\ s \\quad \\Gamma\\ \\vdash\\ B\\ :\\ s }{ \\Gamma\\ \\vdash\\ (A\\ \\to\\ B)\\ :\\ s }}\\)(\\(type/kind\\ formation\\)) è¿™é‡Œçš„ \\(formation-rule\\) æŒ‡çš„æ˜¯æ€æ ·æŠŠæŸä¸€ä¸ª \\(kind\\) (è¿™é‡Œæ˜¯ \\(s\\)) æ„å»ºæˆä¸€ä¸ªç±»å‹, ä¾‹å¦‚è¿™é‡Œåˆ™æ˜¯å½“æœ‰ \\(A\\) ä»¥åŠ \\(B\\) çš†ä¸ºç±»å‹æ—¶, åˆ™èƒ½æ„ç­‘è¡¨è¾¾å¼ \\(A \\to B\\) æ˜¯ä¸€æ¥å— \\(A\\) ç±»å‹å¹¶ä¸”è¿”å› \\(B\\) ç±»å‹çš„å‡½æ•°. \\({\\frac{ \\Gamma\\ \\vdash\\ F\\ :\\ (A\\ \\to\\ B) \\quad \\Gamma\\ \\vdash\\ a\\ :\\ A }{ \\Gamma\\ \\vdash\\ Fa\\ :\\ B }}\\)(\\(application\\ rule\\)) \\({\\frac{ \\Gamma,\\ x\\ :\\ A\\ \\vdash\\ b\\ :\\ B \\quad \\Gamma\\ \\vdash\\ (A\\ \\to\\ B)\\ :\\ s }{ \\Gamma\\ \\vdash\\ (\\lambda x\\ :\\ A.\\ b)\\ :\\ (A\\ \\to\\ B) }}\\)(\\(abstraction\\ rule\\)) \\({\\frac{ \\Gamma\\ \\vdash\\ A\\ :\\ B \\quad \\Gamma\\ \\vdash\\ B&#39;\\ :\\ s \\quad B\\ =_{\\beta}\\ B&#39; }{ \\Gamma\\ \\vdash\\ A\\ :\\ B&#39; }}\\)(\\(conversion\\ rule\\)) ç¼–ç¨‹ä¸Šçš„ä¾‹å­ äº Haskell ä¸­, æˆ‘ä»¬å¾—çŸ¥ä¸€ä¸ª Functor (f :: * -&gt; *) å…¶æœ¬èº«æ˜¯ä¸€ç±»å‹æ„é€ å™¨, ç°åœ¨åˆ™å¯åˆ©ç”¨ \\(\\lambda\\to\\) ä»¥åŠ \\(\\lambda\\underline{\\omega}\\) çš„è§„åˆ™, å¯¹ fmap (*2) [1..10] (æˆ– (*2) &lt;$&gt; [1..10]) è¿›è¡Œç®€å•çš„ç±»å‹æ¨å¯¼: \\[ \\dfrac { \\dfrac { \\dfrac { \\begin{aligned} \\vdots \\end{aligned} } { \\Gamma, l : [a] \\vdash fmap\\ (*2) : [b] } \\quad \\dfrac { \\dfrac { \\Gamma \\vdash [] : (* \\to *) \\quad \\Gamma \\vdash a : * } { \\Gamma \\vdash [a] : * } (\\lambda\\underline{\\omega}\\ app.) \\quad \\dfrac { \\Gamma \\vdash [] : (* \\to *) \\quad \\Gamma \\vdash b : * } { \\Gamma \\vdash [b] : * } (\\lambda\\underline{\\omega}\\ app.) } { \\Gamma \\vdash ([a] \\to [b]) : * } (\\lambda\\underline{\\omega}\\ form.) } { \\Gamma \\vdash \\lambda l. fmap\\ (*2) : ([a] \\to [b]) } (\\lambda\\underline{\\omega}\\ abst.) \\quad \\dfrac { \\begin{align} \\vdots \\\\ \\end{align} } { \\Gamma \\vdash [1..10] : [a] } } { \\Gamma \\vdash fmap\\ (*2)\\ [1..10] : [b] } (\\lambda\\to elim.) \\] (\\(\\lambda P\\)) Lambda-P ç³»ç»Ÿ \\(\\lambda P\\) ç›¸è¾ƒäº ç®€å•ç±»å‹ \\(\\lambda\\) æ¼”ç®— åªèƒ½å¤Ÿé€è¿‡ å€¼ä¾èµ–äºå€¼ çš„æ–¹å¼ä»¥æ„é€ å‡ºä¸€ä¸ªæŠ½è±¡, äº¦å¯äºç±»å‹ä¸Šä»¥å€¼ä½œä¸ºå‚æ•°, æ­£å¦‚ä¸€ä¸ªç›´è§‚çš„ä¾‹å­ \\(A^n \\to B\\) é˜è¿°äº† \\(n\\) å®é™…ä¸Šæ˜¯ä¸€ä¸ªå€¼ (ä¾‹å¦‚ä¸€ä¸ªè‡ªç„¶æ•°), \\(A\\) ä¸ \\(B\\) æ˜¯ç±»å‹, è€Œæˆ‘ä»¬éœ€è¦æ„é€  \\(B\\) çš„æ—¶å€™åˆ™å¿…é¡»ä¼ å…¥ä¸€ä¸ªå€¼, å› æ­¤å¯è¢«æè¿°ä¸º ä¾èµ–äºå€¼çš„ç±»å‹ (types to depend on terms). ç±»å‹æ¨å¯¼è§„åˆ™ ç³»ç»Ÿ \\(\\lambda P\\) ä½¿ç”¨äº†å¦‚ä¸‹è§„åˆ™è¿›è¡Œæ¨å¯¼ (å…¶ä¸­ \\(*\\) ä¸ \\(\\Box\\) ä¸º \\(\\lambda P\\) è¡¨è¾¾å¼ä¸­çš„å¸¸é‡): \\(&lt;&gt;\\ \\vdash * : \\Box\\) (\\(axiom\\)) ç©ºçš„ä¸Šä¸‹æ–‡æ€»èƒ½è¢«æ¨å¯¼å‡º \\(* : \\Box\\) \\({\\frac { \\Gamma\\ \\vdash\\ A\\ :\\ s }{ \\Gamma,\\ x\\ :\\ A\\ \\vdash\\ x\\ :\\ A }}\\), \\(x \\notin \\Gamma\\) (\\(start\\ rule\\)) \\({\\frac { \\Gamma\\ \\vdash\\ A\\ :\\ B \\quad \\Gamma\\ \\vdash\\ C\\ :\\ s }{ \\Gamma,\\ x\\ :\\ C\\ \\vdash\\ A\\ :\\ B }}\\), \\(x \\notin \\Gamma\\) (\\(weakening\\ rule\\)) \\({\\frac { \\Gamma\\ \\vdash\\ A\\ :\\ * \\quad \\Gamma,\\ x\\ :\\ A\\ \\vdash\\ B\\ :\\ s }{ \\Gamma\\ \\vdash\\ (\\Pi x\\ :\\ A.\\ B)\\ :\\ s }}\\)(\\(type/kind\\ formation\\)) \\({\\frac{ \\Gamma\\ \\vdash\\ F\\ :\\ (\\Pi x\\ :\\ A.\\ B) \\quad \\Gamma\\ \\vdash\\ a\\ :\\ A }{ \\Gamma\\ \\vdash\\ Fa\\ :\\ B[x\\ :=\\ a] }}\\)(\\(application\\ rule\\)) \\({\\frac{ \\Gamma,\\ x\\ :\\ A\\ \\vdash\\ b\\ :\\ B \\quad \\Gamma\\ \\vdash\\ (\\Pi x\\ :\\ A.\\ B)\\ :\\ s }{ \\Gamma\\ \\vdash\\ (\\lambda x\\ :\\ A.\\ b)\\ :\\ (\\Pi x\\ :\\ A.\\ B) }}\\)(\\(abstraction\\ rule\\)) \\({\\frac{ \\Gamma\\ \\vdash\\ A\\ :\\ B \\quad \\Gamma\\ \\vdash\\ B&#39;\\ :\\ s \\quad B\\ =_{\\beta}\\ B&#39; }{ \\Gamma\\ \\vdash\\ A\\ :\\ B&#39; }}\\)(\\(conversion\\ rule\\)) (\\(\\lambda\\omega\\)) ç³»ç»Ÿ \\(\\lambda\\omega\\) ç³»ç»Ÿ \\(\\lambda\\omega\\) ç»“åˆäº† \\(\\lambda 2\\) çš„ \\(\\Lambda\\) æ„é€ å™¨, \\(\\lambda\\underline{\\omega}\\) çš„ ç±»å‹æ„é€ å™¨ ä¸ä»–ä»¬å„è‡ªçš„æ¨å¯¼è§„åˆ™, å…¶å…è®¸äº† ä¾èµ–äºç±»å‹çš„å€¼ (terms to depend on types) ä»¥åŠ ç±»å‹ä¾èµ–äºç±»å‹ (types to depend on types) åŒæ—¶å­˜åœ¨, å› æ­¤ä»è®¡ç®—çš„è§’åº¦æ¥çœ‹, å…¶è¡¨è¾¾èƒ½åŠ›éå¸¸å¼º, åŒæ—¶äº¦è¢«è®¤ä¸ºå…·å¤‡ç¼–ç¨‹è¯­è¨€æ‰€éœ€è¾¾åˆ°çš„åŸºç¡€. (\\(\\lambda C\\)) ç³»ç»Ÿ \\(\\lambda C\\) ç³»ç»Ÿ \\(\\lambda C\\) ä½äº Lambda ç«‹æ–¹ çš„æœ€å³ä¸Šè§’, å…¶åŒ…å«äº†æ¥è‡ªäº \\(\\lambda P\\) é€»è¾‘è°“è¯çš„è¡¨è¾¾èƒ½åŠ› ä¸ \\(\\lambda\\omega\\) çš„è®¡ç®—èƒ½åŠ›, å› æ­¤æ— è®ºæ˜¯ä»é€»è¾‘æˆ–æ˜¯è®¡ç®—çš„è§’åº¦è€ƒé‡, å‡è¢«è§†ä¸ºæåº¦å…·å¤‡å¼ºå¤§èƒ½åŠ›çš„ä¸€å¥—ç±»å‹ç³»ç»Ÿ. ä¸é€»è¾‘ç³»ç»Ÿçš„å…³ç³» é€è¿‡ Curry-Howard åŒæ„, æˆ‘ä»¬å¾—ä»¥å°† Lambda ç«‹æ–¹ä½“ ä¸­çš„ç±»å‹ç³»ç»Ÿä¸é€»è¾‘ç³»ç»Ÿä¸€ä¸€å¯¹åº”èµ·æ¥, å¦‚ä¸‹è¡¨: ç±»å‹ç³»ç»Ÿ é€»è¾‘ç³»ç»Ÿ \\(\\lambda\\to\\) (ä¸€é˜¶) å‘½é¢˜é€»è¾‘ \\(\\lambda 2\\) äºŒé˜¶å‘½é¢˜é€»è¾‘ \\(\\lambda\\underline{\\omega}\\) å¼±é«˜é˜¶å‘½é¢˜é€»è¾‘ \\(\\lambda\\omega\\) é«˜é˜¶å‘½é¢˜é€»è¾‘ \\(\\lambda P\\) ä¸€é˜¶è°“è¯é€»è¾‘ \\(\\lambda P2\\) äºŒé˜¶è°“è¯é€»è¾‘ \\(\\lambda P\\underline{\\omega}\\) å¼±é«˜é˜¶è°“è¯é€»è¾‘ \\(\\lambda C\\) æ„é€ æ¼”ç®— å¤–éƒ¨é“¾æ¥ æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒæˆ–å¼•ç”¨è‡³ä¸‹åˆ—ç½‘é¡µï¼Œä¹Ÿå¯ä¾›ä½œä¸ºé¢å¤–çš„å»¶ä¼¸èµ„æºå¸®åŠ©é˜…è¯»ï¼š Lambda Cube - Wikipedia Lambda Calculi With Types - Henk Barendregt","categories":[],"tags":[{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://a9032676.github.io/tags/å‡½æ•°å¼ç¼–ç¨‹/"},{"name":"ç±»å‹è®º","slug":"ç±»å‹è®º","permalink":"https://a9032676.github.io/tags/ç±»å‹è®º/"},{"name":"é€»è¾‘","slug":"é€»è¾‘","permalink":"https://a9032676.github.io/tags/é€»è¾‘/"},{"name":"è®¡ç®—æœºç¼–ç¨‹ç†è®º","slug":"è®¡ç®—æœºç¼–ç¨‹ç†è®º","permalink":"https://a9032676.github.io/tags/è®¡ç®—æœºç¼–ç¨‹ç†è®º/"}]},{"title":"ä¸€ä¸ª Haskeller çš„èŒƒç•´è®ºå…¥å‘ç¬”è®° ç¬¬å››ç« ï¼šå§‹å¯¹è±¡ï¼Œç»ˆå¯¹è±¡ä¸é›¶å¯¹è±¡","slug":"Category-Theory-4","date":"2019-09-29T14:19:24.000Z","updated":"2020-09-21T07:31:53.154Z","comments":true,"path":"2019/09/29/Category-Theory-4/","link":"","permalink":"https://a9032676.github.io/2019/09/29/Category-Theory-4/","excerpt":"","text":"å‰è¨€ ä¸Šä¸€ç« ä»‹ç»äº†é™¤é›†åˆèŒƒç•´ä»¥å¤–ä¸€äº›å…¶ä»–èŒƒç•´çš„ä¾‹å­ï¼Œè€Œå¯¹äºä»»æ„èŒƒç•´è€Œè¨€ï¼Œå¾€å¾€æ˜¯ç”±æ€å°„æŠŠä¸åŒå¯¹è±¡é“¾æ¥åœ¨ä¸€èµ·å½¢æˆæŸäº›å…³ç³»ã€‚è€Œæ—¢ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸€äº›ä¸åŒç§ç±»æ€å°„ä¸èŒƒç•´ï¼Œå½“ç„¶å¯¹è±¡ä¹Ÿä¸ä¼šä¾‹å¤–ï¼Œé€è¿‡å¯¹å¯¹è±¡ç§ç±»çš„åˆ’åˆ†ï¼Œæˆ‘ä»¬åŒæ ·åœ°å¯ä»¥å¾—å‡ºä¸€äº›ä¸åŒçš„ç»“è®ºå‡ºæ¥ï¼Œå› æ­¤æˆ‘ä»¬ä»Šå¤©å°±æ¥æ¢è®¨ä¸‹å…³äºèŒƒç•´å†…å¯¹è±¡çš„ä¸€äº›å…³ç³»å§ã€‚ æ³›æ„é€ ï¼ˆUniversal Constructionï¼‰ åœ¨èŒƒç•´è®ºçš„è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éƒ½ä¼šæŠŠå¯¹è±¡ä¹‹é—´é€è¿‡æ€å°„è¿æ¥èµ·æ¥ï¼Œä½†æˆ‘ä»¬ä»æ¥éƒ½æ²¡æœ‰ \"è°ˆå¯¹è±¡\"ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨ \\(Commuting-diagram\\) æ„é€ ä¸€ä¸ª \\(C_{Set}\\) çš„èŒƒç•´æ—¶æˆ‘ä»¬ä»æ¥å°±æ²¡æœ‰å…³å¿ƒè¿‡é›†åˆé‡Œé¢ç©¶ç«Ÿæ˜¯ç”±å•¥å…·ä½“çš„æ•´æ•°è¢«æ˜ å°„è‡³å•¥å…·ä½“çš„æ•´æ•°ï¼Œå¦‚ï¼š1 / 2 / 3 ç­‰ç­‰ï¼Œä»–ä»¬é€šå¸¸åªä¼šåœ¨å…·ä½“çš„ä¾‹å­ä¸­å‡ºç°ï¼Œè€Œä¸ä¼šåœ¨æ„é€ æ—¶è¢«æ¬ä¸Šå°é¢ã€‚æ‰€ä»¥è¦çŸ¥é“åœ¨èŒƒç•´è®ºä¸Šï¼Œæˆ‘ä»¬é€šå¸¸è°ˆçš„æ˜¯ä¸€ä¸ªè¢«æŠ½è±¡å‡ºæ¥çš„æ³›æ¦‚å¿µï¼Œå¯¹äºä»»ä½•å¯¹è±¡æˆ‘ä»¬ä¸ä¼šè°ˆå¯¹è±¡çš„æœ¬èº«ï¼Œè€Œåªä¼šæŠŠå¯¹è±¡ä¸æ€å°„è¿æ¥èµ·æ¥ï¼Œç»™å®šä¸€äº›ç‰¹æ€§æˆ–ç‰¹è´¨ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ç»™æ»¡è¶³æŸäº›ç‰¹æ€§çš„å¯¹è±¡åˆ†ç±»ï¼Œäºæ˜¯ä¹æˆ‘ä»¬ä¼šè¯´ï¼š\"å“¦ï¼åŸæ¥æ»¡è¶³è¿™äº›ç‰¹å¾é‚£å°±æ˜¯ä¸€ä¸ªå§‹å¯¹è±¡ï¼Œè€Œæ»¡è¶³è¿™äº›ç‰¹å¾é‚£å°±æ˜¯ç»ˆå¯¹è±¡ï¼\"ã€‚ èŒƒæ€§è´¨ï¼ˆUniversal Propertyï¼‰ å¯¹è±¡çš„ç§ç±»ï¼ˆType of Objectsï¼‰ é€è¿‡æ³›æ„é€ ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æåŠå¯¹è±¡æ˜¯ä»€ä¹ˆçš„æƒ…å†µä¸‹ï¼Œç»™å®šä¸åŒçš„è§„åˆ™ï¼Œå½¢æˆä¸åŒç§ç±»çš„å¯¹è±¡ï¼Œä¸‹é¢åˆ™ä¼šåˆ—å‡ºä¸€äº›å¸¸è§çš„å¯¹è±¡ç±»å‹ã€‚ å§‹å¯¹è±¡ï¼ˆInitial Objectï¼‰ å§‹å¯¹è±¡æœ‰ç€åˆå§‹ï¼Œå¼€å§‹çš„æ„æ€ï¼Œå…¶åœ¨èŒƒç•´ä¸­é‚£æ„å‘³ç€æœ€åˆå§‹çš„é‚£ä¸ªå¯¹è±¡ï¼Œä»»ä½•ä¸€åˆ‡éƒ½æ˜¯ç”±æ­¤å¤„å¼€å§‹ï¼Œå½“ç„¶åœ°è¿™ä¸ªå¯¹è±¡ä¹Ÿåªèƒ½å¤Ÿç”±å…¶æœ¬èº«å­˜åœ¨çš„å”¯ä¸€æ€å°„ç»™æ˜ å°„åˆ°åˆ«çš„å¯¹è±¡ä¸­ï¼Œå…¬ç†åŒ–çš„æ€§è´¨å¯æè¿°ä¸ºï¼š - å½“ \\(I\\) ä½œä¸ºå§‹å¯¹è±¡æ—¶ï¼Œ\\(\\forall X \\in C, Hom_C(I, X)\\) å½“ä¸­ä»…å­˜åœ¨å”¯ä¸€æ€å°„ï¼ˆUnique morphismï¼‰ - å½“ \\(I\\) ä½œä¸ºå§‹å¯¹è±¡æ—¶ï¼Œ\\(\\forall X \\in C, |C(I, X)| = 1\\) ä¸‹é¢æ˜¯ä¸åŒèŒƒç•´ä½œä¸ºå§‹å¯¹è±¡çš„ä¸€äº›ä¾‹å­ï¼š - å¯¹äº \\(C_{Set}\\)ï¼Œå§‹å¯¹è±¡åˆ™æ˜¯ç©ºé›†åˆï¼Œå› ä¸ºå¯¹äºé›†åˆæ¥è¯´ï¼Œå­˜åœ¨å”¯ä¸€æ€å°„çš„å…ƒç´ ï¼ˆå¯¹è±¡ï¼‰åˆ™åªæœ‰ç©ºé›†åˆã€‚ï¼ˆä¸‹è®¾ \\(I\\) ä½œä¸ºå§‹å¯¹è±¡ï¼Œå½“æˆ‘ä»¬å­˜åœ¨æ˜ å°„ \\(f : I \\to X\\) æ—¶ï¼ŒæŠŠå…¶ä½œä¸ºç¬›å¡å„¿ç§¯ \\(I \\times X \\in f\\) æ¥çœ‹å¾…ï¼Œè¿™æ—¶å€™å®ƒä»…å­˜åœ¨å”¯ä¸€å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ \\(\\varnothing \\to X\\)ï¼Œè¿™æ­£æ­£ç¬¦åˆäº†æ»¡å°„å‡½æ•°çš„å®šå¾‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç©ºå‡½æ•°ã€‚ï¼‰ - å¯¹äº \\(C_{Group}\\)ï¼Œå§‹å¯¹è±¡æ˜¯å¹³å‡¡ç¾¤ï¼ˆTrivial Groupï¼‰ã€‚ï¼ˆç”±å•å…ƒç´ ç»„æˆçš„ç¾¤ï¼Œå…¶è¿ç®—åªæœ‰ \\(e + e = e\\)ï¼‰ ç»ˆå¯¹è±¡ï¼ˆTerminal Objectï¼‰ åšäººè¦æœ‰å§‹æœ‰ç»ˆï¼Œé‚£èŒƒç•´è®ºå½“ç„¶ä¹Ÿä¸ä¾‹å¤–ï¼è€Œå¯¹äºç»ˆå¯¹è±¡ï¼Œå…¶ä¸å§‹å¯¹è±¡çš„æ€§è´¨å®Œå…¨ç›¸åï¼Œå…¬ç†åŒ–çš„æ€§è´¨å¯æè¿°ä¸ºï¼š - å½“ \\(T\\) ä½œä¸ºç»ˆå¯¹è±¡æ—¶ï¼Œ\\(\\forall X \\in C, Hom_C(X, T)\\) å½“ä¸­ä»…å­˜åœ¨å”¯ä¸€æ€å°„ - å½“ \\(T\\) ä½œä¸ºç»ˆå¯¹è±¡æ—¶ï¼Œ\\(\\forall X \\in C, |C(X, T)| = 1\\) ä¸‹é¢æ˜¯ä¸åŒèŒƒç•´ä½œä¸ºç»ˆå¯¹è±¡çš„ä¸€äº›ä¾‹å­ï¼š - å¯¹äº \\(C_{Set}\\)ï¼Œç»ˆå¯¹è±¡åˆ™æ˜¯å•å…ƒç´ é›†åˆï¼ˆSingleton Setï¼‰ï¼Œå› ä¸ºå¯¹äºé›†åˆæ¥è¯´ï¼Œæˆ‘ä»¬æ²¡åŠæ³•ä»éç©ºé›†åˆæ€å°„åˆ°ä¸€ä¸ªç©ºé›†åˆï¼ˆè¯•æƒ³ä¸€ä¸‹è‹¥æœåŸ¹åŸŸæ˜¯ç©ºé›†ï¼Œé‚£ä¹ˆå°±ä¸å­˜åœ¨ä»»ä½•æ€å°„ä»å®šä¹‰åŸŸæ˜ å°„åˆ°å€¼åŸŸäº†ï¼‰ï¼Œå­˜åœ¨å”¯ä¸€æ€å°„çš„å…ƒç´ ï¼ˆå¯¹è±¡ï¼‰åˆ™åªæœ‰å•å…ƒç´ é›†åˆã€‚ - å¯¹äº \\(C_{Group}\\)ï¼Œç»ˆå¯¹è±¡ä¹Ÿæ˜¯å¹³å‡¡ç¾¤ã€‚ é›¶å¯¹è±¡ï¼ˆZero Objectï¼ˆor Null Objectï¼‰ï¼‰ å½“ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒæ—¶æ˜¯å§‹å¯¹è±¡ä»¥åŠç»ˆå¯¹è±¡æ—¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠå®ƒç§°ä¸ºé›¶å¯¹è±¡ã€‚å› æ­¤å®ƒçš„æ€§è´¨å¯è¢«æè¿°ä¸ºï¼š - å½“ \\(0\\) ä½œä¸ºé›¶å¯¹è±¡æ—¶ï¼Œ\\(\\forall 0 \\in C, æœ‰ \\exists! f \\exists! g. f : A \\to 0 \\land g : 0 \\to A\\) ä¸‹é¢æ˜¯ä¸åŒèŒƒç•´ä½œä¸ºé›¶å¯¹è±¡çš„ä¸€äº›ä¾‹å­ï¼š - ç”±äºå¹³å‡¡ç¾¤åŒæ—¶æ˜¯å§‹å¯¹è±¡ä¸ç»ˆå¯¹è±¡ï¼Œå› æ­¤å®ƒè‡ªç„¶æ˜¯ä¸€ä¸ªé›¶å¯¹è±¡ã€‚","categories":[],"tags":[{"name":"èŒƒç•´è®º","slug":"èŒƒç•´è®º","permalink":"https://a9032676.github.io/tags/èŒƒç•´è®º/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://a9032676.github.io/tags/å‡½æ•°å¼ç¼–ç¨‹/"}]},{"title":"ä¸€ä¸ª Haskeller çš„èŒƒç•´è®ºå…¥å‘ç¬”è®° ç¬¬ä¸‰ç« ï¼šæ’åºå…³ç³»ï¼Œå¹ºåŠç¾¤ä¸ Thin å’Œ Kleisli èŒƒç•´","slug":"Category-Theory-3","date":"2019-08-25T16:04:44.000Z","updated":"2020-10-16T03:35:06.709Z","comments":true,"path":"2019/08/26/Category-Theory-3/","link":"","permalink":"https://a9032676.github.io/2019/08/26/Category-Theory-3/","excerpt":"","text":"å‰è¨€ ä¸ºä»€ä¹ˆä¸Šä¸¤ç¯‡èŒƒç•´è®ºç¬”è®°å¤§å¤šæ•°éƒ½æ˜¯é’ˆå¯¹èŒƒç•´ä¸å‡½æ•°çš„å…³ç³»ï¼Œéš¾é“å…¶ä»–å…³ç³»ä¸èƒ½æŠ½è±¡æˆä¸€ä¸ªèŒƒç•´å—ï¼Ÿè¿™ä¸ªç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ï¼Œå‰ä¸¤ç¯‡æ˜¯å€ŸåŠ©äº†å‡½æ•°çš„æ¦‚å¿µä»¥æ›´å¥½åœ°ç†è§£å¤åˆæˆ–åŒæ€ç©¶ç«Ÿæ˜¯äº›ä»€ä¹ˆä¸œè¥¿ï¼Œå› æ­¤è€Œä»æœ¬ç¯‡å¼€å§‹ï¼Œæˆ‘ä»¬æ¥è¯´ä¸€äº›ä¸å‡½æ•°å…³ç³»ä¸å¤§çš„ä¸€äº›çŸ¥è¯†å§ï¼ æ¦‚å¿µ æ—¢ç„¶èŒƒç•´è®ºé‡Œé¢æˆ‘ä»¬è¦è®¨è®ºçš„ä¸œè¥¿æ— éå°±æ˜¯å„ç§æ€å°„å¤åˆï¼ˆMorphism compositionï¼‰ï¼Œå°±è¿æ’åºå…³ç³»ä¹Ÿä¸ä¾‹å¤–ï¼Œåœ¨ç¬¬ä¸€ç« æ—¶å°±å·²è®²è¿°äº†ç›¸å…³æ¦‚å¿µï¼Œè¿™é‡Œå°±ä¸å†é‡æã€‚è€Œæˆ‘ä»¬ç°åœ¨è¦çŸ¥é“çš„æ˜¯é™¤äº†ç¬¬äºŒç« æåŠçš„å‡½æ•°å…³ç³»å¤–ï¼Œæˆ‘ä»¬ç©¶ç«Ÿè¿˜å¯ä»¥æ‹¿å¤åˆæ¥ç ”ç©¶äº›ä»€ä¹ˆï¼Œè€Œæ’åºå°±æ˜¯ä¸€ä¸ªå¾ˆå¥½ä¾‹å­äº†ã€‚ ä¾‹å¦‚æˆ‘ä»¬æœ‰æ—¶å€™ä¼šè¯´ \\(a\\) å°äºæˆ–ç­‰äº \\(b\\)ï¼Œè€Œ \\(b\\) å°äºæˆ–ç­‰äº \\(c\\)ï¼Œé‚£ä¹ˆå¿…ç„¶è•´å«äº† \\(a \\leq c\\)ï¼ˆä¼ é€’æ€§ï¼‰ï¼Œè¿™é‡Œä¸éš¾çœ‹å‡ºå®é™…ä¸Šæ’åºå…³ç³»å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„å¤åˆï¼Œåªä¸è¿‡æˆ‘ä»¬æŠŠå¯¹åº”çš„æ€å°„ç»™æ›¿æ¢æˆå…·ä½“æˆ‘ä»¬å®šä¹‰çš„äºŒå…ƒå…³ç³» \\(\\leq\\) ç½¢äº†ã€‚ \\[ a \\xrightarrow[\\leq]{} b \\xrightarrow[\\leq]{} c \\\\\\\\ a \\xrightarrow[\\leq]{} c \\] æ’åºå…³ç³»ï¼ˆOrder Relationshipï¼‰ æ’åºå…³ç³»æ˜¯å¯¹æ’åºåœ¨ç›´è§‰ä¸Šçš„è‡ªç„¶è¯ é‡Šï¼ŒåŒæ ·æ˜¯å±äºä¸€ç§äºŒå…ƒå…³ç³»ï¼Œå®ƒä»¬å„è‡ªæœ‰ä¸åŒçš„ç‰¹æ€§ï¼Œä¸‹é¢å°†ä¼šä»‹ç»ä¸€äº›è¾ƒä¸ºå¸¸è§çš„æ’åºå…³ç³»ã€‚ é¢„åºï¼ˆPreorderï¼ˆQuasiorderï¼‰ï¼‰ é¢„åºå…³ç³»æ»¡è¶³äº†è‡ªåæ€§ï¼ˆReflexiveï¼‰åŠä¼ é€’æ€§ï¼ˆTransitiveï¼‰ï¼Œä½œä¸ºæ’åºå…³ç³»æ¥è®²é¢„åºå¯ä»¥å°†å…¶æ¦‚å¿µè¿›ä¸€æ­¥æ¨å¹¿è‡³ç­‰ä»·å…³ç³»ä»¥åŠéä¸¥è°¨ï¼ˆNon-Strictï¼‰çš„ååºå…³ç³»ã€‚è€Œç”±é¢„åºå…³ç³»æ‰€ç»„æˆçš„é›†åˆè¢«ç§°ä¸ºé¢„åºé›†åˆï¼ˆPreordered set or Prosetï¼‰ ç°åœ¨è®¾ \\(\\leq\\) æ˜¯ P ä¸Šçš„äºŒå…ƒå…³ç³»ï¼Œè‹¥æœæ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼Œåˆ™ç§°è¿™æ˜¯ä¸€ä¸ªé¢„åºå…³ç³»ï¼Œä¾‹å¦‚ï¼š - è‡ªåæ€§ï¼š\\(\\forall a \\in P, a \\leq a\\) - ä¼ é€’æ€§ï¼š\\(\\forall a, b, c \\in P\\)ï¼Œè‹¥ \\(a \\leq b\\) ä¸” \\(b \\leq c\\)ï¼Œåˆ™ \\(a \\leq c\\) ååºï¼ˆPartial orderï¼‰ å¦‚æœæˆ‘ä»¬å°†é¢„åºè¿›è¡Œæ¨å¹¿ï¼Œå¹¶åŠ ä¸Šåå¯¹ç§°æ€§ï¼ˆAnti-symmetricï¼‰ä½œä¸ºçº¦æŸï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯´è¿™ä¸ªäºŒå…ƒå…³ç³»å°±æ˜¯ååºå…³ç³»ã€‚ ç°åœ¨è®¾ \\(\\leq\\) æ˜¯ P ä¸Šçš„äºŒå…ƒå…³ç³»ï¼Œè‹¥æœæ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼Œåˆ™ç§°è¿™æ˜¯ä¸€ä¸ªååºå…³ç³»ï¼Œä¾‹å¦‚ï¼š - è‡ªåæ€§ï¼š\\(\\forall a \\in P, a \\leq a\\) - ä¼ é€’æ€§ï¼š\\(\\forall a, b, c \\in P\\)ï¼Œè‹¥ \\(a \\leq b\\) ä¸” \\(b \\leq c\\)ï¼Œåˆ™ \\(a \\leq c\\) - åå¯¹ç§°æ€§ï¼š\\(\\forall a, b \\in P\\)ï¼Œè‹¥ \\(a \\leq b\\) ä¸” \\(b \\leq a\\)ï¼Œåˆ™è•´å«äº† \\(a = b\\) å…¨åºï¼ˆTotal orderï¼‰ åŒæ ·åœ°ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥å†å°†é¢„åºå…³ç³»è¿›ä¸€æ­¥æ¨å¹¿ï¼Œè®¾ \\(R\\) ä¸ºäºŒå…ƒå…³ç³»ï¼Œé™åˆ¶æŸä¸€ä¸ªåºçš„äºŒå…ƒå…³ç³»ä¸º \\(aRb \\lor bRa\\)ï¼Œå³å®Œå…¨æ€§ï¼ˆConnexï¼‰ä½œä¸ºçº¦æŸï¼Œé‚£ä¹ˆå¾—å‡ºæ¥çš„è¿™ä¸ªå…³ç³»å°±å«åšå…¨åºå…³ç³»ã€‚ ç°åœ¨è®¾ \\(\\leq\\) æ˜¯ P ä¸Šçš„äºŒå…ƒå…³ç³»ï¼Œè‹¥æœæ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼Œåˆ™ç§°è¿™æ˜¯ä¸€ä¸ªå…¨åºå…³ç³»ï¼Œä¾‹å¦‚ï¼š - ä¼ é€’æ€§ï¼š\\(\\forall a, b, c \\in P\\)ï¼Œè‹¥ \\(a \\leq b\\) ä¸” \\(b \\leq c\\)ï¼Œåˆ™ \\(a \\leq c\\) - åå¯¹ç§°æ€§ï¼š\\(\\forall a, b \\in P\\)ï¼Œè‹¥ \\(a \\leq b\\) ä¸” \\(b \\leq a\\)ï¼Œåˆ™è•´å«äº† \\(a = b\\) - å®Œå…¨æ€§ï¼š\\(\\forall a, b \\in P, a \\leq b \\lor b \\leq a\\) ï¼ˆä½†æ³¨æ„å…¶å·²è•´å«äº†è‡ªåå…³ç³»ï¼Œå› ä¸º \\(\\forall a, b \\in P, a \\leq a \\lor b \\leq b\\)ï¼‰ æ’åºåœ¨èŒƒç•´è®ºä¸Šçš„å…³ç³»ï¼ˆOrder in Category Theoryï¼‰ å¯¹äºä¸Šé¢çš„æ’åºå…³ç³»ï¼Œå¦‚æœæŠŠå®ƒä»¬çš„æ€§è´¨åœ¨èŒƒç•´è®ºä¸­å‘ˆç°å‡ºæ¥åˆæ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿå…¶å®ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºä¸Šé¢æ‰€æåŠåˆ°çš„æ’åºå…³ç³»å…¶å®å¤©ç„¶å°±æ˜¯ä¸€ç§èŒƒç•´ï¼Œæ¯”å¦‚åœ¨å¼€å¤´æ—¶æˆ‘ä»¬ä¸¾è¿‡çš„ä¾‹å­ï¼šå¯¹äºæœ€åŸºç¡€çš„æ’åºå…³ç³»ï¼Œä¹Ÿå°±æ˜¯é¢„åºå…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“åœ°æŠŠå®ƒå¯¹åº”åˆ°èŒƒç•´è®ºä¸Šçš„æ¦‚å¿µï¼Œå°±å¦‚åŒæŠŠäºŒå…ƒå…³ç³»ï¼ˆ\\(\\leq\\)ï¼‰æ›¿æ¢æˆæ€å°„ï¼ˆ\\(\\to\\)ï¼‰ä¸€æ ·ï¼Œè¿™å°±å·²ç»æ»¡è¶³äº†ä¼ é€’æ€§è´¨äº†ã€‚ é‚£ä¹ˆè‡ªåæ€§å‘¢ï¼Ÿå¯¹äºè‡ªåè¿™ä¸€æ¦‚å¿µï¼Œç”±äºæˆ‘ä»¬ä¸Šé¢å·²ç»å¾—çŸ¥è‡ªåçš„å®šä¹‰ï¼Œå…¶å®ä¸éš¾å‘ç°å…¶å®ä¹Ÿå°±æ˜¯èŒƒç•´ä¸Šæ°å·§æœ‰ä¸€ä¸ªæ€å°„çš„è·Ÿè‡ªåæ€§çš„æ¦‚å¿µä¸€æ¨¡ä¸€æ ·ï¼Œé‚£å°±æ˜¯å•ä½å…ƒæ€å°„ï¼ˆIdentity morphismï¼‰äº†ï¼ˆå› ä¸ºåŒæ ·åœ°å¯ä»¥æŠŠ \\(\\leq\\) æ›¿æ¢æˆå•ä½å…ƒæ€å°„ \\(id_a\\)ï¼Œä¾‹å¦‚ï¼š$ a a $ï¼‰ã€‚ Hom-é›†åˆï¼ˆHom-setï¼‰ æˆ‘ä»¬çš„èŒƒç•´å¹¶ä¸æ€»æ˜¯åªæœ‰ä¸€ä¸ªæ€å°„åœ¨å…¶å†…ï¼Œè€Œæ˜¯å¯ä»¥å­˜åœ¨å¾ˆå¤šæ€å°„ç”±ä¸åŒçš„å¯¹è±¡æ˜ å°„åˆ°èŒƒç•´å†…çš„å…¶ä»–å¯¹è±¡å»ï¼Œä¾‹å¦‚åœ¨èŒƒç•´ \\(C\\) å†…æˆ‘ä»¬æœ‰ \\(a\\) ä¸ \\(b\\) è¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œå­˜åœ¨æ€å°„ \\(f, g, h\\)ï¼Œå®ƒä»¬å‡æ˜¯ç”± \\(a\\) è¢«æ€å°„è‡³å¯¹è±¡ \\(b\\) ä¸Šï¼Œå› æ­¤è¿™äº›æ€å°„æœ¬èº«å¯ä»¥ç»„æˆä¸€ä¸ªç”± \\(a\\) æ€å°„è‡³ \\(b\\) çš„ Hom-é›†åˆï¼Œä¸€èˆ¬å†™ä½œ \\(C(a, b)\\) æˆ– \\(hom_C (a, b)\\)ã€‚ ä¸æ€å°„å¤åˆçš„å…³ç³»ï¼ˆRelationship with compositionï¼‰ æ€å°„å¤åˆå¯¹äº Hom-é›†åˆ æ¥è®²ä¹Ÿæ˜¯å¯ä»¥è¢«å…¬ç†åŒ–åœ°å†™å‡ºæ¥çš„ï¼Œä¾‹å¦‚å­˜åœ¨å¯¹è±¡ \\(a, b, c\\)ï¼Œå¯¹äºæ€å°„ \\(f \\in hom(a, b)\\) ä»¥åŠ \\(g \\in hom(b, c)\\)ï¼Œæˆ‘ä»¬å¯ä»¥å†™æˆè¿™æ ·ï¼š \\[ hom(a, b) \\times hom(b, c) \\implies hom(a, c) \\] å°èŒƒç•´ä¸å¤§èŒƒç•´ï¼ˆSmall and large categoryï¼‰ Thin èŒƒç•´ï¼ˆThin Categoryï¼ˆor Posetal categoryï¼‰ï¼‰ å½“ç„¶åœ°ï¼Œæ»¡è¶³äº†ä¸Šè¿°æ€§è´¨çš„èŒƒç•´å½“ç„¶æœ‰ä¸ªåå­—ï¼Œè¢«ç§°ä¸º Thin èŒƒç•´ï¼Œå«ä¹‰å³ â€œç˜¦â€ çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯å½“ä¸€ä¸ªèŒƒç•´å†…å½“ä¸”ä»…å½“å­˜åœ¨å”¯ä¸€æ€å°„ï¼Œé‚£ä¹ˆè¿™ä¸ªèŒƒç•´å°±ä¼š â€œç˜¦â€ åˆ°åªå‰©è¿™ä¹ˆä¸€ä¸ªäº†ã€‚ è®¾æœ‰ \\(hom_C (a, b)\\)ï¼Œåˆ†åˆ«ç”± \\(f\\) ä¸ \\(g\\) ä» \\(a\\) è¢«æ€å°„è‡³ \\(b\\)ï¼Œåˆ™è•´å«äº† \\(f = g\\)ï¼Œå½¢å¼åŒ–å®šä¹‰ä¸ºï¼š \\[ a \\overset{f}{\\underset{g}\\rightrightarrows} b \\implies f=g \\] æ˜¯æˆ–ä¸æ˜¯ä¸€ä¸ª Thin èŒƒç•´ï¼Ÿï¼ˆIs or not a Thin category?ï¼‰ æœ‰æ—¶å€™ä¸€äº›èŒƒç•´çœ‹ç€å¹¶ä¸åƒæ˜¯ä¸€ä¸ª Thin èŒƒç•´ï¼Œå‡è®¾æœ‰èŒƒç•´ \\(C\\)ï¼Œä¸”å­˜åœ¨å¯¹è±¡ \\(a, b, c, d\\)ï¼Œè€Œåœ¨ \\(Commutative-Diagram\\) ä¸Šå¦‚ä¸‹ï¼š \\[ \\array{&amp; a &amp; \\overset{f}\\rightarrow &amp; b &amp; \\\\\\\\ f&#39; &amp; \\downarrow &amp;&amp;\\downarrow &amp; g \\\\\\\\ &amp;c &amp; \\underset{g&#39;}\\rightarrow&amp; d &amp; \\\\\\\\ } \\] æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°åœ¨è¿™ä¸ªä¾‹å­ä¸­ \\(hom(a, d)\\) ä¸Šéƒ½çœ‹ä¼¼å­˜åœ¨ç€ä¸¤æ¡è·¯å¾„ï¼Œè²Œä¼¼ç›´è§‰ä¸Šå‘Šè¯‰æˆ‘ä»¬è¿™ä¸æ˜¯ä¸€ä¸ª Thin èŒƒç•´ï¼Œå› ä¸º â€œå½“ä¸”ä»…å½“å­˜åœ¨å”¯ä¸€æ€å°„â€ è¿™å¥è¯å‘Šè¯‰äº†æˆ‘ä»¬å¦‚æœå¤šäºä¸€ä¸ªæ€å°„ï¼Œé‚£å®ƒå°±ä¸ç®—æ˜¯ Thin èŒƒç•´ã€‚ ä½†äº‹å®çœŸæ˜¯è¿™æ ·å—ï¼Ÿè¦çŸ¥é“èŒƒç•´æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€å°±æ˜¯æ€å°„å¤åˆï¼Œè€Œå½“æˆ‘ä»¬æŠŠ \\(f \\circ g\\) ä¹‹åå®ƒçš„æ€å°„å®é™…ä¼šç›¸ç­‰äº \\(f&#39; \\circ g&#39;\\)ï¼Œå› ä¸ºï¼š \\[ hom(a, b) \\times hom(b, d) = hom(a, c) \\times hom(c, d) \\implies hom(a, d) \\] æ‰€ä»¥å®é™…ä¸Šé€è¿‡æ€å°„å¤åˆåï¼Œè¿™ä¸¤æ¡è·¯å¾„åœ¨äº¤æ¢å›¾ä¸Šçš„æ€å°„å°†è¢«è§†ä¸ºç­‰ä»·çš„ï¼Œäº¦å³åªè¢«è§†ä¸ºå­˜åœ¨å”¯ä¸€æ€å°„ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªæ€å°„ï¼Œå› æ­¤è¿™ä¹Ÿæ˜¯å±äº Thin èŒƒç•´ã€‚ ä¸é¢„åºé›†åˆçš„å…³ç³»ï¼ˆRelationship with prosetï¼‰ æˆ‘ä»¬å¸¸å¸¸ä¼šæŠŠé¢„åºé›†åˆåœ¨èŒƒç•´è®ºä¸Šè§†ä½œä¸º Thin èŒƒç•´ï¼Œå½“ç„¶å®ƒå¤©ç”Ÿä¹Ÿå°±æ˜¯ä¸€ä¸ª Thin èŒƒç•´ï¼Œä½†è¿™åˆæ€ä¹ˆå»è§£é‡Šå‘¢ï¼Ÿç°åœ¨å…ˆå‡è®¾æˆ‘ä»¬è¦å»æ¯”è¾ƒä¸€ä¸ªè‡ªç„¶æ•°ï¼Œä¸”ä»–ä»¬ï¼Œä¾‹å¦‚æˆ‘ä»¬è¦æ•´é™¤ \\(6\\) è¿™ä¸ªæ•°ï¼Œå¹¶å°†æ•´é™¤ç»“æœç”±é¢„åºå…³ç³»æ’åˆ—å‡ºæ¥ï¼Œå¯å¾—ï¼š\\(3 \\leq 6\\)ï¼Œ\\(2 \\leq 6\\)ï¼Œ\\(1 \\leq 6\\)ï¼Œå¯è§æ— è®ºæ˜¯å…ˆ \\(1 \\leq 3 \\leq 6\\) æˆ–æ˜¯ \\(1 \\leq 2 \\leq 6\\)ï¼Œæœ€ç»ˆçš„ç»“æœéƒ½ä¼šæ˜¯ \\(1 \\leq 6\\)ã€‚è¿™é‡Œå°±æ˜¯ä¸€ä¸ªæ€å°„å¤åˆåï¼Œå®ƒä»¬çš„ç»“æœå§‹ç»ˆç›¸åŒçš„ä¸€ä¸ªä¾‹å­ï¼Œè€Œæœ€ç»ˆ \\(\\leq\\) åœ¨æ€å°„å¤åˆåå§‹ç»ˆéƒ½åªæœ‰å­˜åœ¨å”¯ä¸€æ€å°„ï¼Œè€Œä¸åƒå‡½æ•°é‚£æ ·å¤§å¤šæ•°æƒ…å†µå‡æœ‰å¾ˆå¤šæ€å°„ä»å®šä¹‰åŸŸè¢«æ˜ å°„åˆ°å€¼åŸŸï¼Œå› æ­¤è¿™ç¬¦åˆäº† Thin èŒƒç•´çš„å®šä¹‰ï¼Œå¹¶ä¸”å¤©ç„¶æ˜¯ä¸€ä¸ª Thin èŒƒç•´äº†ã€‚ ä¸ååºé›†åˆçš„å…³ç³»ï¼ˆRelationship with posetï¼‰ ä¸€èˆ¬æ¥è¯´æ—¢ç„¶æˆ‘ä»¬å¯ä»¥å¯¹é¢„åºé›†åˆå’Œ Thin èŒƒç•´äº§ç”Ÿè”ç³»ï¼Œé‚£ä¹ˆæŒ‰ç†æ¥è¯´ååºé›†åˆä¸ Thin èŒƒç•´ä¹Ÿæ˜¯å¯ä»¥å¯¹åº”å¾—ä¸Šçš„ã€‚è€Œè¿™é‡Œå¾—çŸ¥ååºå®é™…åªæ¯”é¢„åºå…³ç³»å¤šäº†åå¯¹ç§°çš„ç‰¹æ€§ï¼Œä½†è¿™å¹¶æ²¡æœ‰ä½¿å¾—ååºé›†åˆä¸Šä¼šå¤šäºå”¯ä¸€çš„æ€å°„ï¼Œå®ƒè¯¥æ˜¯ä¸€ä¸ªè¿˜æ˜¯åªæœ‰ä¸€ä¸ªï¼Œå› æ­¤ååºé›†åˆè‡ªç„¶åœ°ä¹Ÿæ˜¯ Thin èŒƒç•´äº†ã€‚ è€Œåå¯¹ç§°æ€§æˆ‘ä»¬åˆæ€ä¹ˆåœ¨ Thin èŒƒç•´ä¸Šæè¿°å‡ºæ¥å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“å½“å­˜åœ¨åå¯¹ç§°æ€§ï¼ˆå³ \\(a \\leq b \\leq a \\implies a = b\\)ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå…³ç³»è‚¯å®šæ˜¯å¯äº’é€†ï¼ˆInverseï¼‰çš„ï¼Œè€Œç°åœ¨æˆ‘ä»¬å¯¹åŒæ„å…³ç³»è¿›è¡Œè§‚å¯Ÿå‘ç°ï¼Œå®é™…ä¸ŠåŒæ„å…³ç³»æ°å·§å°±æ˜¯æè¿°äº†è¿™ç§å…³ç³»ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†å…¶å®šä¹‰å½¢å¼åŒ–åœ°å†™æˆè¿™æ ·ï¼ˆäº¦å³åŒæ„å…³ç³»ï¼‰ï¼š \\[ a \\overset{f}{\\underset{g}\\leftrightarrows} b \\implies f=g \\] æ¨å¹¿è‡³åŒæ„ä¸ç­‰ä»·å…³ç³»ï¼ˆUp to Isomorphism and Equivalenceï¼‰ Thin èŒƒç•´ä¸é¢„åºä»¥åŠååºé›†åˆçš„å…³ç³»ä¸Šé¢å·²ç»æœ‰äº†ä¸ªå¤§è‡´çš„æè¿°äº†ï¼Œæ€»æ‹¬è€Œè¨€åªè¦æˆ‘ä»¬å°† Thin èŒƒç•´æ¨å¹¿è‡³ç­‰ä»·å…³ç³»ï¼Œäº¦å³æ€å°„æ˜¯å¹¶è¡Œä¸”ç›¸ç­‰çš„ï¼Œé‚£ä¹ˆå®ƒä»¬å°±æ˜¯é¢„åºäº†ã€‚è€Œååºå…³ç³»ä¸Šé¢ä¹Ÿå·²ç»æåŠåˆ°äº†ï¼Œå¯¹äºä¸€ä¸ªæ€å°„å¯ä»¥é€†è½¬å›å»ï¼Œé‚£ä¹ˆè¿™å°±å˜æˆä¸€ä¸ªååºå…³ç³»äº†ã€‚ ç¾¤ï¼ˆGroupï¼‰ æ¦‚å¿µ ç¾¤è¿™ä¸ªæ¦‚å¿µæœ¬èº«æ˜¯åœ¨ç¾¤è®ºï¼ˆGroup Theoryï¼‰ä¸­å‡ºç°çš„ï¼Œå®ƒä»¥é›†åˆè®ºä¸ºåŸºç¡€ï¼Œå³ç¾¤æœ¬èº«å­˜åœ¨ä¸€ä¸ªé›†åˆï¼Œä¸”ç”±ä¸€ä¸ªäºŒå…ƒå…³ç³»æ‰€ç»„æˆçš„ä»£æ•°ç»“æ„ï¼Œå…¶å¿…é¡»æ»¡è¶³æ‰€è°“çš„ â€œç¾¤å…¬ç†â€ï¼Œå³åŒ…å«äº†å°é—­æ€§ã€ç»“åˆå¾‹ã€å•ä½å…ƒä»¥åŠé€†å…ƒè¿™å››ç§æ€§è´¨ã€‚ å®é™…ä¸Šç¾¤ä¸æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­æœ‰ç€å¾ˆç´§å¯†çš„è”ç³»ï¼Œå°±å¦‚åŒæ—¥å¸¸éƒ½å¯èƒ½ç”¨åˆ°çš„åŠ æ³•èˆ¬ï¼Œæˆ‘ä»¬æŠŠä¸¤ä¸ªæ­£æ•´æ•°ç›¸åŠ ï¼Œé€è¿‡æ­£æ•´æ•°é›†åˆä¸ \\(+\\) æˆ‘ä»¬å¯æ„æˆä¸€ä¸ªåŠ æ³•ç¾¤ï¼Œè®°ä¸º \\(G(\\mathbb Z{+}, +)\\)ï¼Œå…¶æ»¡è¶³äº†ç¾¤å…¬ç†ï¼š - å°é—­æ€§ï¼š\\(\\forall a, b \\in G\\)ï¼Œå…¶è¿ç®—ç»“æœä¹Ÿè½å…¥ \\(G\\) ä¸­ - ç»“åˆå¾‹ï¼š\\(\\forall a, b, c \\in G, (a Â· b) Â· c = a Â· (b Â· c)\\) - å•ä½å…ƒï¼š\\(\\forall a, \\exists e \\in G, e Â· a = a Â· e = a\\) - é€†å…ƒï¼š\\(\\forall a, \\exists b, e \\in G, a Â· b = b Â· a = e\\) ç”±äºç¾¤è®ºå¹¶ä¸æ˜¯æˆ‘ä»¬ä¸»è¦çš„è®¨è®ºå¯¹è±¡ï¼Œå› æ­¤è¿™éƒ¨åˆ†å¹¶ä¸ä¼šä¸¾å‡ºå¾ˆå¤šçš„ä¾‹å­ï¼Œè€Œåœ¨è¿™ä»…ä¼šè®¨è®ºå¹ºåŠç¾¤çš„å‰ç½®çŸ¥è¯†ã€‚ åŠç¾¤ï¼ˆSemi-groupï¼‰ æœ‰æ—¶å€™ç¾¤å…¬ç†åœ¨æŠŠå…³ç³»è¿›ä¸€æ­¥æ¨å¹¿å‡ºå»çš„æ—¶å€™ï¼Œæœªå¿…è¦åŠ å…¥é¢å¤–çš„ä¸€äº›è§„åˆ™ï¼Œåè€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¾æ¾ä¸€äº›æ¡ä»¶æ¥æ„æˆä¸€ä¸ªæ–°çš„ä»£æ•°ç»“æ„ã€‚æ¯”æ–¹è¯´æˆ‘ä»¬å¯ä»¥æŠŠä¸€èˆ¬ç¾¤å…¬ç†çš„å•ä½å…ƒä¸é€†å…ƒç»™æ‹¿æ‰ï¼Œå‰©ä¸‹å°é—­æ€§ï¼Œç»“åˆå¾‹è¿™ä¸¤æ¡å…¬ç†ï¼Œéšä¹‹è¢«ç§°ä¸ºåŠç¾¤ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚ å¹ºåŠç¾¤ï¼ˆMonoidï¼‰ å½“ç„¶åœ°ï¼Œä»æŠ½è±¡ä»£æ•°æ¥è®²åŠç¾¤ä¹Ÿå¯ä»¥å†æ¬¡è¢«æ¨å¹¿æˆå¹ºåŠç¾¤ï¼Œæ‰€è°“çš„ â€œä¹ˆâ€ æŒ‡çš„å…¶å®å°±æ˜¯ â€œå•ä½å…ƒï¼ˆä¹ˆå…ƒï¼ŒIdentity elementï¼‰â€ çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯åªéœ€è¦å¯¹åŠç¾¤ç»™è¡¥ä¸Šå•ä½å…ƒçš„è§„åˆ™å°±å¯ä»¥äº†ã€‚ å¯¹äºèŒƒç•´ \\(C\\) å†…çš„å¯¹è±¡ \\(x\\)ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å­˜åœ¨å•ä½å…ƒæ€å°„ \\(id_f\\)ï¼Œä½†è¿™ç§å•ä½å…ƒæ€å°„éš¾é“å°±åªèƒ½å­˜åœ¨ä¸€ä¸ªäº†å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥æœ‰å¤šä¸ªå•ä½å…ƒæ€å°„ï¼Œä¾‹å¦‚ \\(id_f, id_g, id_h, ... \\in hom(x, x)\\)ï¼Œå°†å®ƒä»¬é€è¿‡æ€å°„å¤åˆå°†ä¼šäº¦å°†å¾—åˆ°ï¼š \\[ x \\circ id_f = x \\\\\\\\ x \\circ id_f \\circ id_g = x \\\\\\\\ x \\circ id_f \\circ id_g \\circ id_h = x \\\\\\\\ x \\circ id_f \\circ id_g \\circ id_h \\circ ... = x \\] å³å…¶å®å•ä½å…ƒæ€å°„å¯å­˜åœ¨æ— ç©·å¤šä¸ªçš„ï¼Œè€Œå¯¹äºè¿™ç§ä¸€ç›´éƒ½å­˜åœ¨å¤šä¸ªå•ä½å…ƒæ€å°„ä¸”æ€å°„è‡³è‡ªèº«çš„ç»“æ„ï¼ˆå°é—­ç»“æ„ï¼‰æˆ‘ä»¬å°±ç§°ä¹‹ä¸ºå¹ºåŠç¾¤ã€‚ è€Œå¹ºåŠç¾¤å®é™…ä¸Šå¯¹äºè®¡ç®—æœºç¼–ç¨‹æ¥è¯´ä¹Ÿæ˜¯è‡³å…³é‡è¦çš„æ¦‚å¿µï¼Œæ¯”æ–¹è¯´æˆ‘ä»¬æ—¥å¸¸èƒ½æ¥è§¦åˆ°çš„ Stringï¼Œå³å­—ç¬¦ä¸²ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå¹ºåŠç¾¤çš„ç»“æ„ï¼Œè¿™æ—¶å¯ä»¥æŠŠç¼–ç¨‹è¯­è¨€çš„ç±»å‹è§†ä¸ºé›†åˆï¼Œä¾‹å¦‚ï¼š - å°é—­æ€§ï¼š\"foo\" &lt;&gt; \"bar\" = \"foobar\" åœ¨è¿ç®—åçš„ç»“æœéƒ½æ˜¯ String ç±»å‹ - ç»“åˆå¾‹ï¼š(\"foo\" &lt;&gt; \"bar\") &lt;&gt; \"foo\" = \"foo\" &lt;&gt; (\"bar\" &lt;&gt; \"foo\") = \"foobarfoo\" - å•ä½å…ƒï¼š\"\" &lt;&gt; \"any\" = \"any\" &lt;&gt; \"\" = \"any\" åœ¨ Haskell ä¸Šçš„ä½“ç°ï¼ˆWorks with Haskellï¼‰ å®šä¹‰ é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åœ¨ Haskell ä¸Š Data.Monoid ä¸‹çš„çš„æºç å®šä¹‰ç©¶ç«Ÿæ˜¯æ€æ ·çš„ï¼š 12345678910111213141516171819202122class Semigroup a =&gt; Monoid a where -- | Identity of &apos;mappend&apos; -- | ä»¥ &apos;mappend&apos; ä½œä¸ºäºŒå…ƒå…³ç³»æ—¶ï¼Œä»¥ &apos;mempty&apos; ä½œä¸ºå•ä½å…ƒ mempty :: a -- | An associative operation -- | ç»“åˆå¾‹å…¬ç† -- -- __NOTE__: This method is redundant and has the default -- implementation @&apos;mappend&apos; = &apos;(&lt;&gt;)&apos;@ since /base-4.11.0.0/. mappend :: a -&gt; a -&gt; a mappend = (&lt;&gt;) &#123;-# INLINE mappend #-&#125; -- | Fold a list using the monoid. -- | ä½¿ç”¨å¹ºåŠç¾¤æŠ˜å ä¸€ä¸ª List -- -- For most types, the default definition for &apos;mconcat&apos; will be -- used, but the function is included in the class definition so -- that an optimized version can be provided for specific types. mconcat :: [a] -&gt; a mconcat = foldr mappend mempty åº”ç”¨ é™¤äº†ä¸Šè¿°æåŠåˆ°å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨å¹ºåŠç¾¤çš„å®šå¾‹å¯¹å…¶è¿›è¡Œä¸€äº›æ“ä½œï¼Œä¾‹å¦‚è¯´ä½¿ç”¨ mappend (æˆ– &lt;&gt;ï¼‰æ‹¼æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œåˆæˆ–è€…è¯´å¯ä»¥ä½¿ç”¨ mconcat æŠŠä¸€ä¸ªå¹ºåŠç¾¤ç»“æ„ç»™æŠ˜å èµ·æ¥ï¼Œä¾‹å¦‚ï¼š 12Prelude&gt; mconcat [[1],[2],[3],[4]][1,2,3,4] Kleisli èŒƒç•´ï¼ˆKleisli Categoryï¼‰ å¾…å¡«å‘...","categories":[],"tags":[{"name":"èŒƒç•´è®º","slug":"èŒƒç•´è®º","permalink":"https://a9032676.github.io/tags/èŒƒç•´è®º/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://a9032676.github.io/tags/å‡½æ•°å¼ç¼–ç¨‹/"}]},{"title":"æ˜Ÿé™…èœ—ç‰›æŠ˜è…¾è®° ç¬¬ä¸‰ç« ï¼šéƒ¨ç½² Docker","slug":"J1900-Tossing-3","date":"2019-08-09T08:33:25.000Z","updated":"2019-08-11T10:51:14.928Z","comments":true,"path":"2019/08/09/J1900-Tossing-3/","link":"","permalink":"https://a9032676.github.io/2019/08/09/J1900-Tossing-3/","excerpt":"","text":"åœ¨æŠ˜è…¾å®Œ RAID ä¹‹åï¼Œä¸ºäº†è®©ä½œä¸º NAS çš„ ArchLinux å‘æŒ¥å¯ç”¨ä½œåº”ç”¨æœåŠ¡å™¨çš„ä½œç”¨ï¼Œæ‰€ä»¥ä»Šå¤©åˆ™è¦å¼€å§‹å¼„ Docker äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ç›´æ¥å¼€å§‹å§ï¼ ç®€ä»‹ å®‰è£… Docker å®‰è£… Docker çš„é€”å¾„æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯é€è¿‡ pacman ç›´æ¥å®‰è£… docker å®˜æ–¹åŒ…ï¼Œè€Œå¦ä¸€ç§åˆ™æ˜¯é€è¿‡ Arch ç”¨æˆ·è½¯ä»¶ä»“åº“ï¼ˆArch User Repositoryï¼ŒAURï¼‰ç¬¬ä¸‰æ–¹ç”¨æˆ·ä»“åº“ä¸­ç”Ÿæˆå¹¶å®‰è£…å¼€å‘ç‰ˆæœ¬ docker-gitï¼Œä¸‹é¢ä½¿ç”¨ pacman æ¼”ç¤ºå®‰è£…æµç¨‹ï¼š 1234# pacman -S docker# systemctl start docker# systemctl enable docker# docker info ä½¿ç”¨ pacman -S docker ä¸‹è½½å¹¶å®‰è£… docker ä½¿ç”¨ systemctl start docker ä¸ systemctl enable docker ä½¿ docker æœåŠ¡å¯åŠ¨ä¸å¼€æœºè‡ªå¯ã€‚ ä½¿ç”¨ docker info æŸ¥è¯¢ docker å½“å‰è¿è¡ŒçŠ¶æ€ï¼Œç¡®ä¿ docker é¡ºåˆ©å®‰è£…å¹¶å¯åŠ¨ã€‚ é…ç½® Docker ä¸ºç”¨æˆ·æ·»åŠ ä½¿ç”¨ docker å‘½ä»¤æƒé™ ä¸ºäº†è®©é root ç”¨æˆ·èƒ½æ­£å¸¸ä½¿ç”¨ docker å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æŠŠç›®æ ‡ç”¨æˆ·æ·»åŠ åˆ° docker ç»„å†…ï¼ˆå¦‚æœç»„åˆ«ä¸å­˜åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ groupadd docker åˆ›å»ºï¼‰ï¼š 1# usermod -a -G docker a9032676 å¹¶ä¸”ç™»å‡ºè´¦å·é‡æ–°ç™»é™†ï¼Œè¾“å…¥ docker ç¡®è®¤æ˜¯å¦å·²æ‹¥æœ‰æƒé™ä½¿ç”¨ã€‚ é…ç½® daemon.json æ–‡ä»¶ daemon.json æ–‡ä»¶æ˜¯ docker å®ˆæŠ¤è¿›ç¨‹çš„è¿è¡Œé…ç½® åˆ›å»ºæ–‡ä»¶ é¦–å…ˆä½¿ç”¨ nano / vim ä¹‹ç±»æ–‡æœ¬ç¼–è¾‘å™¨åˆ›å»ºæ–‡ä»¶ /etc/docker/daemon.jsonã€‚ é•œåƒåŠ é€ŸæœåŠ¡ é¦–å…ˆé‰´äºåœ°åŒºç½‘ç»œè´¨é‡å·®å¼‚é—®é¢˜ï¼Œåœ¨è¿œç¨‹ä½¿ç”¨ docker pull æ‹‰å–é•œåƒçš„æ—¶å€™å¯èƒ½ä¼šè¾ƒæ…¢ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§åœ°é…ç½® docker çš„é•œåƒæœåŠ¡å™¨åŠ é€Ÿä¸‹è½½ï¼š 12345678&#123; &quot;registry-mirrors&quot;: [ &quot;https://registry.docker-cn.com&quot;, &quot;https://dockerhub.azk8s.cn&quot;, &quot;https://docker.mirrors.ustc.edu.cn&quot;, &quot;https://hub-mirror.c.163.com&quot; ]&#125; é‡å¯ docker ä½¿é…ç½®ç”Ÿæ•ˆï¼š 1# systemctl restart docker è¿ç§»æœ¬åœ°é•œåƒç›®å½• åœ¨å®‰è£…å®Œæˆä¹‹åé»˜è®¤çš„é•œåƒå­˜æ”¾ä½ç½®æ˜¯ä½äº /var/lib/docker ç›®å½•ä¸‹æ–¹çš„ï¼Œè€Œæˆ‘ä»¬éœ€è¦é€è¿‡æ·»åŠ  systemd çš„é…ç½®ä»¥æ›´æ”¹ docker çš„é•œåƒå‚¨å­˜ä½ç½®ï¼š é¦–å…ˆä½¿ç”¨ mkdir æ–°å¢ docker.service.d ç›®å½•ï¼š 1# mkdir /etc/systemd/system/docker.service.d/ ç„¶ååœ¨ç›®å½•ä¸‹æ–°å»º docker-storage.conf æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä¸‹åˆ—å†…å®¹ï¼š 123[Service]ExecStart= ExecStart=/usr/bin/dockerd --data-root=/path/to/new/location/docker -H fd:// æŠŠ --data-root é€‰é¡¹æ›´æ”¹æˆä½ ç›®æ ‡çš„ç›®å½•å¹¶ä¿å­˜å³å¯ï¼Œå†å°† /var/lib/docker å†…çš„å†…å®¹å¤åˆ¶åˆ°ä½ çš„ç›®å½•ä¸Šã€‚ å®Œæˆä¹‹åæˆ‘ä»¬éœ€è¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡å¯ä¸‹ docker.service æœåŠ¡ï¼š 12systemctl daemon-reloadsystemctl restart docker æœ€åå¯ä½¿ç”¨ systemctl status docker æŸ¥è¯¢æœåŠ¡æ˜¯å¦æˆåŠŸå¯åŠ¨ã€‚ ç›¸å…³åº”ç”¨æ¨è Portainer ç®€ä»‹ ç”±äº docker æ—¥å¸¸éƒ½éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œç®¡ç†å„ç§å®¹å™¨ / é•œåƒä¸ç½‘ç»œè®¾ç½®ç­‰ç­‰è¿™äº›ä¸œè¥¿ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªæ–¹æ³•èƒ½å¤Ÿå¯è§†åŒ–åœ°ç¼–è¾‘åŠéƒ¨ç½²å®¹å™¨å‘¢ï¼Ÿé‚£å½“ç„¶æ˜¯æœ‰çš„ï¼Œç­”æ¡ˆå°±æ˜¯ Portainer å•¦ï¼ ä»“åº“åœ°å€ portainer/portainer éƒ¨ç½²å®¹å™¨ è¿™é‡Œä»…æ¼”ç¤º Linux å¹³å°çš„å®‰è£…ä¸æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå·ï¼Œå¹¶å‘½åä¸º portainer å³å¯ã€‚å¦å¤–å®¹å™¨æœ¬èº«éœ€è¦ä¸¤ä¸ªç«¯å£è¿ä½œï¼Œå› æ­¤éœ€è¦æŠŠä»»æ„ä¸¤ä¸ªå¤–éƒ¨ç«¯å£æ˜ å°„æˆ 8000 ä¸ 9000 å³å¯ï¼š 12# docker volume create portainer_data# docker run -d -p 8000:8000 -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer åœ¨æ­£å¼è·‘èµ·æ¥ä¹‹åè¿›å…¥ç½‘é¡µåå° http://[your_address]:9000 åˆ›å»ºæ–°è´¦å·å¹¶ç™»é™†å³å¯ã€‚ Samba ç®€ä»‹ Samba æä¾›äº†å®‰å…¨ï¼Œå¯é ä¸”å¿«é€Ÿçš„æ–‡ä»¶å…±äº«ç³»ç»Ÿï¼Œä¸”é€è¿‡ SMB / CIFS åè®®ä¼ è¾“æ•°æ®ï¼Œå¹¶ä¸”å®Œå…¨å…¼å®¹ DOS ä¸ Windowsï¼ŒOS/2ï¼ŒLinux ä¸å…¶ä»–æ›´å¤šçš„ç³»ç»Ÿã€‚ ä»“åº“åœ°å€ dperson/samba éƒ¨ç½²å®¹å™¨ 123# docker run -it --name samba -p 139:139 -p 445:445 \\ -v /path/to/directory:/mount \\ -d dperson/samba AriaNg ç®€ä»‹ å¾ˆå¥½ç”¨å¾ˆæ–¹ä¾¿çš„ä¸€ä¸ª Aria2 ä¸‹è½½å·¥å…·ï¼Œè‡ªå¸¦ç½‘é¡µå¯è§†åŒ–ç®¡ç†ä¸”å®Œå…¨å…¼å®¹ Linux / ç¾¤æ™– / FreeNAS ç­‰ç³»ç»Ÿã€‚ ä»“åº“åœ°å€ auska/docker-aria2 åˆ›å»ºå®¹å™¨ ç”±äºéœ€è¦å¡«å†™çš„å˜é‡ä»¥åŠé€‰é¡¹è¾ƒå¤šï¼Œæ¨èç›´æ¥äº Portainer å†…ç›´æ¥ä¸‹è½½å¹¶æ–°å»ºå®¹å™¨ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿåªè®²è¿°ä¸‹å‘½ä»¤è¡Œå¯åŠ¨çš„æ–¹æ³•ï¼š 123456# docker create --name=aria2_web \\ -v /home/a9032676/downloads:/mnt \\ -v /home/a9032676/.aria2_conf:/config \\ -e PGID=1000 -e PUID=1000 -e SECRET=PASSWORD \\ -p 6800:6800 -p 80:80 \\ auska/docker-aria2 å‚æ•°è¯´æ˜ï¼š - --name=&lt;CONTAINER_NAME&gt; è®¾ç½®å®¹å™¨åå­—ã€‚ - -v &lt;DOWN_PATH&gt;:/mnt æŠŠå®¹å™¨å†…çš„ /mntï¼ˆé»˜è®¤ä¸‹è½½å­˜æ”¾ä½ç½®ï¼‰ ç›®å½•æ˜ å°„åˆ°å·ä¸Šï¼Œæˆ–å¯é€‰æ‹©åœ¨å®¿ä¸»æœºï¼ˆHostï¼‰ä¸ŠæŒ‡å®šçš„ç›®å½•æŒ‚è½½ã€‚ - -v &lt;CONF_PATH&gt;:/config åŒä¸Šï¼Œåªä¸è¿‡è¿™ä¸ªæ˜¯é…ç½®æ–‡ä»¶ç›®å½•ã€‚ - -e PGID=1000 -e PUID=1000 -e SECRET=&lt;PASSWORD&gt; è¿™é‡ŒæŒ‡å®šä¸‰ä¸ªç¯å¢ƒå˜é‡ï¼ˆEnvironmentï¼‰å‚æ•°ï¼Œç¬¬ä¸€äºŒä¸ªå‚æ•°è¯·ä½¿ç”¨ id USER å‘½ä»¤è·å–ï¼Œè€Œç¬¬ä¸‰ä¸ªä¸ºä½ çš„ RPC æœåŠ¡å™¨å¯†é’¥ï¼Œè¯·è‡ªè¡Œæ›´æ”¹ã€‚ - -p &lt;HOST_PORT&gt;:6800 -p &lt;HOST_PORT&gt;:80 ç”±äºè¯¥å®¹å™¨éœ€è¦ä¸¤ä¸ªç«¯å£ï¼Œ6800 ä¸º RPC æœåŠ¡ç›‘å¬ç«¯å£ï¼Œè€Œ 80 åˆ™ä¸º Aria2 ç½‘é¡µä¸‹è½½ç®¡ç†ç«¯å£ï¼Œè¯·æŒ‰ç…§è‡ªå·±å®¿ä¸»æœºçš„ç«¯å£è¿›è¡Œæ˜ å°„ã€‚ Transmission ç›¸ä¿¡ä½¿ç”¨è¿‡ Transmission ä¸‹è½½ BT æ–‡ä»¶çš„å¯¹å®ƒéƒ½ä¸é™Œç”Ÿï¼Œå®ƒçš„é…ç½®ç®€æ´ï¼Œè€Œä¸”ä¸‹è½½é«˜æ•ˆï¼Œä¸”å¼€æºçš„æ€§è´¨ï¼Œç›¸ä¿¡ä¹Ÿå¸å¼•äº†å¾ˆå¤šäººä½¿ç”¨ã€‚è€Œåœ¨ docker ä¸Šä¹Ÿæœ‰ç›¸å…³çš„ç¬¬ä¸‰æ–¹å®ç°ã€‚ ä»“åº“åœ°å€ linuxserver/transmission åˆ›å»ºå®¹å™¨ 1234567891011121314# docker create \\ --name=transmission \\ -e PUID=1000 \\ -e PGID=1000 \\ -e TZ=Asia/HongKong \\ -e TRANSMISSION_WEB_HOME=/combustion-release/ `#optional` \\ -p 9091:9091 \\ -p 51413:51413 \\ -p 51413:51413/udp \\ -v path to data:/config \\ -v path to downloads:/downloads \\ -v path to watch folder:/watch \\ --restart unless-stopped \\ linuxserver/transmission å‚æ•°è¯´æ˜ï¼š - -e PGID=1000 -e PUID=1000 è¯·ä½¿ç”¨ id USER å‘½ä»¤è·å– PGID ä¸ PUIDã€‚ - -e TZ=Asia/HongKong æ—¶åŒºè®¾ç½®ã€‚ - -e TRANSMISSION_WEB_HOME=/combustion-release/ æŒ‡å®š WebUI çš„ç›®å½•ä½ç½®ï¼ˆå¯é€‰ï¼‰ã€‚ - -p 9091:9091 ä¸ºä½ çš„ Transmission ä¸‹è½½ç½‘é¡µç«¯å£ - -p 51413:51413 -p 51413:51413/udp ä¸º Torrent çš„ TCP ä¸ UDP ç«¯å£ - -v path to data:/config ä¸ºé…ç½®ç›®å½• - -v path to downloads:/downloads ä¸ºä¸‹è½½ç›®å½• - -v path to watch folder:/watch Torrent æ–‡ä»¶çš„ watch ç›®å½•","categories":[],"tags":[{"name":"NAS","slug":"nas","permalink":"https://a9032676.github.io/tags/nas/"},{"name":"ArchLinux","slug":"archlinux","permalink":"https://a9032676.github.io/tags/archlinux/"},{"name":"Docker","slug":"docker","permalink":"https://a9032676.github.io/tags/docker/"}]},{"title":"æ˜Ÿé™…èœ—ç‰›æŠ˜è…¾è®° ç¬¬äºŒç« ï¼šç»„è£… RAID","slug":"J1900-Tossing-2","date":"2019-08-09T01:39:53.000Z","updated":"2021-03-01T00:08:28.865Z","comments":true,"path":"2019/08/09/J1900-Tossing-2/","link":"","permalink":"https://a9032676.github.io/2019/08/09/J1900-Tossing-2/","excerpt":"","text":"ç»å†æ˜¨å¤©ä¸€å¤©çš„å¥‹æˆ˜ï¼Œåœ¨ä¸€è¾¹è£…çš„åŒæ—¶ä¹ŸæŠŠä¸Šä¸€ç« æ–‡ç« å†™å¥½äº†ã€‚ä»Šå¤©çš„è¯ç»§ç»­ä¸ºå¤§å®¶å¸¦æ¥å¦‚ä½•åœ¨çº¯å‘½ä»¤è¡Œç¯å¢ƒä¸‹ç»§ç»­æŠ˜è…¾æˆ‘ä»¬çš„æ˜Ÿé™…èœ—ç‰›å¹¶ä¸ºç¡¬ç›˜ä»¬ç»„è£…ä¸Šå†—ä½™ç£ç›˜é˜µåˆ—ï¼ˆRedundant Array of Independent Disksï¼Œåˆç§° RAIDï¼‰ã€‚ ç®€ä»‹ è¿˜æ˜¯ç»ç”±æœ‹å‹çš„æ¨ä»‹ï¼Œæˆ‘ä»æŸå®åº—å®¶ä¸­ä»¥ 400 å—å•ä¸ªçš„ä»·æ ¼ææ¥äº†ä¸¤å— HGSTï¼ˆåŸæ—¥ç«‹ï¼Œæ®è¯´æ¯”è¾ƒé è°±ï¼Œå°±æ•°å­—æ¥è®²çš„è¯ç¿»è½¦ç‡ç›¸è¾ƒå…¶ä»–å“ç‰Œä¾æ—§æœ€ä½ï¼‰ çš„ 4T ç›‘æ§ç›˜ï¼ˆé SMR å ç“¦å¼ï¼Œè¿™çµè½¦æˆ‘è¿˜çœŸä¸æ•¢ä¸Šï¼‰ï¼Œè€Œå¹´äº§æ—¥æœŸæœ‰ç‚¹ä¹…è¿œï¼Œæ˜¯ 2014 å¹´çš„ï¼Œç–‘ä¼¼ç¿»æ–°ç›˜ï¼Œå› æ­¤ä¹°å›æ¥ä¹‹åä¹Ÿè·‘å®Œäº†å¯¹ç¡¬ç›˜çš„å„é¡¹æ£€æµ‹ï¼Œç¡®ä¿è´¨é‡æ²¡é—®é¢˜å¹¶å¯¹è¿™ä¸¤å—ç¡¬ç›˜ç»„ä¸Š è½¯ä»¶RAID1ï¼ˆè¾ƒä¸ºæ³¨é‡æ•°æ®å®‰å…¨æ€§ï¼Œä½†å‚¨å­˜å®¹é‡åªæœ‰ä¸€åŠï¼‰ï¼Œç¡¬ä»¶ RAID éœ€è¦å¦è¡Œè´­ç½® RAID å¡ã€‚ ç¡¬ç›˜ä¿¡æ¯ å‹å·: HGST HMS5C4040BLE640 å®¹é‡: 4TBï¼ˆæ ¼å¼åŒ–åå¤§çº¦ 3.6TB å·¦å³ï¼‰ ç±»å‹ï¼šç›‘æ§ç›˜ï¼ˆè¿ç»­å†™å…¥è¾ƒå¥½ï¼Œéšå³è¯»å–æ€§èƒ½è¾ƒå·®ï¼‰ è¯¦ç»†æ•°æ®è¯·ç‚¹è¿™é‡ŒæŸ¥è¯¢ã€‚ å‡†å¤‡å·¥ä½œ å¤‡ä»½ å¦‚æœç¡¬ç›˜ä¹‹å‰å­˜æ”¾æœ‰é‡è¦æ•°æ®ï¼Œåˆ‡è®°åˆ‡è®°è¦å…ˆå¤‡ä»½ï¼Œè¿™ä¸ªå¾ˆå…³é”®ã€‚ æ£€æµ‹ç¡¬ç›˜ åœ¨ç»„è£…å‰è¯·æ£€æµ‹ç¡¬ç›˜æ˜¯å¦å­˜åœ¨æŸåï¼Œåé“ï¼Œä»¥åŠå¯¹å…¶è¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Œç¡®è®¤æ²¡æœ‰é—®é¢˜ä¹‹åå†å¼€å§‹ç»„è£…ã€‚ ç»„è£… RAID æ“¦é™¤ç¡¬ç›˜æ•°æ® è‹¥æœåœ¨ç»„è£…æ— è®ºæ˜¯æ–°æ—§ç£ç›˜éƒ½å¿…é¡»å…ˆæ ¼å¼åŒ–ï¼Œå†è¿›è¡Œç»„è£…ã€‚è€Œå¦‚æœæœ¬èº«ç¡¬ç›˜å·²åœ¨ä¹‹å‰ç»„è£…äº† RAID çš„è¯ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤å°†ç¡¬ç›˜å†…æ•°æ®ï¼ˆåŒ…æ‹¬ RAID é…ç½®æ•°æ®ï¼‰æ“¦é™¤æ‰ï¼š 1# mdadm --misc --zero-superblock /dev/&lt;drive&gt; æˆ–è€…æŒ‡å®šç¡¬ç›˜ä¸Šçš„å…¶ä¸­ä¸€ä¸ªåˆ†åŒºï¼š 1# mdadm --misc --zero-superblock /dev/&lt;partition&gt; ä¸ºç¡¬ç›˜å»ºç«‹åˆ†åŒº å»ºç«‹åˆ†åŒºå‰ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨äº† parted -lï¼ˆæˆ– fdisk -lï¼Œé€‰æ‹© parted æ— ç–‘æ˜¯å› ä¸ºè¾ƒç›´è§‚ä¸€ç‚¹ï¼‰å‘½ä»¤æŸ¥è¯¢å½“å‰ç¡¬ç›˜æƒ…å†µï¼š 12345678910111213141516171819202122232425262728[root@archlinux /]# parted -lModel: ATA C3M-16G (scsi)Disk /dev/sda: 16.0GBSector size (logical/physical): 512B/512BPartition Table: gptDisk Flags: Number Start End Size File system Name Flags 1 1049kB 538MB 537MB fat32 boot, esp 2 538MB 16.0GB 15.5GB ext4Model: ATA HGST HMS5C4040BL (scsi)Disk /dev/sdb: 4001GBSector size (logical/physical): 512B/4096BPartition Table: loopDisk Flags: Number Start End Size File system Name FlagsModel: ATA HGST HMS5C4040BL (scsi)Disk /dev/sdc: 4001GBSector size (logical/physical): 512B/4096BPartition Table: loopDisk Flags: Number Start End Size File system Flags ä»ä¸Šé¢çœ‹å‡ºï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸¤å— HGST 4TB çš„ HDD åœ¨è¿™ï¼Œåˆ†åˆ«æ˜¯ /dev/sdb ä»¥åŠ /dev/sdcï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨ fdisk /dev/sdb ä»¥åŠ fdisk /dev/sdc å¯¹å®ƒä»¬å»ºç«‹ RAID åˆ†åŒºï¼š åœ¨å»ºç«‹åˆ†åŒºä¹‹å‰é¦–å…ˆè¦æ›´æ”¹ç¡¬ç›˜çš„ disklabel ä¸º GPT æ ¼å¼ï¼Œå› æ­¤å…ˆè¾“å…¥ gï¼š 123456789101112131415[root@archlinux /]# fdisk /dev/sdbWelcome to fdisk (util-linux 2.34).Changes will remain in memory only, until you decide to write them.Be careful before using the write command.The old ext4 signature will be removed by a write command.Device does not contain a recognized partition table.The size of this disk is 3.7 TiB (4000787030016 bytes). DOS partition table format cannot be used on drives for volumes larger than 2199023255040 bytes for 512-byte sectors. Use GUID partition table format (GPT).Created a new DOS disklabel with disk identifier 0xfe1551f9.Command (m for help): gCreated a new GPT disklabel (GUID: 3171CF65-B466-9347-A082-3AACDD9B9721). åœ¨æ›´æ”¹å®Œæˆä¹‹åï¼Œç°åœ¨ä½¿ç”¨ n åˆ›å»ºæ–°çš„åˆ†åŒºï¼Œç„¶åè¾“å…¥ t æ›´æ”¹åˆšåˆšåˆ›å»ºçš„æ–°åˆ†åŒºç±»å‹ä¸º Linux RAIDï¼ˆåºå·ä¸º 29ï¼ŒGUIDä¸º A19D880F-05FC-4D3B-A006-743F0F84911Eï¼‰ï¼Œæœ€åè¾“å…¥ i æŸ¥è¯¢åˆ›å»ºç»“æœï¼Œåœ¨ç¡®è®¤æ— è¯¯åè¾“å…¥ w ä¿å­˜å¹¶ä¸”é€€å‡ºï¼š 1234567891011121314151617181920212223242526272829Command (m for help): nPartition number (1-128, default 1): First sector (2048-7814037134, default 2048): Last sector, +/-sectors or +/-size&#123;K,M,G,T,P&#125; (2048-7814037134, default 7814037134): Created a new partition 1 of type &apos;Linux filesystem&apos; and of size 3.7 TiB.Command (m for help): tSelected partition 1Partition type (type L to list all types): 29Changed type of partition &apos;Linux filesystem&apos; to &apos;Linux RAID&apos;.Command (m for help): iSelected partition 1 Device: /dev/sdb1 Start: 2048 End: 7814037134 Sectors: 7814035087 Size: 3.7T Type: Linux RAID Type-UUID: A19D880F-05FC-4D3B-A006-743F0F84911E UUID: 6885A106-3022-FA4F-966F-EDBA96B4A9D9Command (m for help): wThe partition table has been altered.Calling ioctl() to re-read partition table.Syncing disks.[root@archlinux /]# ç„¶åé‡å¤ä¸Šè¿°æ­¥éª¤ä¸º /dev/sdc ä¹Ÿåˆ›å»ºä¸€éåˆ†åŒºè¡¨ï¼Œä¿å­˜é€€å‡ºå¹¶è¾“å…¥ parted -l æŸ¥è¯¢æœ€ç»ˆåˆ†åŒºè¡¨ç»“æœï¼ˆå·²çœç•¥å…¶ä»–ç¡¬ç›˜ï¼‰ï¼š 123456789101112131415161718Model: ATA HGST HMS5C4040BL (scsi)Disk /dev/sdb: 4001GBSector size (logical/physical): 512B/4096BPartition Table: gptDisk Flags: Number Start End Size File system Name Flags 1 1049kB 4001GB 4001GB raidModel: ATA HGST HMS5C4040BL (scsi)Disk /dev/sdc: 4001GBSector size (logical/physical): 512B/4096BPartition Table: gptDisk Flags: Number Start End Size File system Name Flags 1 1049kB 4001GB 4001GB raid å»ºç«‹ç¡¬ç›˜é˜µåˆ— è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°ä¸€ç³»åˆ—çš„ mdadm å‘½ä»¤ï¼ˆè¯·ä½¿ç”¨ pacman -S mdadm è¿›è¡Œå®‰è£…ï¼‰åˆ›å»ºç¡¬ç›˜é˜µåˆ—ï¼š 1# mdadm --create --verbose --level=1 --metadata=1.2 --raid-devices=2 /dev/md/RAID1 /dev/sdb1 /dev/sdc1 ç”¨æ³•ï¼šmdadm [é€‰é¡¹] è®¾å¤‡ åˆ†åŒº... é€‰é¡¹ï¼š - --level æ˜¯ä½ è¦ç»„åˆçš„ RAID ç±»å‹ï¼Œè¿™é‡Œæˆ‘ä»¬æ˜¯ RAID1 æ‰€ä»¥å°±ç›´æ¥å¡«å†™ 1 å³å¯ã€‚ - --metadata é»˜è®¤ä¸º 1.2ï¼Œä½†è‹¥ä½ çš„å¯åŠ¨å¼•å¯¼å™¨ï¼ˆBootloaderï¼‰ä½¿ç”¨çš„æ˜¯ Syslinux ä¸”ç‰ˆæœ¬ä¸º v4.07 çš„è¯è¯·å°†è¿™ä¸ªå˜é‡æ”¹ä¸º 1.0ã€‚ - --raid-devices æŒ‡çš„æ˜¯ä½ è¦ç»„æˆé˜µåˆ—çš„ç¡¬ç›˜æ•°é‡ï¼Œæˆ‘ä»¬è¿™é‡Œåªæœ‰ä¸¤ä¸ªé‚£å°±å¡«å†™ 2ã€‚- /dev/md/YOUR_RAID_NAME ä¸ºå‘½ä»¤ mdadm çš„ç¬¬ä¸€ä¸ªå¿…å¡«å‚æ•°ï¼Œç³»ç»Ÿä¼šæ ¹æ®è¿™ä¸ªè·¯å¾„å»åˆ›å»ºè½¯é“¾æ¥å¹¶æŒ‡å‘ä½ åˆ›å»ºçš„ RAID é˜µåˆ—ä¸Šï¼ˆè¿™é‡Œæˆ‘ä½¿ç”¨ ls -l /dev/md æŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ˜¯ï¼šRAID1 -&gt; ../md127ï¼‰ã€‚ - /dev/sdX1 /dev/sdX1 ... åç»­çš„å‚æ•°åˆ™æ˜¯ä½  RAID çš„å…·ä½“åˆ†åŒºä½ç½®ã€‚ æŸ¥è¯¢ RAID çŠ¶æ€ åœ¨åˆ›å»ºå®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ cat /proc/mdstat æŸ¥è¯¢ RAID å½“å‰çš„çŠ¶æ€ï¼š 123456[root@archlinux /]# cat /proc/mdstatPersonalities : [raid1] md127 : active raid1 sdc1[1] sdb1[0] 3906885440 blocks super 1.2 [2/2] [UU] [&gt;....................] resync = 0.1% (5158656/3906885440) finish=513.5min speed=126616K/sec bitmap: 30/30 pages [120KB], 65536KB chunk å¯ä»¥å‘ç°æˆ‘ä»¬åˆšç»„çš„ RAID å·²ç»åœ¨å¼€å§‹åœ¨åå°åŒæ­¥æ•°æ®äº†ï¼Œè¿™æ—¶æˆ‘ä»¬è€å¿ƒç­‰å¾…åŒæ­¥å®Œæ¯•å³å¯ã€‚ æ ¼å¼åŒ– RAID é˜µåˆ— åœ¨ç­‰å¾…åŒæ­¥æ•°æ®çš„åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå¯¹ RAID1 è¿›è¡Œæ ¼å¼åŒ–ï¼ˆä½†è¦æ³¨æ„çš„æ˜¯ RAID1 æ˜¯å®Œå…¨ç”±ä¸€ä¸ªç¡¬ç›˜çš„æ‰€æœ‰å†…å®¹é•œåƒåœ°å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªç¡¬ç›˜ä¸­ï¼Œå› æ­¤ RAID1 å¹¶æ²¡æœ‰é‡‡ç”¨åˆ°ç¡¬ç›˜æ¡å¸¦åŒ–ï¼ˆStripeï¼‰æŠ€æœ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ ¼å¼åŒ–çš„æ—¶å€™å¹¶ä¸éœ€è¦æ‰‹åŠ¨è®¡ç®— stripe size stripe width è¿™äº›ä¸œè¥¿ï¼Œè€Œç±»ä¼¼ RAID5 / RAID6 è¿™äº›åˆ™éœ€è¦ç‰¹åˆ«å°å¿ƒï¼‰ï¼š 123456789101112131415[root@archlinux md]# mkfs.ext4 /dev/md127mke2fs 1.45.3 (14-Jul-2019)Creating filesystem with 976721360 4k blocks and 244187136 inodesFilesystem UUID: cce6ae47-1d89-4293-a259-318c3b765a0bSuperblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968, 102400000, 214990848, 512000000, 550731776, 644972544Allocating group tables: done Writing inode tables: done Creating journal (262144 blocks): doneWriting superblocks and filesystem accounting information: done æŒ‚è½½ RAID é˜µåˆ— åœ¨ä¸Šè¿°æ­¥éª¤éƒ½å®Œæˆäº†ä¹‹åï¼Œé‚£ç°åœ¨å½“ç„¶å°±æ˜¯æŒ‚è½½ RAID é˜µåˆ—å•¦ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨ mkdir /raid1 åˆ›å»ºäº†ä¸€ä¸ª raid1 æ–‡ä»¶å¤¹ï¼Œå¹¶æŠŠ /dev/md127 æŒ‚è½½åˆ°å…¶ä¸Šï¼š 12[root@archlinux md]# mkdir /raid1[root@archlinux md]# mount /dev/md127 /raid1 ä½¿ç”¨ df -h | grep '/dev/md127' éªŒè¯æˆ‘ä»¬æ˜¯å¦æŒ‚è½½æˆåŠŸï¼š 12[root@archlinux raid1]# df -h | grep &apos;dev/md127&apos;/dev/md127 3.6T 89M 3.4T 1% /raid1 è®¾ç½®å¼€æœºæŒ‚è½½ åœ¨ä½¿ç”¨ mount æŒ‚è½½å®Œåå¹¶ä¸æ„å‘³ç€ RAID é˜µåˆ—å¼€æœºå°±ä¼šå¯åŠ¨ RAID ä»¥åŠè‡ªåŠ¨æŒ‚è½½ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mdadm çš„æŒ‡ä»¤æŠŠç°è¡Œæ‰«æå‡ºæ¥çš„ RAID é˜µåˆ—è‡ªåŠ¨åŠ åˆ° /etc/mdadm.conf ä¸Šï¼Œå¥½è®©ç³»ç»Ÿåœ¨å¼€æœºæ—¶è‡ªå¯ RAID è®¾å¤‡ï¼š 1mdadm -D --scan &gt;&gt; /etc/mdadm.conf æˆ–æ‰‹åŠ¨ç¼–è¾‘ /etc/mdadm.conf å¹¶è®¾å®šï¼š 12345DEVICE partitions.........ARRAY /dev/md/RAID1 metadata=1.2 name=archlinux:RAID1 UUID=72326a38:db8867f1:6d3c072e:2c1a5d06 æŠŠä½ çš„ RAID é˜µåˆ—é…ç½®åŠ åˆ°æœ«å°¾å³å¯ï¼ˆUUID å¯ä½¿ç”¨ mdadm --detail /dev/mdX æŸ¥è¯¢ï¼‰ã€‚ ç„¶åç¼–è¾‘ /etc/fstab å¹¶æŠŠé…ç½®æ·»åŠ åˆ°æœ«å°¾ï¼Œå¥½è®©ç³»ç»Ÿå¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼š 12345.........# /dev/md127/dev/md127 /raid1 ext4 defaults 0 0 é‡å¯å¹¶éªŒè¯ æœ€åä¸€æ­¥å°±æ˜¯è¾“å…¥ reboot é‡å¯å¹¶ä½¿ç”¨ df -h | grep raid1 é‡æ–°éªŒè¯è‡ªåŠ¨æŒ‚è½½æ˜¯å¦æˆåŠŸã€‚ æ€»ç»“ è¿™ç¯‡æŠ˜è…¾çš„ä¸œè¥¿ä¸ä¸Šä¸€ç¯‡å…¶å®ä¹Ÿå·®ä¸å¤šï¼Œç›®å‰çš„è¯å°±å·®ä¸€äº›ä½œä¸ºåº”æœ‰çš„åŸºç¡€é…å¥—ä¸åº”ç”¨é›†ç¾¤ç®¡ç†ä½“ç³»äº†ï¼Œä¸ç„¶å•çº¯ä½œä¸ºå­˜å‚¨ç”¨ä¹Ÿå°±å¤ªæµªè´¹äº†ï¼Œæ‰€ä»¥ä¸‹ä¸€ç¯‡ä¼šé›†ä¸­è®²è¿°å…³äºåœ¨ ArchLinux éƒ¨ç½² Docker çš„å®‰è£…æµç¨‹ä¸ä¸€äº›äº‹å®œã€‚","categories":[],"tags":[{"name":"NAS","slug":"nas","permalink":"https://a9032676.github.io/tags/nas/"},{"name":"ArchLinux","slug":"archlinux","permalink":"https://a9032676.github.io/tags/archlinux/"},{"name":"ç¡¬ç›˜åˆ†åŒº","slug":"ç¡¬ç›˜åˆ†åŒº","permalink":"https://a9032676.github.io/tags/ç¡¬ç›˜åˆ†åŒº/"},{"name":"RAID","slug":"raid","permalink":"https://a9032676.github.io/tags/raid/"}]},{"title":"æ˜Ÿé™…èœ—ç‰›æŠ˜è…¾è®° ç¬¬ä¸€ç« ï¼šå®‰è£… ArchLinux","slug":"J1900-Tossing-1","date":"2019-08-07T08:43:25.000Z","updated":"2019-08-09T16:32:16.842Z","comments":true,"path":"2019/08/07/J1900-Tossing-1/","link":"","permalink":"https://a9032676.github.io/2019/08/07/J1900-Tossing-1/","excerpt":"","text":"æœ€è¿‘æœ¬æ¥æœ‰æ‰“ç®—ç›´æ¥å…¥æ‰‹ä¸€å° Synology ä¸»æœºçš„ï¼Œä½†ç»è¿‡ä¸€ä¸ªæœ‹å‹çš„æ¨ä»‹ï¼Œæœ€ç»ˆæˆ‘é€‰æ‹©äº†æ˜Ÿé™…èœ—ç‰›æ­è½½ ArchLinux ä½œä¸º NAS ä½¿ç”¨ã€‚ ç®€ä»‹ ç”±äºæ”¶åˆ°æ—¶åº—å®¶å·²ç»ä¸ºæˆ‘é¢„è£…å¥½ Synology (é»‘ç¾¤è¾‰ï¼‰äº†ï¼Œæœ¬æ¥ä¸å¤ªæ‰“ç®—æ€ä¹ˆæŠ˜è…¾ç›´æ¥ä½¿ç”¨çš„ï¼Œä½†æƒ³äº†æƒ³ä¸ºäº†æ—¥åæ›´å¥½çš„å¯è‡ªå®šä¹‰åŒ–æœ€ç»ˆè¿˜æ˜¯ä½¿ç”¨äº†æ•°å¤©ä¹‹åå±•å¼€äº†é‡è£…çš„æ—…ç¨‹ï¼ˆArchLinux çœŸé¦™ã€‚ é…ç½® CPU: Intel(R) Celeron(R) CPU J1900 @ 1.99GHZ å†…å­˜: 8G DDR3 SSD: 16G ç›˜ä½æ•°: 4ä¸ª ç½‘å£: 2ä¸ª (åŒåƒå…†) é…ç½®çœ‹ä¸Šå»å…¶å®å·®ä¸å¤šä¹Ÿå°±è¿™æ ·ï¼Œä½†æŸ¥äº†ä¸‹å‘ç°ä¾›ç”µå¯èƒ½æ˜¯é›·åŒºï¼Œæ¯•ç«Ÿå¦‚æœ4ä¸ªç›˜æ»¡è½½è¿è¡Œçš„è¯ç¨³å®šæ€§å¯èƒ½æˆä¸ºç–‘é—®ï¼Œä½†æš‚ä¸”æ¥è¯´ç›®å‰è¿˜åªæœ‰ä¸¤ä¸ªç›˜é‚£å°±ä¸ç®¡äº†ã€‚ å‡†å¤‡å·¥ä½œ å¤‡ä»½ è¿™ä¸ªå°±ä¸ç”¨å¤šè¯´äº†ï¼Œåœ¨å®‰è£…ä¹‹å‰æœ‰é‡è¦æ•°æ®åˆ‡è®°è¦å¤‡ä»½ã€‚ å‚é˜…å®˜æ–¹å®‰è£…æ•™ç¨‹ åœ¨å®‰è£…çš„åŒæ—¶å»ºè®®æ‰“å¼€ å®˜æ–¹å®‰è£…æ•™ç¨‹ è¾¹å‚è€ƒè¾¹å®‰è£…ï¼Œä»¥å…å‡ºé”™ã€‚ åˆ¶ä½œ LiveCD å¼•å¯¼ç›˜ é¦–å…ˆå‰å¾€ ArchLinux å›½å†…é•œåƒç«™ï¼ˆæˆ‘è¿™é‡Œé€‰ç”¨äº†æ¸…åæºï¼‰ï¼Œç„¶åå¯»æ‰¾åˆé€‚ç‰ˆæœ¬çš„ ArchLinux é•œåƒæ–‡ä»¶å¹¶ä½¿ç”¨å·¥å…·åˆ»å½•åˆ° USB ä¸Šï¼ˆç”±äºæˆ‘çš„ç”µè„‘ç³»ç»Ÿä½¿ç”¨äº† Ubuntu 18.04 + gnome æ¡Œé¢ç¯å¢ƒï¼Œå› æ­¤æˆ‘ä½¿ç”¨äº†å¯è§†åŒ–çš„ Disks å·¥å…·è¿›è¡Œ LiveCD åˆ¶ä½œï¼‰ï¼Œè¯¥æ­¥éª¤ç”±äºç½‘ä¸Šå·²æœ‰ä¸åŒç¯å¢ƒä¸‹åˆ¶é€ çš„æ•™ç¨‹ï¼Œå› æ­¤ç•¥è¿‡ã€‚ é¢„å¤„ç†æ­¥éª¤ æ’å…¥å·²åˆ¶ä½œå¥½çš„ LiveCD ç°åœ¨æˆ‘ä»¬æŠŠ LiveCD æ’å…¥åˆ°æ˜Ÿé™…èœ—ç‰›ä¸»æœºä¸Šï¼Œå¹¶ä¸”åœ¨å¼€æœºåè¿›å…¥ BIOS ç•Œé¢ï¼ŒæŠŠå¯åŠ¨é¡¹è°ƒæ•´æˆæˆ‘ä»¬åˆšæ’å…¥åˆ°ä¸»æœºä¸Šçš„ USB ï¼ˆUEFI æ–¹å¼ï¼‰ï¼Œå¹¶åœ¨ F10 ä¿å­˜ä¹‹åé‡æ–°å¯åŠ¨ã€‚ æ“¦é™¤ Synology ç³»ç»Ÿæ•°æ® åœ¨å®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼ŒæˆåŠŸåœ°è¿›å…¥äº† ArchLinux çš„å‘½ä»¤è¡Œç¯å¢ƒï¼Œä½†ç”±äºåº—å®¶æœ¬èº«å·²ç»é¢„è£…äº†é»‘ç¾¤è¾‰ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æŠŠæ®‹ç•™çš„æ•°æ®éƒ½ç»™æ¸…ç©ºæ‰ã€‚ è¾“å…¥ fdisk -l æŸ¥çœ‹é»‘ç¾¤è¾‰ç³»ç»Ÿæ‰€åœ¨åˆ†åŒºï¼ˆæˆ‘è¿™é‡ŒæŸ¥å‡ºæ¥æ˜¯ /dev/sdaï¼‰ã€‚ ä½¿ç”¨ dd if=/dev/zero of=/dev/sda å†™ 0 æ“¦é™¤ /dev/sda ç¡¬ç›˜ä¸Šçš„å†…å®¹ï¼Œå¹¶ä¸”åœ¨æ“¦é™¤å®Œæ¯•åç›´æ¥ä½¿ç”¨ Ctrl+C é€€å‡ºã€‚ åˆ›å»ºåˆ†åŒºè¡¨ ç°åœ¨ä½¿ç”¨ fdisk ä¸ parted ï¼ˆå®˜æ–¹æ¨èè¿™ä¸¤ä¸ªï¼‰ç­‰å·¥å…·å¯¹ /dev/sda å»ºç«‹æ–°çš„åˆ†åŒºè¡¨ï¼ˆæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ cfdisk /dev/sdaï¼‰ï¼š é¦–å…ˆè¦åˆ›å»º EFI System Partition (ESP) å¹¶ä½œä¸ºå¼•å¯¼æ–‡ä»¶å‚¨å­˜ç”¨ï¼Œè¿™é‡Œæˆ‘åˆ†å‡ºäº† 512M ç»™äºˆ /dev/sda1 åˆ†åŒºï¼ˆå®˜æ–¹å»ºè®® UEFI with GPT æ˜¯ 260 ï½ 512MBï¼‰ã€‚ ç„¶åçš„å°±æ˜¯æŠŠå‰©ä½™çš„ç©ºé—´å…¨æ•°åˆ†é…ç»™ /dev/sda2ï¼ˆè¿™é‡Œä½ ä¹Ÿå¯ä»¥é¢„ç•™ä¸€äº›å¤§äº 512MB çš„ç©ºé—´åˆ†é…ç»™ /dev/sda3 ä½œä¸º swap åŒºä½¿ç”¨ï¼‰ï¼Œå¹¶æŒ‡å®šåˆ†åŒºè¡¨ç±»å‹ä¸º Linux filesystem å³å¯ã€‚ ä¿å­˜å¹¶é€€å‡ºã€‚ æœ€ç»ˆåˆ†åŒºè¡¨å¦‚ä¸‹ï¼š 123Device Start End Sectors Size Type/dev/sda1 2048 1050623 1048576 512M EFI System/dev/sda2 1050624 31277198 30226575 14.4G Linux filesystem æ ¼å¼åŒ–åˆ†åŒºç©ºé—´ å®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å¯¹ä¸Šé¢ä¸¤ä¸ªåˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–ï¼š 12# mkfs.fat -F32 /dev/sda1# mkfs.ext4 /dev/sda2 åˆ›å»º Swap åˆ†åŒºï¼ˆå¯é€‰ï¼‰ å¦‚æœåœ¨åˆ›å»ºåˆ†åŒºè¡¨çš„æ­¥éª¤ä¸Šå·²ç»ä¸ºç³»ç»Ÿåˆ›å»ºäº† Swap åˆ†åŒºï¼Œé‚£ä¹ˆç°åœ¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤åˆ›å»º Swap åŒºï¼š 12# mkswap /dev/sda2# swapon /dev/sda2 æŒ‚è½½åˆ†åŒº åˆšæ‰æˆ‘ä»¬å·²ç»å¯¹ /dev/sda å»ºç«‹èµ·äº† /dev/sda1 ä¸ /dev/sda2 è¿™ä¸¤ä¸ªåˆ†åŒºï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹æŠŠå®ƒä»¬æŒ‚è½½åˆ°å¯¹åº”çš„ä½ç½®ä¸Šï¼š 1234# mount /dev/sda2 /mnt# cd /mnt# mkdir boot# mount /dev/sda1 /boot å®‰è£…ç³»ç»Ÿ åœ¨ç¡®è®¤æŒ‚è½½æ— è¯¯ä¹‹åï¼Œæˆ‘ä»¬ç°åœ¨å°±å¯ä»¥å¼€å§‹å®‰è£… ArchLinux äº†ï¼è®©æˆ‘ä»¬çœ‹çœ‹æ¥ä¸‹æ¥è¦å¹²ä»€ä¹ˆå§ï¼ é…ç½® Pacman é•œåƒæºï¼ˆå¯ç•¥è¿‡ï¼ŒLive æ¨¡å¼é»˜è®¤å¯åŠ¨æ‰€æœ‰é•œåƒï¼‰ ç”±äº ArchLinux é‡‡ç”¨äº† Pacman ä½œä¸ºåŒ…ç®¡ç†ç³»ç»Ÿå¹¶éœ€è¦è”ç½‘ä»¥å®‰è£…ä¸€äº›åŸºç¡€åŒ…ï¼Œè€Œä¸ºäº†æå‡ä¸‹è½½é€Ÿåº¦ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªæ¿€åŠ¨äººå¿ƒçš„å®‰è£…è¿‡ç¨‹ä¹‹å‰å…ˆé…ç½®å¥½æˆ‘ä»¬çš„é•œåƒåˆ—è¡¨ï¼š å¯ä»¥å…ˆå‰å¾€ å®˜æ–¹çš„é•œåƒåˆ—è¡¨ç”Ÿæˆå™¨ ç”Ÿæˆä½ æ‰€åœ¨å›½å®¶æˆ–åœ°åŒºçš„é•œåƒæœåŠ¡å™¨åˆ—è¡¨ã€‚ ç„¶åå°†å®ƒä»¬å¤åˆ¶ç²˜è´´åˆ° /etc/pacman.d/mirrorlist å¹¶ä¿å­˜å³å¯ã€‚ å®‰è£… base ç¨‹åºåŒ…ç»„ åœ¨ç¡®ä¿è”ç½‘çŠ¶æ€å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ pacstrap æŒ‡ä»¤å»å®‰è£…åŠä¸‹è½½ï¼Œå¹¶ä¸”ç¨ç¨ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼š 123# ip link# ping archlinux.org# pacstrap /mnt base ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ base åŒ…ç»„åœ¨ Live æ¨¡å¼ä¸‹å®‰è£…å¹¶ä¸åŒ…å«æ‰€æœ‰å·¥å…·ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ pacstrap /mnt base-devel å®‰è£…åŸºç¡€å¼€å‘è€…å·¥å…·åŒ…ç»„ã€‚ é…ç½® fstab å¯¹äºä¸€äº›æ—¥åå¯èƒ½éœ€è¦ç”¨åˆ°çš„ç¡¬ç›˜æˆ–è€…åˆ†åŒºï¼Œæˆ–è€…å“ªäº›åˆ†åŒºéœ€è¦å¼€æœºçš„æ—¶å€™è‡ªåŠ¨æŒ‚è½½ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨ /etc/fstab æ–‡ä»¶ä¸­æŒ‡å®šå‡ºæ¥ã€‚ç°åœ¨ä½¿ç”¨ genfstab æŒ‡ä»¤ç®€å•çš„ç”Ÿæˆä¸€ä¸ªé…ç½®æ–‡ä»¶å¹¶ç”¨ cat æŸ¥è¯¢ä»¥ç¡®è®¤ç”Ÿæˆç»“æœã€‚ 12# genfstab -U /mnt &gt;&gt; /mnt/etc/fstab# cat /mnt/etc/fstab ç§»åŠ¨è‡³ç³»ç»Ÿæ ¹ç›®å½• æˆ‘ä»¬å½“å‰è¿›ç¨‹è¿˜æ˜¯ä»¥ LiveCD ä¸‹çš„å¼•å¯¼ç³»ç»Ÿä½œä¸ºæ ¹ç›®å½•ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æŠŠæ ¹ç›®å½•ç§»åŠ¨åˆ°æˆ‘ä»¬æ–°åˆ›å»ºå¥½çš„ç³»ç»Ÿä¸­ï¼ˆ/mnt é‡Œï¼‰å†è¿›è¡Œæ“ä½œï¼š 1# arch-chroot /mnt è°ƒæ•´ç³»ç»Ÿå†…çš„ä¸ªæ€§åŒ–é…ç½®ï¼ˆå¯é€‰ï¼‰ è¿™é‡Œçš„é…ç½®è¾ƒä¸ºæ¬¡è¦ï¼Œå› æ­¤ä¸ä½œæ›´è¯¦ç»†çš„è¯´æ˜ï¼Œè¯¦æƒ…å¯å‰å¾€å®˜æ–¹æ–‡æ¡£å‚é˜…ï¼š æ—¶åŒºè®¾ç½® åˆ›å»ºè½¯é“¾æ¥æŠŠ /etc/localtime æŒ‡å‘ /usr/share/zoneinfo/Region/City /etc/localtime è®©ç³»ç»Ÿè¯»å–ï¼š 12# ln -sf /usr/share/zoneinfo/Asia/Hong_Kong /etc/localtime# hwclock --systohc æœ¬åœ°åŒ–è®¾ç½® åˆ›å»ºæœ¬åœ°åŒ–é…ç½® /etc/locale.conf å¹¶è®©ç³»ç»Ÿè¯»å–ï¼Œå¯ä½¿ç”¨ nano / vi ç­‰æ–¹å¼è¿›è¡Œç¼–è¾‘ï¼š 1LANG=en_US.UTF-8 é…ç½®ç½‘ç»œ é…ç½® hosts æ–‡ä»¶ ç°åœ¨æˆ‘ä»¬ç¼–è¾‘ /etc/hosts æ–‡ä»¶ï¼Œä½¿ hosts æ–‡ä»¶ç”Ÿæ•ˆï¼Œä¸‹é¢æ˜¯æˆ‘çš„é…ç½®ï¼š 123127.0.0.1 localhost::1 localhost127.0.1.1 90-ArchLinux æ·»åŠ ç½‘å¡é…ç½® æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åœ¨ base åŒ…è‡ªå¸¦çš„ netctl è¿›è¡Œæœ‰çº¿ç½‘ç»œé…ç½®ï¼š åœ¨å‘½ä»¤è¡Œç¯å¢ƒä¸‹å…ˆè¾“å…¥ ip link æŸ¥è¯¢æœªå¯åŠ¨æˆ–æœªè¢«åˆ†é…æœ‰ IP çš„ç½‘å¡ï¼Œæˆ‘è¿™é‡ŒæŸ¥è¯¢å‡ºæ¥çš„æ˜¯ enp1s0 ä¸ enp4s0ï¼Œå› ä¸ºæ¥äº†ç½‘çº¿çš„ç½‘å£æ˜¯ä¸‹é¢çš„æ‰€ä»¥ç›²çŒœåº”è¯¥æ˜¯ enp4s0ã€‚ ä½¿ç”¨ nano /etc/netctl/enp4s0 åˆ›å»ºå¹¶ç¼–è¾‘ç½‘å¡é…ç½®ï¼ˆè¯·æŠŠä¸‹è¿°æ‰€æœ‰å†…å®¹çš„ enp4s0 æ›¿æ¢æˆä½ ç½‘å¡é…ç½®çš„åå­—ï¼‰ï¼š DHCP åŠ¨æ€åˆ†é… IP è¯·ä½¿ç”¨ï¼š 123Interface=enp4s0Connection=ethernetIP=dhcp é™æ€åˆ†é… IP è¯·ä½¿ç”¨ï¼š 123456Interface=enp4s0Connection=ethernetIP=staticAddress=(&apos;10.1.10.2/24&apos;)Gateway=&apos;10.1.10.1&apos;DNS=(&apos;10.1.10.1&apos;) ä¿å­˜å¹¶é€€å‡ºï¼Œå¹¶è¾“å…¥ï¼š 123netctl start enp4s0netctl enable enp4s0netctl status enp4s0 netctl start enp4s0 ä¸ºå¯åŠ¨ç½‘å¡ï¼Œç„¶åè¾“å…¥ netctl enable enp4s0 ç¡®ä¿ç½‘å¡åœ¨å¼€æœºæ—¶å¯åŠ¨ï¼Œæœ€åè¾“å…¥ netctl status enp4s0 æŸ¥è¯¢ç½‘å¡çŠ¶æ€ï¼Œç¡®ä¿å¯åŠ¨æˆåŠŸã€‚ è®¾ç½® Root å¯†ç  è®¾ç½® Root å¯†ç ï¼š 1# passwd è®¾ç½®å¯åŠ¨å¼•å¯¼ åœ¨å®Œæˆä¸Šè¿°æ‰€æœ‰çš„æ­¥éª¤ä¹‹åï¼Œç°åœ¨æ¥åˆ°æœ€å…³é”®çš„ä¸€æ­¥äº†ã€‚åœ¨æˆ‘ä»¬æŠŠç³»ç»Ÿé…ç½®å®Œæˆä¹‹åï¼Œç³»ç»Ÿæœ¬èº«å¹¶ä¸ä¼šè‡ªè¡Œå¼•å¯¼å¹¶å¯åŠ¨ç³»ç»Ÿçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å®‰è£…å¯åŠ¨å¼•å¯¼å™¨ï¼ˆBootloaderï¼‰ï¼Œè€Œå®˜æ–¹ç»™å‡ºäº†ä¸€æ•´ä¸ª å¯åŠ¨å¼•å¯¼å™¨åˆ—è¡¨ ä¾›æˆ‘ä»¬é€‰æ‹©ã€‚ åœ¨è¿™é‡Œæˆ‘é€‰ç”¨äº† Grub ä½œä¸ºæˆ‘çš„å¼•å¯¼å™¨ï¼Œå› æ­¤ä¸‹é¢ä¼šåˆ—å‡º Grub çš„å®‰è£…æµç¨‹ï¼š 123# pacman -S grub efibootmgr os-prober# grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB# grub-mkconfig -o /boot/grub/grub.cfg ä½¿ç”¨ pacman ä¸‹è½½å¹¶å®‰è£… grubï¼Œefibootmgr ä¸ os-prober åŒ… æ‰§è¡Œ grub-install æŒ‡ä»¤å®‰è£…ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ UEFI æ¶æ„ï¼Œå› æ­¤è®¾ç½® --target ä¸º x86_64-efiï¼Œè€Œ efi è·¯å¾„åˆ™è®¾ç½®ä¸ºä¸Šé¢åˆ›å»ºå¥½çš„ /boot è·¯å¾„ï¼ˆä¹Ÿä¸ºESPï¼‰å³å¯ã€‚ æ‰§è¡Œ grub-mkconfig ä»¥ç”Ÿæˆ grub çš„é»˜è®¤é…ç½®æ–‡ä»¶ é‡å¯ä¸»æœºè¿›å…¥å®‰è£…ç³»ç»Ÿ åœ¨å®Œæˆä¸Šè¿°æ‰€æœ‰æµç¨‹ä¹‹åï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è¾“å…¥ exit æˆ–æŒ‰ä¸‹ Ctrl+D é€€å‡º Chroot ç¯å¢ƒï¼Œå¹¶æ‰§è¡Œ rebootï¼ˆä¸è¦å¿˜è®°ç§»é™¤æˆ‘ä»¬æ­è½½ Live ç³»ç»Ÿçš„ USBï¼‰ï¼Œè¿›å…¥æ–°ç³»ç»Ÿå¹¶ä½¿ç”¨è®¾ç½®å¥½çš„ root å¯†ç ç™»é™†ï¼Œè‡³æ­¤å®‰è£…å®Œæ¯•ï¼ æ€»ç»“ æœ¬ç¯‡è¾ƒè¯¦ç»†åœ°è®²è¿°äº†å®‰è£… ArchLinux ç³»ç»Ÿçš„æ•´ä¸ªæµç¨‹ï¼Œå½“ç„¶ç›¸æ¯”èµ·å…¶ä»–å¼€ç®±å³é£Ÿçš„ä¸€é”®åŒ–å‚»ç“œå¼ç³»ç»Ÿå®‰è£…è¦æ²‰é•¿è®¸å¤šï¼Œä½†ä¹Ÿæœ‰åŠ©äºè¿›ä¸€æ­¥äº†è§£ Linux çš„æ–‡ä»¶ç»“æ„ï¼Œä¹Ÿé¼“åŠ±å–œæ¬¢æŠ˜è…¾çš„æœ‹å‹å¯ä»¥å°è¯•è‡ªå·±å»å¼„ä¸€ä¸‹ã€‚è€Œä½œä¸º NAS ä½¿ç”¨æ²¡æœ‰ç»„ RAID é˜µåˆ—æ€ä¹ˆè¡Œï¼Œå› æ­¤ä¸‹ä¸€ç¯‡ä¼šä¸ºå¤§å®¶å¸¦æ¥è½¯ä»¶ RAID é˜µåˆ—çš„ç»„è£…ã€‚","categories":[],"tags":[{"name":"NAS","slug":"nas","permalink":"https://a9032676.github.io/tags/nas/"},{"name":"ArchLinux","slug":"archlinux","permalink":"https://a9032676.github.io/tags/archlinux/"},{"name":"ç¡¬ç›˜åˆ†åŒº","slug":"ç¡¬ç›˜åˆ†åŒº","permalink":"https://a9032676.github.io/tags/ç¡¬ç›˜åˆ†åŒº/"},{"name":"ç³»ç»Ÿå®‰è£…","slug":"ç³»ç»Ÿå®‰è£…","permalink":"https://a9032676.github.io/tags/ç³»ç»Ÿå®‰è£…/"}]},{"title":"ä¸€ä¸ª Haskeller çš„èŒƒç•´è®ºå…¥å‘ç¬”è®° ç¬¬äºŒç« ï¼šå‡½æ•°ä¸èŒƒç•´å…³ç³»","slug":"Category-Theory-2","date":"2019-07-20T11:09:41.000Z","updated":"2020-10-28T01:25:42.326Z","comments":true,"path":"2019/07/20/Category-Theory-2/","link":"","permalink":"https://a9032676.github.io/2019/07/20/Category-Theory-2/","excerpt":"","text":"å‰è¨€ è¦è¯´åˆ°å‡½æ•°ä¸ç±»å‹ï¼Œåªè¦æ˜¯ä¸ªå†™å¸¦æœ‰ç±»å‹ç³»ç»Ÿçš„ç¼–ç¨‹è¯­è¨€ï¼Œéƒ½åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œå› ä¸ºæˆ‘ä»¬å¤©å¤©éƒ½ä¼šæ¥è§¦åˆ°ã€‚ä½†æ˜¯å¯¹äºåœ¨èŒƒç•´è®ºä¸Šï¼Œæˆ–æ›´å¹¿ä¹‰åœ°æˆ‘ä»¬æŒ‡åœ¨æ•°å­¦ä¸Šçš„å‡½æ•°ï¼Œä»¥åŠç±»å‹çš„æ¦‚å¿µï¼ˆå› ä¸ºæ•°å­¦ä¸Šç±»å‹ç›¸ç­‰äºåªæ˜¯é›†åˆï¼Œä¸‹é¢ä¼šæåŠï¼‰ï¼Œä»–ä»¬åˆæˆ–è®¸åˆæœ‰ä¸ä¸€æ ·çš„é¢è²Œå±•ç°åœ¨æˆ‘ä»¬çš„é¢å‰ã€‚ å‡½æ•°ï¼ˆFunctionï¼‰ å‡½æ•°åªæ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼ˆæˆ–è€…è¯´æ˜¯ä¸€ä¸ªé»‘ç®±ï¼‰ï¼Œå› ä¸ºå®ƒåªè´Ÿè´£æ¥å—æŸäº›å‚æ•°ï¼Œç„¶åå¤„ç†ï¼Œæœ€åè¿”å›ä¸€äº›è¿”å›å€¼ã€‚è¿™æˆ–è®¸æ˜¯å¤§éƒ¨åˆ†å†™å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€çš„äººå¿ƒä¸­å¯¹äºå‡½æ•°æ‰€ç†è§£çš„äº†ï¼Œå³ä½¿æ˜¯å¯¹äºä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹å¼€å‘çš„äººï¼Œå‡½æ•°çš„æ¦‚å¿µå¤šå¤šå°‘å°‘ä¸æ•°å­¦ä¸Šä¹Ÿæ˜¯æœ‰å‡ºå…¥çš„ã€‚æ­£å› ä¸ºåœ¨ä¸åŒé¢†åŸŸå¯¹å‡½æ•°çš„å®šä¹‰ä¸æ¦‚å¿µéƒ½ä¸ä¸€æ ·ï¼Œå› æ­¤å…ˆè®©æˆ‘ä»¬å®šä¹‰å‡½æ•°è¿™ä¸ªæ¦‚å¿µç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚ æ¦‚å¿µ é¦–å…ˆæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹æˆ‘åœ¨èŒƒç•´è®ºä¸Šä¸€ç« å¯¹äºæ€å°„ï¼ˆMorphismï¼‰ä¸å¤åˆï¼ˆComposeï¼‰çš„æ¦‚å¿µï¼Œä¸”æˆ‘ä»¬å¾—çŸ¥æ€å°„å…¶å®æ˜¯å¯ä»¥è¢«ç›´æ¥ä½œä¸ºå‡½æ•°æ¥çœ‹å¾…çš„ï¼Œåœ¨è¿™é‡Œè¦å†è¡¥å……çš„æ˜¯ï¼šå¯¹è±¡ï¼ˆObjectï¼‰åœ¨æ€å°„è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä»…ä»…åªæ˜¯å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡åœ¨åŒæ—¶æ€å°„ï¼Œå°±ä¾‹å¦‚æˆ‘ä»¬åœ¨æ•°å­¦ä¸Šä¸ä»…å¯ä»¥å®šä¹‰ä¸¤ä¸ªæ•´æ•°ä¸ºå¯¹è±¡ï¼Œç„¶åæŠŠå®ƒä»¬ç›¸åŠ åœ¨ä¸€èµ·ï¼ˆåƒ \\(5 + 8\\) è¿™æ ·ï¼‰ï¼Œè€ŒåŠ æ³•æœ¬èº«ä¹Ÿæ˜¯ä¸ªå‡½æ•°ï¼Œè€Œä¸”è¿™æ¡å‡½æ•°æœ¬èº«å¹¶ä¸ä»…èƒ½æ¥å— \\(5\\) ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œç„¶åè¿”å› \\(8\\)ï¼Œè€Œæ˜¯æ ¹æ®å…·ä½“è¿™æ¡å‡½æ•°çš„å®šä¹‰åŸŸï¼ˆDomainï¼‰æ¥å†³å®šæ‰€æ¥å—çš„å‚æ•°éƒ½æœ‰ä»€ä¹ˆï¼ˆä¾‹å¦‚åœ¨è¿™æˆ‘ä»¬è®¾ä¸º \\(\\forall x.x \\in \\mathbb Z\\)ï¼‰ï¼Œå†æŠŠé›†åˆå†…çš„æ‰€æœ‰æ•´æ•°åŠ ä¸Šå¦å¤–ä¸€ä¸ªæ•´æ•°ï¼ˆä¾‹å¦‚ map (+3) [1,2,3] æˆ– \\(x + 3\\)ï¼‰ï¼Œæœ€åè¾“å‡ºåˆ°æ–°çš„é›†åˆ \\(Y\\) ä¸Šï¼Œæ­£å¦‚ä¸‹å›¾è¿™æ ·ï¼š é›†åˆ \\(X\\) æ˜¯ä½œä¸ºå®šä¹‰åŸŸï¼ˆDomainï¼‰å‡ºç°çš„ï¼Œç„¶åæˆ‘ä»¬æŠŠ \\(X\\) å½“ä¸­çš„å…ƒç´ ç»™æ€å°„åˆ°é›†åˆ \\(Y\\)ï¼Œå³åƒ / å€¼åŸŸï¼ˆImage / Rangeï¼‰ä¸Šï¼Œå› æ­¤ä½¿ç”¨æ˜ å°„å…³ç³»ä¹Ÿå¯ä»¥å…¬ç†åŒ–æˆè¿™æ ·ï¼š\\(X \\xrightarrow[f]{} Y\\)ã€‚ å‡½æ•°å…³ç³»ï¼ˆRelationship of functionï¼‰ æ—¢ç„¶åœ¨æ¦‚å¿µä¸Šæˆ‘ä»¬æåˆ°ï¼Œå‡½æ•°ä¹‹é—´çš„å…³ç³»å¯ä»¥ä»¥é›†åˆæ˜ å°„çš„å½¢å¼è¡¨ç¤ºå‡ºæ¥ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥æ›´æ¸…æ™°åœ°æè¿°å…¶ä¸­çš„å…³ç³»ã€‚ä¸‹é¢æˆ‘ä»¬ä¸å¦¨æ¥ç²—ç•¥åœ°äº†è§£ä¸‹å‡½æ•°çš„æ˜ å°„å…³ç³»å§ï¼ˆè¯¦å°½çš„å®šä¹‰å¯ä»¥å‚è€ƒç»´åŸºï¼‰ã€‚ é™ªåŸŸä¸å€¼åŸŸï¼ˆæˆ–åƒï¼‰ï¼ˆCodomain and Rangeï¼ˆor Imageï¼‰ï¼‰ è¦è°ˆåŠåˆ°é™ªåŸŸçš„æ¦‚å¿µï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹å€¼åŸŸï¼ˆæˆ–åƒï¼‰çš„æ¦‚å¿µï¼Œå€¼åŸŸå°±ç›¸ç­‰äºå‡½æ•°å®é™…è¾“å‡ºçš„é›†åˆï¼Œä¾‹å¦‚æˆ‘ä»¬è¯´æœ‰ä¸€æ¡å‡½æ•° \\(f : \\mathbb Z \\mapsto \\mathbb Z\\)ï¼Œå®šä¹‰ä¸º \\(f(x) = x + 2\\)ï¼Œè€Œå®šä¹‰åŸŸçš„åˆ™å–äº \\([0,2]\\) åŒºé—´ä¹‹é—´ï¼Œå› æ­¤å¯¹äºç»™å®šçš„è¾“å…¥ \\(0, 1, 2\\)ï¼Œå¯å¾—åˆ°å®é™…è¾“å‡º \\(2, 3, 4\\)ï¼Œå®é™…ä¸Šè¿™äº›ä¹Ÿå°±æ˜¯å€¼åŸŸå†…çš„å¯¹è±¡ã€‚ é‚£ä¹ˆåŸ¹åŸŸï¼ˆCodomainï¼‰å‘¢ï¼Ÿå®ƒå…¶å®å°±ç›¸å½“äºä¸€ä¸ªäºä¸€ä¸ªå‡½æ•°çš„å¯èƒ½è¾“å‡ºèŒƒå›´ï¼Œé‚£ä»€ä¹ˆå« \"å¯èƒ½è¾“å‡ºçš„èŒƒå›´\" å‘¢ï¼Ÿç”±äºæˆ‘ä»¬ä¸Šé¢ç»™å®šçš„å®šä¹‰åŸŸåªæœ‰ \\(0, 1, 2\\) è¿™ä¸‰ä¸ªæ•°ï¼Œä½†æˆ‘ä»¬åƒä¸‡ä¸èƒ½å¿½è§†é™¤äº†è¿™å‡ ä¸ªæ•°ä»¥å¤–ï¼Œå¯¹äºè¿™æ¡å‡½æ•°æ¥è®²å…¶å®æ˜¯å¯ä»¥æ¥å—å…¶ä»–æ•´æ•° \\(x \\in \\mathbb Z\\) ä½œä¸ºè¾“å…¥çš„ï¼Œæ‰€ä»¥å…¶å®æˆ‘ä»¬å¯èƒ½è¿˜æœ‰ \\({...,-3,-2,-1,0,1,2,3,...}\\) ç­‰ç­‰çš„ä½œä¸ºè¾“å…¥çš„é›†åˆï¼Œç„¶åå¯¹åº”çš„å¯èƒ½è¾“å‡ºä¹Ÿå°±æ˜¯åŸ¹åŸŸï¼ˆä¹Ÿæ˜¯å€¼åŸŸçš„è¶…é›†ï¼Œ\\(Codomain \\supseteq Range\\)ï¼‰äº†ã€‚ å•å°„å‡½æ•°ï¼ˆInjective functionï¼‰ ç›¸è¾ƒäºæ»¡å°„å‡½æ•°ï¼Œå•å°„å‡½æ•°ä¹Ÿå°±æ˜¯å•ç‹¬ï¼Œå•ä¸€çš„æ„æ€ï¼Œä¹Ÿå³æ˜¯å¯¹äºå®šä¹‰åŸŸæ‰€æœ‰çš„å¯¹è±¡ï¼Œå¹¶ä¸ä¼šæ˜ å°„åˆ°å€¼åŸŸä¸Šçš„æ‰€æœ‰å¯¹è±¡ï¼Œåªæœ‰éƒ¨åˆ†è¢«ä¸€ä¸€å¯¹åº”åœ°æ˜ å°„ã€‚æ¢å¥è¯è¯´å°±æ˜¯å€¼åŸŸä¸åŸ¹åŸŸåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ä¸ç›¸ç­‰çš„ï¼Œæ­¤æ—¶å€¼åŸŸå¿…ç„¶ä¼šå°äºåŸ¹åŸŸï¼ˆå¦‚æœç›¸ç­‰çš„è¯å°±å˜æˆæ»¡å°„å‡½æ•°äº†ï¼‰ã€‚ å…·ä½“å®šä¹‰ä¸ºï¼š è‹¥æ»¡è¶³ \\(\\forall x, y \\in X, f(x) = f(y) \\implies x = y\\)ï¼Œåˆ™ \\(f : X \\to Y\\) ä¸ºä¸€å•å°„å‡½æ•°ã€‚ æ»¡å°„å‡½æ•°ï¼ˆSurjective functionï¼‰ æ»¡å°„çš„å«ä¹‰ä¸ºå®Œæ»¡ï¼Œå®Œå…¨ï¼Œæ‰€æœ‰çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯æŒ‡å¯¹äºå€¼åŸŸä¸Šçš„æ‰€æœ‰å¯¹è±¡ï¼Œéƒ½å¿…å®šè‡³å°‘å­˜åœ¨ä¸€ä¸ªæ˜ å°„ç”±å®šä¹‰åŸŸæ˜ å°„è¿‡å»ï¼Œå› æ­¤æˆ‘ä»¬ \"ä¸ä¼šé”™è¿‡\" ä»»ä½•ä¸€ä¸ªè¾“å‡ºï¼Œå³ä¾¿å‡ºç°å¤šå¯¹ä¸€æ˜ å°„çš„æƒ…å†µã€‚æ‰€ä»¥è¯´å¯¹äºæ‰€æœ‰è¾“å‡ºä¸ä»…ä»…æ˜¯å¯èƒ½çš„ï¼Œè€Œä¸”æ˜¯å¿…ç„¶çš„ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯å€¼åŸŸä¼šç›´æ¥ç­‰åŒäºåŸ¹åŸŸã€‚ å…·ä½“å®šä¹‰ä¸ºï¼š è‹¥æ»¡è¶³ \\(\\forall y \\in Y, \\exists x \\in X, f(x) = y\\)ï¼Œåˆ™ \\(f : X \\to Y\\) ä¸ºä¸€æ»¡å°„å‡½æ•°ã€‚ åŒå°„å‡½æ•°ï¼ˆBijective functionï¼‰ é€è¿‡è§‚å¯Ÿåœ¨æ¦‚å¿µä¸­ \\(X \\xrightarrow[f]{} Y\\) çš„ä¾‹å­æˆ‘ä»¬å¾—çŸ¥ï¼Œå·¦è¾¹çš„é›†åˆï¼ˆå®šä¹‰åŸŸï¼‰ä¸å³è¾¹é›†åˆï¼ˆåƒ / å€¼åŸŸï¼‰çš„å¯¹è±¡æ˜¯å…¨éƒ¨å¯¹åº”èµ·æ¥çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸Šé¢çš„å®šä¹‰åŸŸä¸º \\(\\forall x.x \\in \\mathbb Z\\)ï¼ˆä¹Ÿå°±æ˜¯å¯¹äºæ‰€æœ‰ \\(x\\)ï¼Œå®ƒä»¬éƒ½å±äºæ•´æ•°è¿™ä¸ªé›†åˆï¼‰ï¼Œä¸”æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä¹Ÿå°±æ˜¯ \\(1 \\to 2\\)ï¼Œ\\(2 \\to 3\\)ï¼Œ\\(3 \\to 6\\) è¿™æ ·ï¼Œå®ƒä»¬å¹¶ä¸ä¼šå½¢æˆç±»ä¼¼å¤šå¯¹ä¸€ï¼Œä¸€å¯¹å¤šçš„å…³ç³»ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠè¿™ç§å…³ç³»ç§°ä¹‹ä¸ºåŒå°„ï¼ˆæ»¡å°„ä¸”å•å°„ï¼‰ã€‚ åå‡½æ•°ä¸åŸåƒï¼ˆInverse function and Preimagesï¼‰ å‡½æ•°å¯é€†æ€§ï¼ˆFunction invertibilityï¼‰ å¹¶ä¸å±äºå‡½æ•°èŒƒç•´çš„æ€å°„å…³ç³» ä¸Šé¢å·²ç»åˆ—å‡ºéƒ¨åˆ†å‡½æ•°çš„åŸºç¡€å…³ç³»ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€äº› \"å¾ˆåƒå‡½æ•°ä½†åˆå¹¶ä¸æ˜¯å‡½æ•°\" çš„å‡½æ•°ã€‚ å¤šå€¼å‡½æ•°ï¼ˆMultivalued functionï¼‰ ç”±äºæ•°å­¦ä¸Šå‡½æ•°çš„å®šä¹‰æ¯ä¸€ä¸ªè¾“å…¥éƒ½åªèƒ½å¤Ÿå¯¹åº”ä¸€ä¸ªè¾“å‡ºï¼Œè€Œå¤šå€¼å‡½æ•°ä¹Ÿå°±æ˜¯ä¸€å¯¹å¤šçš„å­—é¢æ„æ€ï¼Œæ‰€ä»¥å¤šå€¼å‡½æ•°å¹¶ä¸æ˜¯ä¸€æ¡å‡½æ•°ã€‚åœ¨æ•°å­¦ä¸Šæœ€æ˜¾ç„¶çš„ä¾‹å­å°±æ˜¯æ±‚æ ¹å…¬å¼å¾—å‡ºæ¥çš„ç»“æœæœ‰å¯èƒ½æ˜¯æ­£æˆ–è€…è´Ÿï¼Œå¦‚æœå¾—å‡ºæ¥çš„ç»“æœä¾‹å¦‚åªæœ‰ä¸€ä¸ªæ­£æ•´æ•°æˆ–è€…è´Ÿæ•´æ•°é‚£å°±æ˜¯å¾ˆæ­£å¸¸çš„ä¸€æ¡å‡½æ•°ï¼Œä½†è‹¥æœå¾—å‡ºæ¥çš„ç»“æœå¯èƒ½æ˜¯å‡ºç°å¤šä¸ªçš„ï¼Œä¾‹å¦‚ {\\(-2, 2\\)}ï¼Œé‚£è¿™ä¸ªå°±æ˜¯å±äºå¤šå€¼å‡½æ•°äº†ã€‚è€Œä¹‹æ‰€ä»¥ä¸ºä»€ä¹ˆæˆ‘ä»¬çœ‹åˆ°å½“ä»Šè®¡ç®—æœºè¯­è¨€çš„å‡½æ•°å¹¶ä¸èƒ½ç›´æ¥æ‹¥æœ‰å¤šè¿”å›å€¼ï¼ˆé¡¶å¤šä¹Ÿåªèƒ½å¤Ÿè¿”å›ä¸€ä¸ª Array List Tuple Pair Set ä¹‹ç±»çš„å®¹å™¨ï¼‰ï¼Œç©¶å…¶åŸå› å…¶å®ä¹Ÿåœ¨è¿™é‡Œã€‚ åå‡½æ•°ï¼ˆPartial functionï¼‰ åå‡½æ•°æŒ‡çš„æ˜¯åœ¨å®šä¹‰åŸŸå†…ï¼Œæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡å¹¶æœªæ˜ å°„åˆ°å€¼åŸŸå†…ï¼Œè€Œè¿™ç§æƒ…å†µå°±å¥½æ¯”æˆ‘ä»¬æ—¥å¸¸å¼€å‘çš„æ—¶å€™ï¼Œå†™ä¸€æ¡å‡½æ•°ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä½†ç¬¬ä¸€ä¸ªå‚æ•°ä»å§‹è‡³ç»ˆéƒ½æœªåœ¨å‡½æ•°ä½“å†…è¢«é—´æ¥æˆ–ç›´æ¥åœ°å¼•ç”¨è¿‡ï¼Œä¹Ÿå°±æ˜¯ Unused parameterï¼Œè¿™ç§çœ‹ä¼¼æ˜¯èƒ½å†™çš„å‡ºæ¥çš„å‡½æ•°å®é™…ä¸Šä¹Ÿå¹¶ä¸æ˜¯ä¸€æ¡å‡½æ•°ã€‚ èŒƒç•´å…³ç³»ï¼ˆCategory Relationshipï¼‰ è¯·ä¸è¦å¿˜è®°æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œåœ¨ä¸Šé¢ä»‹ç»å®Œå‡½æ•°çš„åŸºæœ¬å…³ç³»ä¹‹åå¹¶ä¸æ˜¯ä»£è¡¨å°±ç»“æŸäº†ï¼Œé‚£ä»…ä»…åªæ˜¯å‡½æ•°ä¸Šå…³ç³»è€Œå·²ï¼Œè€Œæˆ‘ä»¬è¿˜æœ‰å¯¹äºèŒƒç•´è®ºå†…çš„æ€å°„å…³ç³»æ²¡è°ˆå‘¢ï¼æ‰€ä»¥ç°åœ¨è®©æˆ‘ä»¬æ¥å¼€å§‹ä¸€èµ·çœ‹çœ‹å§ã€‚ åŒæ€ï¼ˆHomomorphismï¼‰ åŒæ€å«ä¹‰ä¸º \"ç›¸åŒçš„å½¢æ€\"ï¼Œä¹Ÿå°±æ˜¯æŒ‡åœ¨æ˜ å°„æ—¶ä¿æŒä¸¤ä¸ªä»£æ•°ç»“æ„ä¸Šå®ƒä»¬ç›¸åŒå½¢æ€ä¸å˜ã€‚å¯¹äºå‡½æ•°ä¸Šæœ‰ä¸åŒç§ç±»çš„å‡½æ•°ç±»å‹ï¼ˆä¾‹å¦‚ä¸Šé¢å•å°„ / æ»¡å°„ / åŒå°„å‡½æ•°ç­‰ç­‰ï¼‰ï¼Œåœ¨èŒƒç•´è®ºä¸Šçš„æ€å°„ç§ç±»ä¹Ÿå°±è¢«ç§°ä¸ºåŒæ€äº†ã€‚ å•åŒæ€ï¼ˆMonomorphismï¼ˆMonicï¼‰ï¼‰ å•åŒæ€åœ¨èŒƒç•´è®ºä¸Šçš„æ¦‚å¿µå‡ ä¹ç­‰åŒäºé›†åˆè®ºï¼ˆæˆ–é›†åˆèŒƒç•´ \\(C_{Set}\\)ï¼‰çš„å•å°„å‡½æ•°ï¼Œå¯¹äºèŒƒç•´ \\(C\\) å†…ï¼Œæˆ‘ä»¬æœ‰ \\(g_x : C \\to A\\) ä»¥åŠ \\(f : A \\to B\\)ï¼Œå¯¹äºæ€å°„ \\(g_1, g_2\\)ï¼Œè‹¥å®ƒä»¬å‡ä¸ \\(f\\) ç»“åˆï¼Œå³ \\(f \\circ g_1\\) ä¸ \\(f \\circ g_2\\) éšå«äº† \\(g_1 = g_2\\)ï¼ˆè¿™é‡Œæˆ‘ä»¬å¯ä»¥å·¦æ¶ˆé™¤ï¼ˆLeft cancellableï¼‰\\(f\\)ï¼Œåƒè¿™æ ·ï¼š\\(\\require{cancel} \\cancel{f \\circ} g_1 = \\cancel{f \\circ} g_2\\)ï¼‰ï¼Œæ»¡è¶³è¿™ä¸ªæ¡ä»¶æ—¶æˆ‘ä»¬ç§° \\(A \\rightarrowtail B\\) æ˜¯å•åŒæ€çš„ã€‚ æ»¡åŒæ€ï¼ˆEpimorphismï¼ˆEpicï¼‰ï¼‰ æ»¡åŒæ€åœ¨èŒƒç•´è®ºä¸Šçš„æ¦‚å¿µå‡ ä¹ç­‰åŒäºé›†åˆè®ºï¼ˆæˆ–é›†åˆèŒƒç•´ \\(C_{Set}\\)ï¼‰çš„æ»¡å°„å‡½æ•°ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¸å¦¨ä¹Ÿç»™å‡º \\(f : A \\to B\\) ä»¥åŠ \\(g_x : B \\to C\\)ï¼Œå¯¹äºæ€å°„ \\(g_1\\), \\(g_2\\)ï¼Œè‹¥å®ƒä»¬å‡ä¸ \\(f\\) ç»“åˆï¼Œå³ \\(g_1 \\circ f\\) ä¸ \\(g_2 \\circ f\\) éšå«äº† \\(g_1 = g_2\\) ï¼ˆå› ä¸ºæˆ‘ä»¬å¯ä»¥å³æ¶ˆé™¤ï¼ˆRight cancellableï¼‰ \\(f\\)ï¼Œåƒè¿™æ ·ï¼š\\(g_1 \\require{cancel} \\cancel{\\circ f} = g_2 \\cancel{\\circ f}\\)ï¼‰ï¼Œæ‰€ä»¥ \\(A \\twoheadrightarrow B\\) æ˜¯æ»¡åŒæ€çš„ã€‚ åŒæ„ï¼ˆIsomorphismï¼‰ åŒæ„çš„çš†æŒ‡åœ¨èŒƒç•´åœ¨æ€å°„ä¹‹é—´ä¿æŒäº†ä¸å˜çš„ç»“æ„ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ä¸€æ ·çš„ç»“æ„ï¼Œå‡è®¾æˆ‘ä»¬æœ‰æ€å°„ \\(f : A \\to B\\)ï¼Œè‹¥è¿™ä¸ªæ€å°„æ˜¯åŒæ„å…³ç³»ï¼Œé‚£ä¹ˆå®ƒè‚¯å®šä¿ç•™äº†å¯é€†ä»¥åŠå¯¹ç§°æ€§ï¼Œæ‰€ä»¥æœ‰ \\(g : B \\to A\\)ã€‚è€Œå› æ¯ä¸ªå¯¹è±¡æœ¬èº«éƒ½å­˜åœ¨å•ä½å…ƒï¼Œä¾‹å¦‚æ¯æ¬¡å½“ \\(g \\circ f\\) ç»•å›æ¥çš„æ—¶å€™å…¶å®ä¹Ÿå°±ç­‰åŒäº \\(id_A\\)ï¼Œå› æ­¤ä¿æœ‰å¦‚ä¸‹æ€§è´¨ï¼š\\(g \\circ f = id_A\\) ä»¥åŠ \\(f \\circ g = id_B\\)ã€‚ è€Œåœ¨ Haskell ä¸­æˆ‘ä»¬èƒ½å¾ˆç®€å•çš„å®šä¹‰ä¸€ä¸ªç±»å‹è¡¨ç¤ºåŒæ„å…³ç³»ï¼š 1type ISO a b = (a -&gt; b, b -&gt; a) æ€»ç»“ æœ¬ç¯‡ç•¥ç•¥ä»‹ç»äº†ä¸€äº›ç®€å•çš„åŸºç¡€å‡½æ•°ä¸åŒæ€çš„å…³ç³»ï¼Œæ‰€ä»¥å½“ç„¶å…³ç³»æ˜¯ä¸æ­¢è¿™ä¹ˆä¸€ç‚¹çš„ï¼Œåç»­ä¼šæ…¢æ…¢æåŠåˆ°ã€‚è€Œäº†è§£æ¸…æ¥šè¿™äº›å…³ç³»ä¹‹ååœ¨å†™ä»£ç æ—¶ä¹Ÿæœ‰åŠ©äºçœ‹æ¸…æ¥šå‡½æ•°èƒŒåçš„ç»†èŠ‚ä¸ä½œç”¨ï¼Œä½¿é€»è¾‘æ¡ç†æ›´ä¸ºæ¸…æ™°ã€‚","categories":[],"tags":[{"name":"èŒƒç•´è®º","slug":"èŒƒç•´è®º","permalink":"https://a9032676.github.io/tags/èŒƒç•´è®º/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://a9032676.github.io/tags/å‡½æ•°å¼ç¼–ç¨‹/"}]},{"title":"ä¸€ä¸ª Haskeller çš„èŒƒç•´è®ºå…¥å‘ç¬”è®° ç¬¬ä¸€ç« : å¤åˆçš„æœ¬è´¨","slug":"Category-Theory-1","date":"2019-07-19T11:13:32.000Z","updated":"2021-03-02T06:07:02.400Z","comments":true,"path":"2019/07/19/Category-Theory-1/","link":"","permalink":"https://a9032676.github.io/2019/07/19/Category-Theory-1/","excerpt":"","text":"åœ¨å…¥å‘æ¥è§¦ Haskell ä¸€æ®µæ—¶é—´åï¼Œç¢°åˆ°å¾ˆå¤šç±»ä¼¼ Functor Applicative Monad ç­‰ç­‰è¿™äº›è¯¸å¦‚æ­¤ç±»çš„ \"é­”æ³•\"ï¼Œè™½ç„¶æœ‰æ—¶å€™ç”¨æ˜¯ä¼šç”¨äº†ï¼Œåˆ©ç”¨å„ç§è‡ªå®šä¹‰çš„ Monad instance ä¹Ÿå®é™…ä¼˜åŒ–äº† FP ï¼ˆFunctional Programmingï¼‰ å·¥ç¨‹ä¸Šçš„ä»£ç ï¼Œä½†æ˜¯å›å¤´ä¸€çœ‹ Monadï¼ˆå•å­ï¼‰è¿™ä¸ªç¥å¥‡çš„è¯ï¼Œä»”ç»†æƒ³æƒ³åˆå¹¶ä¸è¿™ä¹ˆç®€å•èƒ½å¤Ÿè§£é‡Šï¼Œä¸€æŸ¥å‘ç°å…¶ä¸­åˆç‰µæ¶‰å‡º Monoidï¼ˆä¹ˆåŠç¾¤ï¼‰ Semigroupï¼ˆåŠç¾¤ï¼‰ ç­‰ç­‰è¿™äº›ç¾¤è®ºä»¥è‡³äºèŒƒç•´è®ºä¸Šçš„æ¦‚å¿µå‡ºæ¥ã€‚äºæ˜¯ä¹ä¸ºäº†èƒ½å¤Ÿå½»åº•å¼„æ¸…æ¥šè¿™ä¸€å¤§å †ä¸œè¥¿ä»¥åŠæ»¡è¶³å¥½å¥‡å¿ƒï¼ˆé¡ºä¾¿è®°å½•ä¸‹å­¦ä¹ çš„è¿‡ç¨‹ï¼‰ï¼Œç‰¹æ„å¼€äº†æœ¬ç¯‡ä½œä¸ºå­¦ä¹ ç¬”è®°ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿè®°å½•è¿™ä¸ªå…¥å‘ çŒ«è®º ï¼ˆCategory Theoryï¼‰ åˆ°å…¥åœŸçš„å¿ƒè·¯å†ç¨‹ï¼ˆç¬‘ã€‚ æ¦‚å¿µï¼ˆConceptï¼‰ ç ”ç©¶èŒƒç•´å°±æ˜¯è¯•å›¾ä»¥â€œå…¬ç†åŒ–â€çš„æ–¹æ³•æŠ“ä½åœ¨å„ç§ç›¸å…³è¿çš„â€œæ•°å­¦ç»“æ„â€ä¸­çš„å…±åŒç‰¹æ€§ï¼Œå¹¶ä»¥ç»“æ„é—´çš„â€œç»“æ„ä¿æŒå‡½æ•°â€å°†è¿™äº›ç»“æ„ç›¸å…³èµ·æ¥ã€‚å› æ­¤ï¼Œå¯¹èŒƒç•´è®ºç³»ç»ŸåŒ–çš„ç ”ç©¶å°†å…è®¸ä»»ä½•ä¸€ä¸ªæ­¤ç±»æ•°å­¦ç»“æ„çš„æ™®éç»“è®ºç”±èŒƒç•´çš„å…¬ç†ä¸­è¯å‡ºã€‚ èŒƒç•´è®ºè¿™é—¨å­¦é—®ï¼Œè™½ç„¶åˆ†ç±»ä¸Šæ˜¯å±äºæ•°å­¦çš„åŸºç¡€å†…å®¹ï¼Œä½†ä¸ªäººï¼ˆä»¥ä½œä¸º Haskeller çš„è§’åº¦ï¼‰åå€’è§‰å¾—åƒæ˜¯ä¸€é—¨ \"æ•°å­¦ä¸Šçš„æŠ½è±¡è¯­è¨€\"ã€‚å°±å¦‚åŒä¸Šé¢å¼•æ–‡æåŠï¼šå®ƒè´Ÿè´£å¯¹æ•°å­¦ç»“æ„ä¸­çš„å…±åŒç‰¹æ€§ï¼ŒåŠ ä»¥å…¬ç†åŒ–çš„å½¢å¼æŠŠè¿™ä¸€ä¸ªä¸ªçš„æ•°å­¦ç»“æ„è¿æ¥èµ·æ¥ã€‚ä¸¾ä¸ªä¾‹å­ï¼šå°±å¦‚åŒæ•°å­¦ä¸Šæœ€ç®€å•çš„åŠ å‡ä¹˜é™¤è¿™äº› \"äºŒå…ƒè¿ç®—\"ï¼Œå‡èƒ½è¢«è§†ä¸ºæ˜¯ä¸€ç§è¿æ¥ä¸¤ä¸ªæ•°å­¦ç»“æ„ä¹‹é—´çš„ä¸€ä¸ªå…¬ç†åŒ–çš„è¿æ¥ï¼Œå› æ­¤æ‰è¢«ç§°ä¸º \"äºŒå…ƒè¿ç®—\"ã€‚ å¯¹è±¡ä¸æ€å°„ï¼ˆObject and Morphismï¼‰ é€šä¿—åœ°è®²ï¼Œä¸€ä¸ªæœ€ç®€å•çš„èŒƒç•´ç»“æ„å¯ä»¥ç”±ä¸€ä¸ª å¯¹è±¡ï¼ˆObjectï¼‰ ä¸ æ€å°„ï¼ˆMorphismï¼‰ å¤åˆè€Œæˆçš„ï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼ˆä¾‹å¦‚ä¸€ä¸ªè‡ªç„¶æ•°æˆ–æ˜¯ä¸ªè‹±æ–‡å­—æ¯ç­‰ç­‰ï¼‰ï¼Œè€Œæ€å°„å°±ç›¸ç­‰äºå¯¹è±¡å˜æ¢çš„è¿‡ç¨‹ï¼Œç„¶åæŠŠä¸€ä¸ªä¸ªå¯¹è±¡ä¹‹é—´åƒæ˜¯åŠ ä¸Šäº†ä¸€ä¸ªä¸ªç®­å¤´ï¼ˆArrowï¼‰ä¸€æ ·å°†å®ƒä»¬é€ä¸€è¿æ¥èµ·æ¥ï¼Œé¦–å…ˆç”±å¯¹è±¡ \\(a\\) æ€å°„åˆ°å¯¹è±¡ \\(b\\) ï¼Œæœ€ç»ˆç”±å¯¹è±¡ \\(b\\) å†æ€å°„åˆ°å¯¹è±¡ \\(c\\)ï¼Œæ­£å¦‚è¿™æ ·ï¼š\\[ a \\to b \\to c \\] ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°ä¼¼ä¹å°±åªæ˜¯åŠ ä¸Šäº†ç®­å¤´ä½œä¸ºå¯¹è±¡ä¹‹é—´çš„è¿æ¥ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå¯¹è±¡ï¼Œä¸¤æ¬¡æ€å°„çš„èŒƒç•´äº†ã€‚ æ€å°„å¤åˆï¼ˆCompositionï¼‰ ç°åœ¨æˆ‘ä»¬è¦æåŠåˆ°å¦ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼šå¤åˆï¼ˆCompositionï¼‰ã€‚ä¸Šé¢å¯¹è±¡ä¸æ€å°„çš„å°ç« èŠ‚å·²ç»ä¸¾å‡ºäº†ä¸€ä¸ªç®€å•çš„èŒƒç•´ä¾‹å­ï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥ä¸ºä¸Šé¢çš„æ€å°„ç»™å‘½åä¸€ä¸‹ï¼Œä¾‹å¦‚æ”¹æˆè¿™æ ·ï¼š\\[ a \\xrightarrow[f]{} b \\xrightarrow[g]{} c \\] äºæ˜¯ä¹ç°åœ¨ä¼šæ›´åŠ ç›´è§‚åœ°çœ‹åˆ°æ€å°„çš„åå­—äº†ï¼Œæˆ‘ä»¬è®¾å¯¹è±¡ \\(a\\) åˆ° \\(b\\) çš„æ€å°„ç§°ä¸º \\(f\\) ï¼Œè€Œä»å¯¹è±¡ \\(b\\) åˆ° \\(c\\) çš„æ€å°„ä¸º \\(g\\)ï¼Œæœ€ç»ˆç”±äºå¯¹è±¡ \\(a\\) \\(b\\) \\(c\\) ä¼šé€è¿‡æ€å°„å½¢æˆä¸€ä¸ªå…·å¤‡å¯ä¼ é€’æ€§è´¨çš„èŒƒç•´ï¼Œå¯¹è±¡ \\(a\\) æ€å°„åˆ° \\(c\\) çš„æ—¶å€™å°±ä¼šå½¢æˆä¸€ä¸ªæ€å°„çš„å¤åˆï¼ˆComposition of morphismï¼‰ï¼Œå› æ­¤å¯ä»¥æ¼”å˜æˆè¿™æ ·ï¼š\\[ a \\xrightarrow[g \\circ f]{} c \\] æˆ‘ä»¬çœ‹åˆ°ä¸Šé¢ç”± \\(a\\) åˆ° \\(c\\) çš„è¿‡ç¨‹å®é™…å°±æ˜¯æŠŠ æ€å°„ \\(g\\) å’Œ \\(f\\) ç»™å¤åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„å¤åˆæ€å°„ï¼Œç§°ä¹‹ä¸º \\(g \\circ f\\)ã€‚ åœ¨ Haskell ä¸Šçš„å‡½æ•°å¤åˆ ä¼—æ‰€å‘¨çŸ¥å¾ˆå¤šå›¾çµå®Œå…¨çš„ç¼–ç¨‹è¯­è¨€ä¸Šï¼Œå‡½æ•°ä¸ä»…ä»…åªèƒ½æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªè¿”å›å€¼ï¼Œè€Œæ˜¯å¯ä»¥åœ¨æ»¡è¶³ä¸‹åˆ—è‡³å°‘ä»»ä¸€æ¡ä»¶ï¼š 1. ä¸€ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºè¾“å…¥ 2. è¾“å‡ºä¸€ä¸ªå‡½æ•° çš„æƒ…å†µä¸‹ï¼Œä½œä¸ºä¸€ä¸ªæ™®é€šå‡½æ•°ä½¿ç”¨ï¼Œè€Œè¿™ä¸€æ¦‚å¿µä¹Ÿå°±æ˜¯ä¸ºäººç†ŸçŸ¥çš„ é«˜é˜¶å‡½æ•°ï¼ˆHigher-order functionï¼‰ã€‚é‚£ä¹ˆå½“ç„¶åœ¨ Haskell ä¸­ä¹Ÿä¸ä¾‹å¤–ï¼Œæ¯”æ–¹è¯´æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤æ¡å‡½æ•°ï¼š 12trim :: String -&gt; Stringlower :: String -&gt; String åˆ†åˆ«æ˜¯é¦–å…ˆå¯¹å­—ç¬¦ä¸²æ¸…é™¤ç©ºæ ¼å’Œåç»­çš„æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå…¨å°å†™çš„å‡½æ•°ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ç®€å•åœ°æŠŠå®ƒä»¬å¤åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå¤åˆå‡½æ•°ï¼Œåœ¨ Haskell é‡Œé¢ä»¥ Point-free å½¢å¼å†™å‡ºæ¥çš„ä»£ç å¤§æ¦‚åƒæ˜¯è¿™æ ·ï¼šlower . trimï¼Œå°±å·²ç»æˆä¸ºäº†ä¸€ä¸ªç®€å•çš„å‡½æ•°å¤åˆäº†ï¼ å¤åˆçš„ç‰¹æ€§ï¼ˆProperties of Compositionï¼‰ å¤åˆï¼ˆCompositionï¼‰æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§ï¼Œåœ¨ä»»ä½•èŒƒç•´å†…éƒ½å¿…é¡»æ»¡è¶³è¿™äº›ç‰¹æ€§ï¼Œæ‰èƒ½è¢«ç§°ä¹‹ä¸ºå¤åˆã€‚ ç»“åˆå¾‹ï¼ˆAssociative Propertyï¼‰ å¤åˆæ˜¯å¯ç»“åˆçš„ï¼Œä¹Ÿå°±æ˜¯æŒ‡å‡ºä¸€ä¸ªäºŒå…ƒè¿ç®—ï¼ˆè¿™é‡Œæ˜¯å¤åˆï¼‰åªè¦å®ƒä»¬ç®—å­ï¼ˆæ€å°„ï¼‰çš„ä½ç½®æ²¡æœ‰è¢«æ”¹å˜ï¼Œé‚£å°±ä¸ä¼šå¯¹æ•´ä¸ªå¤åˆè¿‡ç¨‹çš„ç»“æœäº§ç”Ÿå½±å“ï¼Œä¹Ÿå°±æ˜¯å³ä½¿æˆ‘ä»¬ç»™å¤åˆåŠ ä¸Šæ”¹å˜ä¼˜å…ˆçº§çš„è¿ç®—ç¬¦ï¼ˆä¾‹å¦‚æ‹¬å·ï¼‰ï¼Œä¹Ÿå¹¶ä¸ä¼šæ”¹å˜æ•´ä¸ªè¿‡ç¨‹çš„ç»“æœã€‚ç°åœ¨ç»™å‡ºä¸‰ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ \\(f\\)ï¼Œ\\(g\\)ï¼Œ\\(h\\)ã€‚ç„¶åæŠŠå®ƒä»¬å¤åˆåˆ°ä¸€èµ·ï¼š\\[(h \\circ g) \\circ f = h \\circ (g \\circ f) = h \\circ g \\circ f\\] æœ€ç»ˆå¯ä»¥çœ‹å‡ºå®ƒä»¬çš„ç»“æœå‡æ˜¯æ’ç­‰çš„ã€‚ å•ä½å…ƒï¼ˆIdentityï¼‰ å•ä½å…ƒå°±å¦‚åŒä¸€ä¸ªç‰¹æ®Šçš„å•ä½ï¼ˆUnitï¼‰ï¼Œä»»ä½•å¯¹è±¡ä¸å…¶å¤åˆç»“æœéƒ½ä¼šè¿”å›å¯¹è±¡è‡ªèº«ï¼š\\[ a \\xrightarrow[id_a]{} a \\] \\[f \\circ id_a = id_a \\circ f = f \\] ä½†è¦åˆ‡è®°ï¼Œä¸Šé¢çš„å•ä½å…ƒ \\(id_A\\) ä¾æ—§æ˜¯ä¸€ç§æ€å°„ï¼Œåªä¸è¿‡å¤åˆåçš„ç»“æœè¿˜æ˜¯è½å…¥äº†ä¸ \\(f\\) åŒä¸€ä¸ªèŒƒç•´å†…ã€‚å°±å¦‚åŒ \\(2 \\times 1\\)ä¸€æ ·ï¼ˆ\\(1\\) æ˜¯ä¹˜æ³•å•ä½å…ƒï¼‰ï¼Œå®ƒçš„è¿ç®—ç»“æœæ°¸è¿œéƒ½åªä¼šæ˜¯æ•´æ•°ï¼ˆè¿™é‡Œçš„èŒƒç•´å¯ä»¥æ˜¯æ•´æ•°ä¹˜æ³•ç¾¤ï¼Œä¸”ç¾¤è®ºä¸Šå·²å®šä¹‰äº†å°é—­æ€§ï¼Œæ‰€ä»¥ç»“æœä¸ä¼šæ˜¯å…¶ä»–ä»€ä¹ˆåƒæ˜¯å­—ç¬¦ä¸²ï¼Œå…¶ä»–ç±»å‹çš„è‡ªç„¶æ•°ç­‰ç­‰çš„è¿™ç±»ä¸œè¥¿ï¼‰ï¼Œä¸”æœ€ç»ˆå®ƒè¿ç®—å¾—å‡ºæ¥çš„ç»“æœéƒ½ä¼šæ˜¯ç­‰äº \\(2\\)ï¼Œä¹Ÿå°±æ˜¯ç­‰äºè‡ªèº«ï¼Œå› æ­¤ \\(1\\) ä¾¿ç¬¦åˆäº†ä½œä¸ºä¹˜æ³•å•ä½å…ƒçš„ç‰¹æ€§ã€‚ å¤åˆçš„å“²å­¦ï¼ˆPhilosophy of Compositionï¼‰ è¦è®²åˆ°å¤åˆçš„æœ¬è´¨ï¼Œå®ƒä¸ä»…ä»…åªæ˜¯åœ¨ ç‰©ç†å­¦ / æ•°å­¦ é¢†åŸŸä¸‹æŸäº›åˆ†æ”¯çš„æ¦‚å¿µï¼Œæˆ–æ˜¯å‡½æ•°å¼ç¼–ç¨‹é¢†åŸŸå…¬ç†åŒ–æˆ–ç®€åŒ–å®é™…é—®é¢˜çš„ \"ä¸œè¥¿\"ã€‚ä»è®¡ç®—æœºçš„è§’åº¦å‡ºå‘çš„è¯ï¼Œå®ƒè¡¨ç¤ºæˆä¸€ä¸ªä¸ªçš„è¿‡ç¨‹ï¼Œä¾‹å¦‚è¯´å®é™…ç¼–å†™ Haskell / Java / C++ ç­‰ç­‰è¿™äº› Higher-Level ç¼–ç¨‹è¯­è¨€çš„ä»£ç ï¼Œç»è¿‡ç¼–è¯‘è¿™ä¸ªè¿‡ç¨‹ï¼Œå®é™…ä¸Šçœ‹ä¼¼ä¹Ÿå¾ˆç±»ä¼¼äºæ€å°„è¿™ä¸ªæ¦‚å¿µï¼Œç„¶åæŠŠè¿™äº›ä»£ç  \"è‡ªç„¶è½¬æ¢\" ä¸ºæœºå™¨è¯»çš„æ‡‚çš„ä¸œè¥¿ï¼Œæœ€ç»ˆå†ç”±æ‰¿è½½æ‰§è¡Œè¯¥è¯­è¨€çš„è™šæ‹Ÿæœºï¼Œæˆ–è€…æ˜¯ Runtime è´Ÿè´£è¿è¡Œï¼Œè¿™ä¸€ç³»åˆ—çš„è¿‡ç¨‹è¿æ¥èµ·æ¥ä¹Ÿå°±å½¢æˆäº†ä¸€ä¸ªå¤åˆï¼Œè€Œè¿™ä¸ªå¤åˆæœ€ç»ˆä»£è¡¨çš„å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„èŒƒç•´ï¼Œç”šè‡³æŸç§ç¨‹åº¦ä¸Šæˆ‘ä»¬å¯ä»¥è¯´æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»é‡åˆ°çš„å„ç§äº‹æƒ…éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªèŒƒç•´ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªé›†åˆã€‚èŒƒç•´æœ¬èº«ä¸ä»…å¯ä»¥è¢«å½“æˆä¸€ä¸ªåˆ†ç±»ï¼Œè€Œä¸”ä»–è¿˜å¯ä»¥æŠŠå¤šä¸ªå°åˆ†ç±»ç»™ \"è¿æ¥\" èµ·æ¥ï¼Œè§£å†³ä¸€ä¸ªå¾ˆå¤æ‚å¾ˆå›°éš¾çš„äº‹ã€‚åœ¨è®¡ç®—æœºé¢†åŸŸæœ€ä¸ºç›´æ¥çš„ä¾‹å­å°±æ˜¯ç°ä»£ CPU çš„æ¶æ„ï¼Œå…¶é€»è¾‘æˆ–çº¿è·¯å¸ƒå±€å¤æ‚ç¨‹åº¦æ˜¾ç„¶ç›¸å½“çš„é«˜ï¼Œä½†è¿˜æ˜¯åˆ†å‡ºäº† ALUï¼ŒCUï¼Œå¯„å­˜å™¨ï¼Œå„ç§æ€»çº¿ ç­‰ç­‰çš„è¿™äº›æ¦‚å¿µï¼Œç„¶åæŠŠå®ƒä»¬å¤åˆåœ¨ä¸€èµ·è¿è¡Œã€‚å…¶æ¬¡ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ—¥å¸¸ç¼–å†™ä»£ç æ—¶ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·åŒ–ç®€å½’çº³æˆä¸€ä¸ªä¸ªèŒƒç•´çš„æ¦‚å¿µï¼Œé‚£ä¹ˆç°åœ¨çš„ç¨‹åºå‘˜å¯èƒ½æ¯æ—¶æ¯åˆ»éƒ½åªèƒ½ç”¨äºŒè¿›åˆ¶å»ç¼–å†™ç¨‹åºäº†ï¼Œå¯¼è‡´ç¼–å†™ä¸€ä¸ªç¨‹åºçš„é—¨æ§›ä¸çŸ¥é“é«˜äº†å¤šå°‘å¤šå°‘ï¼Œè®¡ç®—æœºé¢†åŸŸçš„å‘å±•ä¹Ÿå°±ååˆ†å±€é™äº†ã€‚ æ€»ç»“ï¼ˆConclusionï¼‰ ä»¥ä¸Šä¾¿æ˜¯æœ¬ç« èŠ‚çš„å†…å®¹äº†ï¼Œæœ¬ç¯‡ä½œä¸ºç¬¬ä¸€èŠ‚å¯èƒ½ä¼šè¾ƒå°‘è®²è¿°å®è´¨åœ¨èŒƒç•´è®ºä¸Šçš„å†…å®¹ï¼Œè€Œæ¦‚å¿µè¾ƒå¤šä¹Ÿæ˜¯ä¸ºäº†å¸®åŠ©è‡ªå·±å’Œè¯»è€…èƒ½å¤Ÿç†è§£åŠå­¦ä¹ åˆ°èŒƒç•´è®ºä¸Šçš„æ¦‚å¿µï¼Œä½œä¸ºæ—¥åæ·±å…¥èŒƒç•´è®ºçš„ä¸€ä¸ªå«è„šçŸ³ã€‚ å¤–éƒ¨é“¾æ¥ï¼ˆOutside Linksï¼‰ æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒæˆ–å¼•ç”¨è‡³ä¸‹åˆ—ç½‘é¡µï¼Œä¹Ÿå¯ä¾›ä½œä¸ºé¢å¤–çš„å»¶ä¼¸èµ„æºå¸®åŠ©é˜…è¯»ï¼š èŒƒç•´è®º - Wikipedia Category: The Essence of Composition - Bartosz Milewski","categories":[],"tags":[{"name":"èŒƒç•´è®º","slug":"èŒƒç•´è®º","permalink":"https://a9032676.github.io/tags/èŒƒç•´è®º/"},{"name":"å‡½æ•°å¼ç¼–ç¨‹","slug":"å‡½æ•°å¼ç¼–ç¨‹","permalink":"https://a9032676.github.io/tags/å‡½æ•°å¼ç¼–ç¨‹/"}]},{"title":"Codewars: Haskell Five Fundamental Monads","slug":"Codewars-Five-Fundamental-Monads","date":"2019-06-24T11:32:13.000Z","updated":"2019-06-25T13:24:24.478Z","comments":true,"path":"2019/06/24/Codewars-Five-Fundamental-Monads/","link":"","permalink":"https://a9032676.github.io/2019/06/24/Codewars-Five-Fundamental-Monads/","excerpt":"","text":"This kata corresponds to Five-Fundamental-Monads in Codewars Difficulty: 4 kyu Tags: FUNDAMENTALS MONADS DATA STRUCTURES FUNCTIONAL PROGRAMMING Questions In this kata we will implement five of the most fundamental monads. Newcomers to Haskell find monads to be one of the most intimidating concepts but on a basic level - they are not too difficult to understand. A datatype forms a monad if it is possible to complete the following definitions such that the monad laws (described below) hold. There's nothing more to it! For a more intuitive understanding then there are a plethora of tutorials which use (sometimes wild) analogies to explain this concept. 123class Monad m where return :: a -&gt; m a (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b Monad laws 123return x &gt;&gt;= f = f xm &gt;&gt;= return = m(m &gt;&gt;= f) &gt;&gt;= g = m &gt;&gt;= (\\x -&gt; f x &gt;&gt;= g) It turns out that many different types of computation can be encapsulated by monads. For example the Maybe monad encapsulates a computation which can fail and State a computation with mutable state. The five we will implement here are Identity, Maybe, State, Writer and Reader. Hint: https://www.haskell.org/haskellwiki/Monad_tutorials_timeline Note: Please feel free to contribute! Sources Code 123456789101112131415161718192021222324252627282930313233343536373839404142&#123;-# LANGUAGE NoImplicitPrelude #-&#125;module Monads whereimport Prelude hiding (Monad, Identity, Maybe(..), State, Reader, Writer)import Data.Monoidclass Monad m where return :: a -&gt; m a (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m bdata Identity a = Identity a deriving (Show, Eq)data Maybe a = Nothing | Just a deriving (Show, Eq)data State s a = State &#123;runState :: s -&gt; (a, s)&#125;data Reader s a = Reader &#123;runReader :: s -&gt; a &#125;data Writer w a = Writer &#123;runWriter :: (w, a)&#125;instance Monad Identity where return = undefined (Identity v) &gt;&gt;= f = undefinedinstance Monad Maybe where return = undefined Nothing &gt;&gt;= f = undefined (Just v) &gt;&gt;= f = undefinedinstance Monad (State s) where return = undefined (State g) &gt;&gt;= f = undefinedinstance Monad (Reader s) where return = undefined (Reader g) &gt;&gt;= f = undefinedinstance Monoid w =&gt; Monad (Writer w) where return = undefined (Writer (s, v)) &gt;&gt;= f = undefined How to solve Identity Monad Above all, we need to implement the Identity monad instance at first, according to the law of identity in Category Theory: which means for every object \\(x\\), there exists a morphism \\(id_x : x \\mapsto x\\) called the identity morphism for \\(x\\), such that for every morphism \\(f : a \\mapsto x\\) and every morphism \\(g : x \\mapsto b\\), we have \\(id_x \\circ f = f\\) and \\(g \\circ id_x = g\\). Straightforwardly we can call this as a morphism (or function in a programming language) which always return itself, and for every morphism combine with any identity must be equals to morphism itself anyway. By looking at Monad typeclass defination: 1234567class Applicative m =&gt; Monad (m :: * -&gt; *) where (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b (&gt;&gt;) :: m a -&gt; m b -&gt; m b return :: a -&gt; m a fail :: String -&gt; m a &#123;-# MINIMAL (&gt;&gt;=) #-&#125; -- Defined in â€˜GHC.Baseâ€™ So, in Haskell we can implement identity instance like this: 123instance Monad Identity where return = Identity (Identity v) &gt;&gt;= f = f v return function was return a Identity which accepted a parameter a implicitly, and as explicitly can be write like this: return a = Identity a &gt;&gt;= is a monad-binding operator function, means that (Identity v) was bound on function f, by looking at type definition of this function, which accept the parameter m a, (a -&gt; m b) and return the monad m b finally. So now let's turn back to this instance, (Identity v) is the first parameter m a also f represents to (a -&gt; m b), after the (Identity v) is done the pattern-matching, by take the parameter v out and put it into f and finally return the monad m b, that's it what we need! Maybe Monad After done the identity monad, we are learned about how to construct the simple monad in Haskell, but just the only identity? Not enough! So now I'll start to talk about the next most useful monad in Haskell, the Maybe Monad. In this monad, defined two data types: Nothing and Just a, which Nothing does not accept any type parameter but Just a will accept a type parameter a here. So when we hold something just like an integer 1, they we can put it into Just 1, but when holding nothing, then we didn't need to put anything into Just a, so we use Nothing to alternative that. So let's implement return function on Maybe Monad first, it seems like the identity monad, but still have some differences. In this case, we need to specify the Nothing and Just, just take a look at the type definition of return function, it's must provide a parameter a, then we can be wrapping it into Just a to becomes return = Just in instance. Second, after completed return function, to finish the &gt;&gt;= function, it's also closed to the identity instance, but we know when we put a Nothing into f, there must always return Nothing, otherwise return the result moand from f, so here could be using pattern-matching to partition these two case. Finally the Maybe Monad likes: 1234instance Monad Maybe where return = Just Nothing &gt;&gt;= f = Nothing (Just v) &gt;&gt;= f = f v State Monad Reader Monad Writer Monad Conclusion Great thanks to Henry for fixing my noob English grammar problem!","categories":[],"tags":[{"name":"Haskell","slug":"haskell","permalink":"https://a9032676.github.io/tags/haskell/"},{"name":"Monad","slug":"monad","permalink":"https://a9032676.github.io/tags/monad/"},{"name":"Data Structures","slug":"data-structures","permalink":"https://a9032676.github.io/tags/data-structures/"}]},{"title":"è®°å½•ä¸€æ¬¡åœ¨ Linux ä¸‹å¢åŠ åˆ†åŒºå¤§å°çš„è¿‡ç¨‹","slug":"Linux-partition-sizes-modify","date":"2018-12-04T01:23:54.000Z","updated":"2019-07-22T09:42:36.844Z","comments":true,"path":"2018/12/04/Linux-partition-sizes-modify/","link":"","permalink":"https://a9032676.github.io/2018/12/04/Linux-partition-sizes-modify/","excerpt":"","text":"æœ€è¿‘å› ä¸ºè¦å¼€å‘ä¸€ä¸ª Android é¡¹ç›®ï¼Œå› æ­¤éœ€è¦åœ¨ç³»ç»Ÿä¸Šå®‰è£… AndroidStudioï¼Œå®‰è£…é€”ä¸­å´æç¤ºæˆ‘ java.io.IOException: No space left on deviceï¼Œç«‹åˆ»å°±æ„è¯†åˆ°åˆ†åŒºç©ºé—´ä¸è¶³äº†ï¼Œå› æ­¤è¿›è¡Œäº†è¯¥æ¬¡æ‰©å®¹ã€‚è€Œæˆ‘æœ¬èº«æ˜¯åŒç³»ç»Ÿï¼ˆUbuntu 18.04 ä½œä¸ºæ—¥å¸¸å¼€å‘ä½¿ç”¨ï¼Œè€Œ Windows 10 ä½œä¸ºæ¸¸æˆå¨±ä¹ç”¨ï¼‰ï¼Œå› æ­¤æˆ‘è¦å¯¹ Ubuntu ä¸‹çš„åˆ†åŒºè¿›è¡Œæ‰©å®¹ã€‚ å¦‚ä½•æ‰©å®¹ ä½¿ç”¨ GUI å·¥å…·ï¼šGParted ï¼ˆæœ¬ç¯‡æ–‡ç« ä¸è¿›è¡Œé˜è¿°ï¼‰ åˆ©ç”¨ fdisk / parted / lvm ç­‰æŒ‡ä»¤è¿›è¡Œæ‰©å®¹ æå‰å‡†å¤‡ å¤‡ä»½é‡è¦æ•°æ®ï¼Œå¾ˆå…³é”®ï¼ï¼ï¼ å› ä¸ºæ¶‰åŠåˆ° umount å¸è½½åˆ†åŒºæ“ä½œï¼Œè¯·åˆ¶ä½œå¥½ LiveCDï¼ˆå¯¹åº” Linux ç‰ˆæœ¬çš„ USB å¯åŠ¨ç›˜ï¼‰ é‡åˆ°å…¶ä»–é—®é¢˜è¯·ä¸»åŠ¨æŸ¥é˜…ç›¸å…³èµ„æ–™ æ‰¾å‡ºç©ºé—´ä¸è¶³çš„åˆ†åŒº é¦–å…ˆä½¿ç”¨ df -h | grep \"dev/sda\" æŒ‡ä»¤æŸ¥çœ‹ /dev/sda ä»¥ä¸‹å„ä¸ªåˆ†åŒºå ç”¨æ¯” 12345 a9032676@90-Ubuntu î‚° ~ î‚° df -h | grep &quot;sda&quot;/dev/sda10 22G 21G 96M 100% //dev/sda8 1.9G 467M 1.3G 27% /media/a9032676/b2b692f8-bdcf-46c1-9998-503b0970f5b3/dev/sda9 19G 2.8G 15G 16% /media/a9032676/9b5cdc3a-f296-490a-b329-6ae23acee7de/dev/sda7 4.7G 20M 4.4G 1% /media/a9032676/1bbfb6fa-f919-4460-86f9-5ced5a900ec8 å¯ä»¥å¾—å‡ºæŒ‚è½½äº / çš„æ ¹åˆ†åŒº /dev/sda10 ç©ºé—´ä¸¥é‡ä¸è¶³ï¼Œå‰©ä¸‹ 96MBã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨ sudo fdisk -l /dev/sda æŒ‡ä»¤æŸ¥è¯¢ /dev/sda ä¸‹å„åˆ†åŒºå¤§å°åŠæ€»å’Œã€‚ 123456789101112 a9032676@90-Ubuntu î‚° ~ î‚° sudo fdisk -l /dev/sdaDisk /dev/sda: 232.9 GiB, 250059350016 bytes, 488397168 sectors/dev/sda1 * 2048 1126399 1124352 549M 7 HPFS/NTFS/exFAT/dev/sda2 1126400 383537151 382410752 182.4G 7 HPFS/NTFS/exFAT/dev/sda3 383539198 488396799 104857602 50G 5 Extended/dev/sda5 383539200 383928319 389120 190M 83 Linux/dev/sda6 383930368 387928063 3997696 1.9G 82 Linux swap / Solaris/dev/sda7 387930112 397928447 9998336 4.8G 83 Linux/dev/sda8 397930496 401928191 3997696 1.9G 83 Linux/dev/sda9 401930240 441927679 39997440 19.1G 83 Linux/dev/sda10 441929728 488396799 46467072 22.2G 83 Linux a9032676@90-Ubuntu î‚° ~ î‚° å¯ä»¥çœ‹åˆ°è¿™ä¸ªç›˜å¤§å°æ€»å’Œæ˜¯ 232.9Gï¼Œè€Œç”±äºåŒç³»ç»Ÿçš„ç¼˜æ•…ï¼Œ /dev/sda1 ä¸ /dev/sda2 è¿™ä¸¤ä¸ªåˆ†åŒºæ˜¯ Windows 10 çš„ï¼Œå› æ­¤æ˜¯ NTFS æ–‡ä»¶ç³»ç»Ÿã€‚/dev/sda5 ä¸º grub é¢„ç•™åˆ†åŒºï¼Œè€Œæ‰©å±•åˆ†åŒº /dev/sda3 åˆ™ä½œä¸ºæˆ‘ Ubuntu ç³»ç»Ÿæ‰€æœ‰æ–‡ä»¶çš„ä¸»åˆ†åŒºï¼Œå¯ä»¥çœ‹è§æ‰‡åŒºä» 383539198 æ¨ªè·¨åˆ° 488396799ï¼Œé€”ä¸­åŒ…å«äº† sda5 åˆ° sda10 è¿™å‡ ä¸ªåˆ†åŒºï¼Œè€Œä»–ä»¬éƒ½æ˜¯ ext4 æ–‡ä»¶ç³»ç»Ÿçš„é€»è¾‘åˆ†åŒºï¼ŒåŠ èµ·æ¥åˆšåˆšå¥½ 50Gã€‚ æŸ¥è¯¢åˆ†åŒºæŒ‚è½½æƒ…å†µ ç¡®å®šäº†æ˜¯ /dev/sda10 åˆ†åŒºç©ºé—´ä¸è¶³åï¼Œæˆ‘ä»¬åˆ©ç”¨ mount -l | grep \"/dev/sda\" æŒ‡ä»¤æŸ¥çœ‹åˆ†åŒºå®é™…æŒ‚è½½æƒ…å†µã€‚ 12345 a9032676@90-Ubuntu î‚° ~ î‚° sudo mount -l | grep &quot;/dev/sda&quot;/dev/sda10 on / type ext4 (rw,relatime,errors=remount-ro,data=ordered)/dev/sda8 on /media/a9032676/b2b692f8-bdcf-46c1-9998-503b0970f5b3 type ext4 (rw,nosuid,nodev,relatime,data=ordered,uhelper=udisks2)/dev/sda9 on /media/a9032676/9b5cdc3a-f296-490a-b329-6ae23acee7de type ext4 (rw,nosuid,nodev,relatime,data=ordered,uhelper=udisks2)/dev/sda7 on /media/a9032676/1bbfb6fa-f919-4460-86f9-5ced5a900ec8 type ext4 (rw,nosuid,nodev,relatime,data=ordered,uhelper=udisks2) ä»ä»¥ä¸Šæƒ…å†µæ€»æ‹¬å‡ºï¼šè¿™å°ç”µè„‘ä¸¤ä¸ªç³»ç»Ÿéƒ½æ˜¯å®‰è£…åœ¨äº†åŒä¸€ä¸ªç›˜ä¸Šé¢ï¼ˆå› ä¸ºæ˜¯ SSDï¼‰ï¼Œåˆè®¡å¯ç”¨å¤§å°æ˜¯ 232.9Gï¼Œè€Œåˆ†ç»™ Ubuntu çš„æ€»å…±æœ‰ 50Gï¼ŒWindows åˆ™å ç”¨äº† 182.4Gï¼ˆæ’‡é™¤ç³»ç»Ÿä¿ç•™çš„ 549Mï¼‰ã€‚ä½†ç°åœ¨ Ubuntu æŒ‚è½½åœ¨æ ¹ç›®å½•çš„åˆ†åŒº /dev/sda10 å·²ç»æ‰€å‰©æ— å‡ ï¼Œå› æ­¤æˆ‘æ‰“ç®—çš„æ˜¯ä» Windows å¤„ /dev/sda2 é‡Šæ”¾ 30G çš„ç©ºé—´ä¸º /dev/sda10 å¢åŠ å®¹é‡ã€‚ å¼€å§‹è°ƒæ•´ é‡å¯ç”µè„‘ï¼Œå°†ç³»ç»Ÿæ›´æ¢æˆ Windows 10ã€‚ åœ¨ã€ç£ç›˜ç®¡ç†ã€‘å¤„å‹ç¼© NTFS å·/åˆ†åŒºï¼Œé‡Šæ”¾å·²åˆ†é…ç©ºé—´ç»™äºˆ Ubuntu ä½¿ç”¨ï¼Œè¿™é‡Œæˆ‘å…±è®¡åœ¨ /dev/sda2 å¤„å‹ç¼©å¹¶è…¾å‡ºäº†å…±è®¡ 30G çš„æœªåˆ†é…ç©ºé—´ã€‚ï¼ˆæœ¬æ­¥éª¤ä¸å¤šä½œé˜è¿°ï¼Œå…·ä½“å¯å‚è€ƒï¼šå¦‚ä½•åœ¨ Windows ä¸­å¯¹ç¡¬ç›˜è¿›è¡Œåˆ†åŒºï¼‰ å› ä¸ºé€”ä¸­æ¶‰åŠæ ¹åˆ†åŒºå‰åç§»åŠ¨ï¼Œå› æ­¤å¿…é¡»è¦è®©æœ¬èº«å¤„äº busyï¼ˆå¿™ç¢Œï¼‰ çŠ¶æ€çš„æ ¹åˆ†åŒºå…ˆ unmount ï¼ˆå¸è½½åˆ†åŒºï¼‰ï¼Œå¦åˆ™ä¼šä¸€ç›´é”å®šç€ï¼Œæ— æ³•ç§»åŠ¨ã€‚åˆ¶ä½œå¯¹åº” Ubuntu ç‰ˆæœ¬çš„ LiveCDï¼ˆUSBå¯åŠ¨ç›˜ï¼‰ã€‚ é‡å¯ç”µè„‘å¹¶æ’å…¥åˆšåˆšåˆ¶ä½œå¥½çš„ USBï¼Œåˆ‡æ¢ç³»ç»Ÿåˆ° USB æ­è½½çš„ Ubuntu ç³»ç»Ÿä¸Šã€‚ è¿›å…¥ç³»ç»Ÿåã€‚äºå‘½ä»¤è¡Œå†…æ‰‹åŠ¨è¾“å…¥ sudo umount /dev/sda10ï¼ŒæŠŠæˆ‘ä»¬çš„ç›®æ ‡åˆ†åŒºå¸è½½æ‰ï¼ŒåŒæ—¶éœ€è¦å°†æ‰©å±•åˆ†åŒºå†…çš„ Swap Spaceï¼ˆäº¤æ¢ç©ºé—´ï¼‰å…³é—­æ‰ï¼šsudo swapoff -aã€‚ ç„¶åä½¿ç”¨ sudo fdisk /dev/sda è¿›å…¥ fdisk å‘½ä»¤äº¤äº’ç•Œé¢ä»¥è°ƒæ•´åˆ†åŒºï¼š 123456789 a9032676@90-Ubuntu î‚° ~ î‚° sudo fdisk /dev/sda[sudo] password for a9032676: Welcome to fdisk (util-linux 2.31.1).Changes will remain in memory only, until you decide to write them.Be careful before using the write command.Command (m for help): ç„¶åæˆ‘ä»¬ä½¿ç”¨ p æŒ‡ä»¤æŸ¥è¯¢åˆ†åŒºæƒ…å†µï¼Œè™½ç„¶ä¸Šé¢å·²ç»æŸ¥è¯¢è¿‡ï¼Œä½†ä¸ºäº†å®‰å…¨èµ·è§è¿˜æ˜¯å…ˆç¡®è®¤ä¸€éã€‚ 123456789101112131415161718Command (m for help): pDisk /dev/sda: 232.9 GiB, 250059350016 bytes, 488397168 sectorsUnits: sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisklabel type: dosDisk identifier: 0xdefb6f09Device Boot Start End Sectors Size Id Type/dev/sda1 * 2048 1126399 1124352 549M 7 HPFS/NTFS/exFAT/dev/sda2 1126400 320622591 319496192 152.4G 7 HPFS/NTFS/exFAT/dev/sda3 383539198 488396799 104857602 50G 5 Extended/dev/sda5 383539200 383928319 389120 190M 83 Linux/dev/sda6 383930368 387928063 3997696 1.9G 82 Linux swap / Solaris/dev/sda7 387930112 397928447 9998336 4.8G 83 Linux/dev/sda8 397930496 401928191 3997696 1.9G 83 Linux/dev/sda9 401930240 441927679 39997440 19.1G 83 Linux/dev/sda10 441929728 488396799 46467072 22.2G 83 Linux å¯ä»¥çœ‹åˆ°åœ¨ /dev/sda2 çš„æ‰‡å°¾ 320622591 ä¸ /dev/sda3 çš„æ‰‡å¤´ 383539198 ä¹‹é—´å·®äº† 62916607 ä¸ª Blocksï¼Œåˆšå¥½ 30Gï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨ Windows ä¸Šè…¾å‡ºæ¥çš„ç©ºé—´ã€‚ æ¥ä¸‹æ¥è¿™ä¸€æ­¥å¾ˆå…³é”®ï¼Œç”±äºåœ¨æˆ‘ä»¬ä¸Šé¢çš„åˆ†åŒºé‡Œé¢ï¼Œæ²¡åˆ†é…ç©ºé—´æ˜¯å¤„äºæ‰©å±•åˆ†åŒº /dev/sda3 ä»¥åŠ /dev/sda10 çš„å‰é¢ï¼ˆå·¦ä¾§ï¼‰ï¼Œè€Œæˆ‘ä»¬éœ€è¦å…ˆå°†å…¶ç§»åŠ¨åˆ°é è¿‘æˆ‘ä»¬çš„ /dev/sda10 åˆ†åŒºå³ä¾§ï¼ˆä¹Ÿå°±æ˜¯æŠŠ free space ç§»åŠ¨åˆ°æ•´ä¸ªç›˜æœ€åé¢ï¼‰æ–¹å¯ä¸ /dev/sda10 é€»è¾‘åˆ†åŒºè¿›è¡Œåˆå¹¶ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç”¨åˆ° dd è¿™æ¡æŒ‡ä»¤å»æ“ä½œåˆ†åŒºç§»åŠ¨ï¼š å¾…è¡¥å…… ä½†ç”±äºæˆ‘ä»¬è¿™é‡Œçš„ä¾‹å­ /dev/sda10 æœ¬èº«å·²ç»å¤„äºæ•´ä¸ªç›˜çš„æœ€åæ–¹ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨ fdisk çš„ d ä¸ n æŒ‡ä»¤ç›´æ¥åˆå¹¶å·²ç»ç§»åŠ¨åˆ° /dev/sda10 å·¦ä¾§æ—çš„ free spaceï¼Œè€Œçœå»äº†æœ€åçš„ä» /dev/sda10 å·¦ä¾§ç§»åŠ¨åˆ°å…¶çš„å³ä¾§ã€‚ å¾…è¡¥å…… åœ¨ä¸€è½®æ“ä½œå®Œæˆä¹‹åï¼Œå†è¾“å…¥ p æŸ¥è¯¢åˆ†åŒºè¡¨ç©¶ç«Ÿæ˜¯å¦æœ‰è¯¯ï¼Œå†ä¸‰ç¡®è®¤åè¾“å…¥ w ä¿å­˜å˜æ›´å¹¶é€€å‡ºã€‚ å¾…è¡¥å……","categories":[],"tags":[{"name":"ç¡¬ç›˜åˆ†åŒº","slug":"ç¡¬ç›˜åˆ†åŒº","permalink":"https://a9032676.github.io/tags/ç¡¬ç›˜åˆ†åŒº/"},{"name":"Linux","slug":"linux","permalink":"https://a9032676.github.io/tags/linux/"}]},{"title":"è®© Lambda ç‰¹æ€§ä½¿ä½ çš„ Kotlin ä»£ç æ›´åŠ ä¼˜é›…","slug":"Lambda-make-code-more-elegant-on-Kotlin","date":"2018-11-21T17:20:36.000Z","updated":"2019-07-22T09:43:19.555Z","comments":true,"path":"2018/11/22/Lambda-make-code-more-elegant-on-Kotlin/","link":"","permalink":"https://a9032676.github.io/2018/11/22/Lambda-make-code-more-elegant-on-Kotlin/","excerpt":"","text":"ç›¸ä¿¡è¿‘å¹´æ¥ï¼Œä¹Ÿè®¸æœ‰è¿™ä¹ˆä¸€æ‰¹äººä¼šè®¤ä¸º Java è¯­æ³•è¿‡äºä¿å®ˆåŠä¼ ç»Ÿï¼Œä»£ç å†™èµ·æ¥å°±æ˜¾å¾—æœ‰ç‚¹è‡ƒè‚¿äº†ï¼Œä¸ç›´è§‚ä¹Ÿä¸æ–¹ä¾¿ï¼Œè€Œç›¸å¯¹äº Java è€Œè¨€ï¼ŒKotlin è™½ç„¶ä¸ Java åŒå± JVM å¹³å°è¡ç”Ÿå‡ºæ¥çš„è®¡ç®—æœºè¯­è¨€ï¼ŒKotlin çš„è¯­æ³•å´æ¯”èµ· Java æ¥è®²æœ‰æ›´å¤§çš„è¯­æ³•è‡ªç”±åº¦ï¼ˆè¿™é‡Œä»…ä»è¯­æ³•è§’åº¦åˆ†æï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¾—ä»¥å¾ˆå¥½åœ°å®ç°æŸäº›çœ‹èµ·æ¥æ›´ç®€æ´æ›´æ–¹ä¾¿çš„å†™æ³•ï¼Œå°±å¦‚åŒæˆ‘ä»¬ä»Šå¤©è¦è®²çš„ä¸»é¢˜ï¼šåœ¨ Kotlin ä¸Šè®©ä½ çš„ä»£ç æ›´åŠ ä¼˜é›…ã€‚ å¼€å‘ç¯å¢ƒ Systemï¼šUbuntu 18.04 IDEï¼šIntelliJ IDEA 2018.2.5 JDK versionï¼š1.8.0_181ï¼ˆJava 8ï¼‰ Kotlin versionï¼š1.3.10ï¼ˆKotlin 1.3ï¼‰ DSL æ˜¯ä»€ä¹ˆï¼Ÿ æ¦‚å¿µ é˜…è¯»æœ¬ç¯‡æ–‡ç« è¦æ±‚è¯»è€…åº”æ¸…æ™°åœ°è®¤è¯† DSL çš„æ¦‚å¿µï¼Œä»¥åŠ Kotlin Lambda çš„æ€æƒ³ã€‚ å…³äº DSL å¯å‚è€ƒæˆ‘æ‹©å†™çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š å¯¹äº Kotlin è€Œè¨€ï¼ŒDSL çš„æ€ç»´ç©¶ç«Ÿå¯ä»¥å¯¹ä»£ç æœ‰ä»€ä¹ˆå®é™…å¸®åŠ©ï¼Ÿ å¦‚æœä½ å·²ç»é˜…è¯»è¿‡ä¸Šé¢çš„æ–‡ç« ï¼Œåº”è¯¥èƒ½å¤Ÿæ˜ç™½åˆ° DSL åº”åœ¨ç‰¹å®šé¢†åŸŸå‘æŒ¥ä½œç”¨çš„é‡è¦æ€§ï¼Œè€Œåœ¨ Kotlin ä¸Šä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœä½ æ˜¯ä½¿ç”¨ IntelliJ IDEA ä½œä¸ºä½ çš„ IDEï¼Œé‚£ä¹ˆåœ¨ä½ å­¦ä¹  Kotlin çš„æ—¶å€™è‚¯å®šä¼šä½¿ç”¨åˆ°å†…ç½®çš„ Java to Kotlin converterï¼ˆJ2KCï¼‰ï¼Œä¹Ÿå°±æ˜¯æŠŠå¤åˆ¶åçš„ Java çš„ä»£ç ç²˜è´´åˆ° .kt æ–‡ä»¶åè‡ªåŠ¨è½¬æ¢æˆ Kotlin ä»£ç ï¼Œå¦‚ä¸‹é¢ JavaFX åˆ›å»ºå¸ƒå±€çš„ç¤ºä¾‹ï¼š åŸæœ¬çš„ Java ä»£ç ï¼š 12345678910111213141516public void create() &#123; Label label = new Label(&quot;This is label&quot;); label.setStyle(&quot;-fx-font-weight: bold;&quot;); label.setTextFill(Color.web(&quot;0069B1&quot;)); Rectangle rectangle = new Rectangle(46.0, 18.0); rectangle.setArcHeight(10.0); rectangle.setArcWidth(10.0); rectangle.setFill(Color.web(&quot;#CCEEFF&quot;)); rectangle.setPadding(new Insets(2.0, 3.0, 2.0, 3.0)); StackPane stack = new StackPane(); stack.setHgap(10); stack.setVgap(10); stack.children.addAll(rectangle, label);&#125; é€è¿‡ J2KC ä¹‹åè‡ªåŠ¨è½¬æ¢çš„ Kotlin ä»£ç ï¼š 12345678910111213141516fun create() &#123; val label = Label(&quot;This is label&quot;) label.style(&quot;-fx-font-weight: bold;&quot;) label.textFill(Color.web(&quot;0069B1&quot;)) val rectangle = Rectangle(46.0, 18.0) rectangle.arcHeight(10.0) rectangle.arcWidth(10.0) rectangle.fill(Color.web(&quot;#CCEEFF&quot;)) rectangle.padding(Insets(2.0, 3.0, 2.0, 3.0)) val stack = StackPane() stack.hgap(10) stack.vgap(10) stack.children.addAll(rectangle, label)&#125; æˆ‘ä»¬æ¥å›é¡¾ä¸‹ä¸Šé¢ä»£ç çš„è½¬åŒ–è¿‡ï¼Œé¦–å…ˆ J2KC åˆ†åˆ«è‡ªåŠ¨å°†å‡½æ•°æ ‡ç­¾ä» public void create() ç®€åŒ–æˆäº† fun create()ï¼Œè€Œå› ä¸ºåœ¨ Java é‡Œè¿”å›å€¼ä¸º void è€Œåœ¨ Kotlin é‡Œçš„åç½®ç±»å‹å£°æ˜ fun create(): Unit å¯ä»¥ç›´æ¥è¢«ç®€åŒ–æ‰ã€‚é™¤æ­¤ä»¥å¤–è¿˜æœ‰åŒ…å«å¯¹å±€éƒ¨å˜é‡ç±»å‹å£°æ˜ç›´æ¥ç®€åŒ–æˆ var val ä»¥åŠåœ¨åˆ›å»ºæ–°å®ä¾‹æ—¶æŠŠ new å…³é”®è¯ç›´æ¥å»é™¤ã€‚å½“ç„¶ J2KC è¿˜æœ‰å¾ˆèªæ˜çš„ä¸€ç‚¹ï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿè¯†åˆ«å‡ºä»¥ get set ä¸ºå¼€å¤´çš„å‡½æ•°åï¼Œç›´æ¥å°†å…¶ç®€åŒ–æˆåƒæ˜¯å¯¹ä¸€ä¸ªå­—æ®µè¿›è¡Œèµ‹å€¼ä¸€æ ·ï¼Œè€Œä¸”ä¹Ÿå°†ä»¥ ; ä¸ºè¡Œç»“å°¾çš„ç¬¦å·ä¹Ÿå»æ‰äº†ï¼Œçœ‹èµ·æ¥å·²ç»ç›¸å½“ä¸é”™äº†ã€‚ ç¾ä¸­ä¸è¶³ è½¬æ¢è¿‡ç¨‹è™½ç„¶ç®€å•ï¼Œä½†ä¹Ÿè¶³å¤Ÿç²—æš´ï¼Œæˆ‘ä»¬å†æ¥è§‚å¯Ÿä¸€ä¸‹è½¬æ¢åçš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ° 1234val stack = StackPane()stack.hgap(10)stack.vgap(10)stack.children.addAll(rectangle, label) stack.xxx åƒè¿™æ ·çš„æ“ä½œå®åœ¨å¤ªç¹çï¼Œæ¯è®¾ç½®ä¸€ä¸ªå€¼éƒ½å¾—äº‹å…ˆè¾“å…¥ stack.ï¼Œè€Œä¸”çœ‹ä¸Šå»ä»£ç ä¹Ÿä¼šæ˜¾å¾—ç‰¹åˆ«å¯†é›†ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿè¿™éƒ¨åˆ†å°±æ˜¯æ¥ä¸‹æ¥ä¾¿æ˜¯æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜äº†ã€‚ å¦‚ä½•ä¼˜åŒ– å–„ç”¨ apply() ä¸ also() å‡½æ•° åƒæ˜¯ä¸Šé¢è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é€è¿‡ Kotlin ä¸Šä¸€ä¸ªå« apply() çš„å‡½æ•°è§£å†³ï¼è¿™ä¸ªå‡½æ•°ä½äº Kotlin æ ‡å‡†åº“å†…çš„ Standard.kt æ–‡ä»¶é‡Œï¼Œä¸‹é¢æˆ‘ç›´æ¥æŠŠè¿™ä¸€æ®µæºç è´´ä¸Šæ¥ï¼š 1234567891011/** * Calls the specified function [block] with `this` value as its receiver and returns `this` value. */@kotlin.internal.InlineOnlypublic inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T &#123; contract &#123; callsInPlace(block, InvocationKind.EXACTLY_ONCE) &#125; block() return this&#125; æºç åˆ†æ å¯¹äºä½•ä¸ºæ‰©å±•å‡½æ•°ä¸æ³›å‹æœ¬ç¯‡å¹¶ä¸å¤šä½œé˜è¿°ï¼Œå…·ä½“å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š Kotlin - Extensions Kotlin - Generics è¿™ä¸ªå‡½æ•°å¾ˆç®€å•ï¼Œæˆ‘ä»¬é¦–å…ˆå…ˆçœ‹å‡½æ•°æ ‡ç­¾ï¼špublic inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): Tï¼Œæ„æ€å¤§æ¦‚å°±æ˜¯ä¸€ä¸ªå¸¦æœ‰å‹å‚ T å†…è”å‡½æ•°ï¼Œå¹¶ä»¥è¿™ä¸ªå‹å‚ä½œä¸ºæ‰©å±•å‡½æ•° apply çš„ç›®æ ‡ï¼Œå¹¶ä¸”æ¥å—ä¸€ä¸ª T.() -&gt; Unit çš„ Lambda ç±»å‹ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œæœ€ç»ˆè¿”å›å‹å‚å®é™…å€¼ Tã€‚å¯ä»¥çœ‹åˆ°å…¶å®æœ€æ ¸å¿ƒçš„éƒ¨åˆ†å…¶å®æ˜¯ T.() -&gt; Unitï¼Œä¹Ÿå°±æ˜¯æ¥å—ä¸€ä¸ªæ— å‚æ•°æ— è¿”å›å€¼çš„ Lambdaï¼Œå…¶ä½œç”¨å°±ç›¸å½“äºæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè€Œè¿™ä¸ª Lambda ä¹Ÿæ˜¯åŸºäºå‹å‚ T æ‰©å±•å‡ºæ¥çš„å‡½æ•°ã€‚å› æ­¤æˆ‘ä»¬ä¼ å…¥å›è°ƒå‡½æ•°çš„æ—¶å€™å°±å¯ä»¥åƒè¿™ä¹ˆå†™ï¼šexample.apply {}ï¼Œåœ¨ {} ä¹‹å†…çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬å›è°ƒå‡½æ•°éœ€è¦æ‰§è¡Œçš„ä»£ç äº†ã€‚ ä¾‹å­ 12345678910111213val example = Example()example.apply &#123; // è¿™é‡Œçš„ `this` å®é™…ä¸ŠæŒ‡å‘çš„æ˜¯ `example` è¿™ä¸ªå®ä¾‹ this // è°ƒç”¨ä¸€æ¡è¢«å®šä¹‰åœ¨ `Example` ç±»ä¸‹çš„å‡½æ•°å®é™…ä¸Šå¯ä»¥ä» this.test() // ç®€åŒ–æˆè¿™æ ·ï¼Œè€Œç±»ä¸‹æ–¹çš„å­—æ®µåˆ™ä¹Ÿæ˜¯ç›¸åŒåšæ³• test()&#125; å®é™…ä½¿ç”¨ ç„¶åæˆ‘ä»¬ä½¿ç”¨åœ¨ä¹‹å‰æåˆ°çš„ JavaFX ä¾‹å­ä¸Šï¼š 12345678910111213141516171819fun create() &#123; val label = Label(&quot;This is label&quot;).apply &#123; style(&quot;-fx-font-weight: bold;&quot;) textFill(Color.web(&quot;0069B1&quot;)) &#125; val rectangle = Rectangle(46.0, 18.0).apply &#123; arcHeight(10.0) arcWidth(10.0) fill(Color.web(&quot;#CCEEFF&quot;)) padding(Insets(2.0, 3.0, 2.0, 3.0)) &#125; val stack = StackPane().apply &#123; hgap(10) vgap(10) children.addAll(rectangle, label) &#125;&#125; æ„Ÿè§‰ä¸å¤Ÿï¼Ÿæˆ‘ä»¬è¿˜å¯ä»¥æ”¹æˆè¿™æ ·ï¼š 12345678910111213141516171819fun create() &#123; val label = val rectangle = val stack = StackPane().apply &#123; hgap(10) vgap(10) children.addAll( Label(&quot;This is label&quot;).apply &#123; style(&quot;-fx-font-weight: bold;&quot;) textFill(Color.web(&quot;0069B1&quot;)) &#125;, Rectangle(46.0, 18.0).apply &#123; arcHeight(10.0) arcWidth(10.0) fill(Color.web(&quot;#CCEEFF&quot;)) padding(Insets(2.0, 3.0, 2.0, 3.0)) &#125;) &#125;&#125;","categories":[],"tags":[{"name":"DSL","slug":"dsl","permalink":"https://a9032676.github.io/tags/dsl/"},{"name":"ä»£ç è®¾è®¡","slug":"ä»£ç è®¾è®¡","permalink":"https://a9032676.github.io/tags/ä»£ç è®¾è®¡/"},{"name":"Kotlin","slug":"kotlin","permalink":"https://a9032676.github.io/tags/kotlin/"},{"name":"Lambda","slug":"lambda","permalink":"https://a9032676.github.io/tags/lambda/"}]},{"title":"DSLï¼šè§£é‡Šä¸è®¾è®¡ç›®çš„","slug":"DSL-explain-and-goals","date":"2018-11-21T14:29:41.000Z","updated":"2019-07-22T09:41:28.162Z","comments":true,"path":"2018/11/21/DSL-explain-and-goals/","link":"","permalink":"https://a9032676.github.io/2018/11/21/DSL-explain-and-goals/","excerpt":"","text":"ä¸€ç›´ä»¥æ¥ï¼Œå¯¹äº DSL è¿™ä¸ªè¯å¤§å®¶åº”è¯¥æ˜¯æ—¢ç†Ÿæ‚‰è€Œåˆé™Œç”Ÿï¼Œç†Ÿæ‚‰çš„æ˜¯å®ƒå†™èµ·æ¥åƒå•¥æ ·ï¼Œé™Œç”Ÿçš„æ˜¯ä»–çš„æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œè€Œä»Šå¤©ä½œä¸ºç¬¬ä¸€ç¯‡åœ¨åšå®¢å‘å¸ƒçš„æ–‡ç« å°±æƒ³æ¥æ¢è®¨ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚ DSL çš„æœ¬è´¨ä¸è§£é‡Š é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ Wiki æ˜¯æ€ä¹ˆè§£é‡Š DSL çš„ï¼š &gt; A domain-specific language (DSL) is a computer language specialized to a particular application domain. This is in contrast to a general-purpose language (GPL), which is broadly applicable across domains ï¼ˆåŸæ–‡å‡ºå¤„ï¼šWiki: Domain-Specific Languageï¼‰ è€ŒæŠŠä¸Šé¢æ‹©è¦ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šDSL (é¢†åŸŸç‰¹å®šè¯­è¨€) æ˜¯ä¸“æ³¨äºæŸä¸ªåº”ç”¨ç¨‹åºé¢†åŸŸçš„è®¡ç®—æœºè¯­è¨€ï¼Œè€Œå¯¹æ¯”èµ· GPL ï¼ˆé€šç”¨ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œä¾‹å¦‚ Java / C / Python...ï¼‰ï¼ŒDSL èƒ½å¤Ÿåœ¨ç‰¹å®šçš„åº”ç”¨é¢†åŸŸä¸­å…·æœ‰æ›´å¤§çš„æ‹“å±•æ€§åŠå…¶å»¶ä¼¸æ€§ã€‚çœ‹åˆ°è¿™é‡Œå¯èƒ½è¿˜æœ‰éƒ¨åˆ†äººä¸æ˜ç™½è¿™åˆ°åº•æ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Œå…¶å®ç®€å•æ¥è¯´ DSL å°±æ˜¯ä¸ºè§£å†³ç‰¹å®šé¢†åŸŸçš„äº‹æƒ…è€Œç”Ÿçš„ï¼Œå¦‚æœæ›¾ç»ä½œä¸º Java ç¨‹åºå‘˜ï¼Œä½ å¯èƒ½ä¼šç»å¸¸ä½¿ç”¨ Maven è·Ÿ Gradle è¿™ä¸¤æ¬¾åŒ…ç®¡ç†å™¨å»ç®¡ç†ä½ çš„ä¾èµ–/åº“ï¼Œè€Œé€è¿‡å¯¹æ¯”ä¸¤è€…è¯­æ³•ä¸Šæ›´æ˜¯å¤§ç›¸å¾„åº­ï¼Œä¾‹å¦‚ Maven é‡‡ç”¨çš„æ˜¯ XML è¯­æ³•çš„æ ‡è®°è¯­è¨€ï¼Œå› æ­¤æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹åœ¨ Maven å¼•ç”¨ä¾èµ–éƒ¨åˆ†æ˜¯æ€ä¹ˆå†™çš„ï¼š 12345&lt;dependency&gt; &lt;groupId&gt;group&lt;/groupId&gt; &lt;artifactId&gt;project&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt;&lt;/dependency&gt; è€Œ Gradle åˆ™æ˜¯åƒè¿™æ ·: 123dependencies &#123; compile group: &quot;group&quot;, name: &quot;project&quot;, version: 1.0.0&#125; ä»ä¸Šè¿°çœ‹åˆ°çš„ä¸¤ç§åŒ…ç®¡ç†æ¡†æ¶è¯­æ³•å·®åˆ«éƒ½å¾ˆå¤§ï¼Œè€Œ Gradle å¯¹æ¯”èµ· Maven è€Œè¨€åˆ™è¦æ›´ä¸ºç®€æ´ï¼Œè€Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæœ€ä¸»è¦çš„å…¶å®å°±æ˜¯è¿™ä¸¤è€…å„è‡ªé‡‡ç”¨äº†ä¸åŒç§ç±»çš„è¯­æ³•ï¼ŒMaven é‡‡ç”¨çš„æ˜¯åŸºäº GPL çš„æ ‡è®°è¯­è¨€ï¼š GPML (General-purpose markup languages)ï¼Œè€Œ GPML è¿˜åŒ…å«äº† XML YAML GML ç­‰ç­‰ã€‚é™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨ Maven é‡Œæ’å…¥æœ‰å…³æ„å»ºæ—¶æ‰§è¡Œçš„ä»£ç æ®µï¼ˆæˆ–æ˜¯Taskï¼‰æ˜¯éå¸¸å›°éš¾çš„ï¼Œå…¶ XML è¯­æ³•çš„ç”šè‡³éƒ½å¤§å¤§æŸç¼šäº†ä»£ç ç¼–å†™ï¼Œä¾‹å¦‚ if switch è¿™ä¸€ç±»æµç¨‹æ§åˆ¶çš„è¯­æ³•åœ¨ XML ä¸Šå®ç°å°±æ˜¾å¾—éå¸¸å›°éš¾æˆ–æ ¹æœ¬æ— æ³•å®ç°ã€‚ç”±æ­¤å¯è§ï¼Œå…¶å® Maven è™½ç„¶ç”¨äº† XMLï¼Œä½†å…¶æœ¬èº«æ˜¯åŸºäº GPML çš„ï¼Œå¯¹äºè§£å†³ç‰¹å®šèŒƒç•´çš„é—®é¢˜å°±æ˜¾å¾—ç‰¹åˆ«çš„ç¹çäº†ã€‚ è€Œ Gradle å‘¢ï¼Ÿé™¤äº†ç»§æ‰¿è‡ª Groovy çš„è¯­æ³•å¤–ï¼Œå…¶æœ¬èº«è¿˜å…·æœ‰ä¸€ä¸ªç‰¹æ€§ï¼šä¸ºè§£å†³ Javaï¼ŒKotlinï¼ŒScala ç­‰åŒ…é—®é¢˜ç®¡ç†è€Œæ¨å‡ºçš„ä¸€ç§ç‹¬ç«‹æ¡†æ¶ï¼Œä¹Ÿå°±ä¸‰åŸºäº DSL è®¾è®¡æ€æƒ³å‡ºæ¥çš„äº§ç‰©ï¼Œè€Œç›¸è¾ƒäº Mavenï¼ŒGradle å…¶æœ¬èº«å°±æ˜¯ä¸ºäº†è§£å†³ç‰¹å®šé¢†åŸŸçš„é—®é¢˜è€Œç”Ÿçš„ï¼Œå…¶æœ¬èº«è¯­æ³•ä¸Šå¯¼å…¥åŒ…æ›´ç®€æ´ï¼Œè€Œä¸”å¯ä»¥æ¯” Maven æ›´æ–¹ä¾¿è§£å†³æ’å…¥æ„å»ºæœŸçš„ä»£ç æ®µï¼Œè§£å†³äº† Maven ä¸€ç›´ä»¥æ¥éš¾ä»¥å®ç°çš„åœ°æ–¹ã€‚ DSL çš„è®¾è®¡ç›®æ ‡ DSL çš„è®¾è®¡ç†åº”ååˆ†è°¨æ…ï¼Œåœ¨è½¯ä»¶å·¥ç¨‹ä¸Šï¼ŒDSL æ€»æ˜¯è´Ÿè´£è§£å†³é¢†åŸŸç›¸å…³é—®é¢˜åŠåº”ç”¨äºç‰¹å®šé¢†åŸŸã€‚ä¸€ä¸ªè‰¯å¥½çš„ DSL è¯­æ³•è®¾è®¡å¯ä»¥æœ‰åŠ©äºåœ¨ç‰¹å®šé¢†åŸŸæ›´æ–¹ä¾¿åœ°ä½¿ç”¨ï¼Œä»¥è‡³äºæå‡å¼€å‘æ•ˆç‡ã€‚ ä»¥ä¸‹ç»™å‡ºåœ¨ Wiki ç»™å‡ºçš„ä¸‰ä¸ªè®¾è®¡é‡ç‚¹çš„å®šä¹‰ï¼Œè€Œä¸”å‡æ˜¯æœ‰åˆ«äº GPL çš„ï¼š domain-specific languages are less comprehensive. domain-specific languages are much more expressive in their domain. domain-specific languages should exhibit minimal redundancy. DSL ç›¸è¾ƒäº GPL è€Œè¨€èŒƒç”¨æ€§è¦ä½ï¼Œå› ä¸ºéœ€è¦ä¸“æ³¨äºå•ä¸ªç‰¹å®šé¢†åŸŸ DSL ç†åº”åœ¨ç‰¹å®šé¢†åŸŸä¸Šæ¯”åŸºäº GPL å‘æŒ¥çš„ä½œç”¨æ›´å¤§æ›´å¹¿ DSL åº”è¯¥è¦å°½å¯èƒ½åœ°å°†ï¼ˆè¯­æ³•è®¾è®¡ï¼‰å†—ä½™éƒ¨åˆ†æœ€å°åŒ–ï¼Œæ›´ä¸ºç®€å• æ€»ç»“ æ€»æ‹¬è€Œè¨€ï¼Œè™½ç„¶ GPL å‡ºæ¥çš„äº§ç‰©å¯ä»¥å¹¿æ³›åœ°åº”ç”¨åœ¨ä¸åŒé¢†åŸŸä¸Šï¼Œä¾‹å¦‚åºåˆ—åŒ–ï¼Œä¸Šè¿°çš„ Maven åŒ…ç®¡ç†ç­‰ï¼Œæœ‰äº›æ—¶å€™è¿™ç±»è¯­è¨€åœ¨è§£å†³æŸäº›é¢†åŸŸä¸Šçš„ç‰¹å®šé—®é¢˜å°±å¾ˆå›°éš¾ã€‚è€Œ DSL åˆ™å¯ä»¥è§£å†³æŸäº›ç‰¹å®šé¢†åŸŸçš„é—®é¢˜ï¼Œè€Œä¸”æå‡ºè¯¥é¢†åŸŸåº”ç”¨æ›´ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼Œå°±å¦‚åŒä¸Šè¿°çš„ Gradleï¼ŒSQL ç­‰ã€‚ å»¶ä¼¸é˜…è¯» Domain-specific language - Wikipedia What is domain specific language? Anybody using it? And in what way? - StackOverflow Domain-Specific Languages - Jetbrains","categories":[],"tags":[{"name":"DSL","slug":"dsl","permalink":"https://a9032676.github.io/tags/dsl/"},{"name":"ä»£ç è®¾è®¡","slug":"ä»£ç è®¾è®¡","permalink":"https://a9032676.github.io/tags/ä»£ç è®¾è®¡/"}]}]}